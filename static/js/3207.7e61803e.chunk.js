"use strict";(self.webpackChunkbts=self.webpackChunkbts||[]).push([[3207],{54575:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var r=n(9950),i=n(14857),a=n(22433),o=n(89379),l=n(5544),c=n(95537),s=n(66059),u=n(72145),d=n(97539),f=n(14341),p=n(16673),h=n(41608),m=n(4721),g=n(82310),v=n(93802),x=n(29031),b=n(13045),A=n(66146),w=n(60172),S=(n(22413),n(17656)),y=n(44414),j={};const k=function(e){var t=(0,r.useState)(0),n=(0,l.A)(t,2),i=n[0],a=(n[1],(0,r.useState)(1)),k=(0,l.A)(a,2),_=k[0],C=k[1],O=(0,r.useState)(10),R=(0,l.A)(O,2),I=R[0],L=R[1],D=(0,r.useState)([]),P=(0,l.A)(D,2),E=P[0],F=P[1],N=(0,r.useState)([]),T=(0,l.A)(N,2),W=T[0],B=T[1],z=(0,r.useState)(""),M=(0,l.A)(z,2),V=M[0],J=M[1],q=(0,r.useState)(""),H=(0,l.A)(q,2),K=H[0],U=H[1],X=r.useState(new Date),G=(0,l.A)(X,2),Q=(G[0],G[1],r.useState(new Date)),Y=(0,l.A)(Q,2),Z=(Y[0],Y[1],(0,r.useState)(!1)),$=(0,l.A)(Z,2),ee=$[0],te=$[1],ne=(0,r.useState)(null),re=(0,l.A)(ne,2),ie=re[0],ae=re[1],oe=(0,r.useState)([]),le=(0,l.A)(oe,2),ce=le[0],se=le[1],ue=(0,r.useState)(null),de=(0,l.A)(ue,2),fe=(de[0],de[1]),pe=((0,x.dh)().enqueueSnackbar,(0,p.useHistory)());function he(e,t,n){h.A.post("".concat(m.J,"/api/management/lms/exam/get_exam_list/?limit=").concat(t,"&offset=").concat(e*t).concat(""!==V?"&".concat(V):""),{search:"text",order:"name"}).then((function(e){200===e.status&&(F(e.data.results),C(e.data.count),se(e.data.results))})).catch((function(e){console.log(e)}))}(0,r.useEffect)((function(){J(""),U("")}),[ee]),(0,r.useEffect)((function(){0===V.length&&0===K.length&&!0===ee&&(he(i,I,""),te(!1))}),[V,K]),(0,r.useEffect)((function(){B([{name:"name",label:"\u0646\u0627\u0645 \u0622\u0632\u0645\u0648\u0646",options:{filter:!1}},{name:"date",label:"\u062a\u0627\u0631\u06cc\u062e \u0628\u0631\u06af\u0632\u0627\u0631\u06cc",options:{filter:!0,customBodyRender:function(e){return(0,y.jsx)("div",{children:(0,g.A)(e)})}}},{name:"start_time",label:"\u0633\u0627\u0639\u062a \u0628\u0631\u06af\u0632\u0627\u0631\u06cc",options:{filter:!0}},{name:"question_count",label:"\u062a\u0639\u062f\u0627\u062f \u0633\u0648\u0627\u0644\u0627\u062a"},{name:"duration",label:"\u0645\u062f\u062a \u0632\u0645\u0627\u0646 \u0622\u0632\u0645\u0648\u0646"},{name:"category.name",label:"\u0646\u0648\u0639 \u0622\u0632\u0645\u0648\u0646",options:{filter:!0}},{name:"status",label:"\u0648\u0636\u0639\u06cc\u062a",options:{customBodyRender:function(e){return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(c.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:"3px 6px !important",background:JSON.parse(e.data).back,borderRadius:"4px",color:JSON.parse(e.data).text},children:(0,y.jsx)(s.A,{style:{color:JSON.parse(e.data).text,paddingLeft:0},children:e.label})})})},filter:!0,filterType:"custom",filterOptions:{display:function(e,t,n,r){return(0,y.jsxs)(u.A,{children:[(0,y.jsx)(s.A,{sx:{transform:"none",position:"initial"},children:"\u0648\u0636\u0639\u06cc\u062a"}),(0,y.jsx)(d.A,{disablePortal:!0,id:"status",options:ce,renderInput:function(e){return(0,y.jsx)(f.A,(0,o.A)((0,o.A)({},e),{},{placeholder:"\u0648\u0636\u0639\u06cc\u062a"}))},disableClearable:!0,value:e[n],onChange:function(i,a){fe(a.id),e[n][0]=a.label,t(e[n],n,r)},isOptionEqualToValue:function(e,t){return e.name===t.name},sx:{background:"#F2F2F2",borderRadius:"4px",".MuiOutlinedInput-root":{padding:"5px"}},noOptionsText:"\u0645\u0648\u0631\u062f\u06cc \u06cc\u0627\u0641\u062a \u0646\u0634\u062f"})]})}}}}])}),[ie,ce]);var me=(0,r.useState)(!1),ge=(0,l.A)(me,2),ve=ge[0],xe=ge[1];return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(v.A,{title:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(w.A,{style:{fontWeight:"700",color:"#00346D",display:"flex",alignItems:"center",gap:"8px",marginLeft:"8px"},children:"\u0644\u06cc\u0633\u062a"}),(0,y.jsxs)(b.A,{style:{width:"150px"},onClick:function(){xe(!0)},children:[(0,y.jsx)(A.A,{}),(0,y.jsx)("div",{children:"\u0622\u0632\u0645\u0648\u0646 \u062c\u062f\u06cc\u062f"})]})]}),data:E,columns:W,rowsPerPage:I,setRowsPerPage:L,count:_,page:i,filter:V,sort:K,selectableRows:!1,setReset:te,onRowSelectionChange:function(e,t,n){},onRowsDelete:function(e,t){},getData:function(e,t,n){return he(e,t)},onRowClick:function(e,t){return function(e,t){var n=null===E||void 0===E?void 0:E.filter((function(t){return(null===t||void 0===t?void 0:t.name)===e[0]}))[0].ref_num;pe.push({pathname:"/management/lms/exam/details",state:{data:n}})}(e)},onFilterChange:function(e,t,n){return function(e,t,n){switch(e){case"name":t[1][0]?j.name__icontains=t[1][0]:(delete j.name__icontains,ae(null));break;case"create_date":t[2][0]?j.create_date__gte=t[2][0]:delete j.create_date__gte;break;case"user":t[3][0]?j.user__icontains=t[2][0]:(delete j.user__icontains,ae(null));break;case"status.label":t[6][0]?j["status.label__icontains"]=ce.filter((function(e){return e.label===t[6][0]}))[0].name:(delete j["status.label"],ae(null))}var r=j,i=Object.keys(r).map((function(e){return[e,r[e]]}));console.log("filterItems",i);var a="";(null===i||void 0===i?void 0:i.length)>0&&i.map((function(e,t){a=a+e[0]+"="+decodeURIComponent(e[1])+"&"})),a.replace("&&","&"),J(a)}(e,t)},onColumnSortChange:function(e,t){return function(e,t){var n={};switch(e){case"project_num":n.project_num=t;break;case"name":n.name=t;break;case"create_date":n.start_date=t}var r=n,i=Object.keys(r).map((function(e){return[e,r[e]]})),a="";(null===i||void 0===i?void 0:i.length)>0&&i.map((function(e,t){a="asc"===e[1]?e[0]:"-".concat(e[0])})),console.log(a),U(a)}(e,t)}}),(0,y.jsx)(S.A,{open:ve,handleClose:function(){return xe(!1)},title:"\u0622\u0632\u0645\u0648\u0646 \u062c\u062f\u06cc\u062f ",data:E,type:"new"})]})};const _=function(){return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(k,{})})};const C=function(e){var t=(0,i.A)(),n=((0,p.useParams)().id,(0,a.A)(t.breakpoints.down("md")));return(0,y.jsx)(y.Fragment,{children:n?"<Mobile Exmas />":(0,y.jsx)(_,{})})}},74745:(e,t,n)=>{n.d(t,{A:()=>v});var r=n(98587),i=n(58168),a=n(9950),o=n(60533),l=n(88465),c=n(97497),s=n(59254),u=n(48283),d=n(40777),f=n(44414),p=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],h=(0,s.Ay)("div",{name:"MuiDivider",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})((function(e){var t=e.theme,n=e.ownerState;return(0,i.A)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},n.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},n.light&&{borderColor:t.vars?"rgba(".concat(t.vars.palette.dividerChannel," / 0.08)"):(0,c.X4)(t.palette.divider,.08)},"inset"===n.variant&&{marginLeft:72},"middle"===n.variant&&"horizontal"===n.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===n.variant&&"vertical"===n.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===n.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},n.flexItem&&{alignSelf:"stretch",height:"auto"})}),(function(e){var t=e.ownerState;return(0,i.A)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}})}),(function(e){var t=e.theme,n=e.ownerState;return(0,i.A)({},n.children&&"vertical"!==n.orientation&&{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider)}})}),(function(e){var t=e.theme,n=e.ownerState;return(0,i.A)({},n.children&&"vertical"===n.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((t.vars||t).palette.divider)}})}),(function(e){var t=e.ownerState;return(0,i.A)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),m=(0,s.Ay)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:function(e,t){var n=e.ownerState;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})((function(e){var t=e.theme,n=e.ownerState;return(0,i.A)({display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)")},"vertical"===n.orientation&&{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")})})),g=a.forwardRef((function(e,t){var n=(0,u.A)({props:e,name:"MuiDivider"}),a=n.absolute,c=void 0!==a&&a,s=n.children,g=n.className,v=n.component,x=void 0===v?s?"div":"hr":v,b=n.flexItem,A=void 0!==b&&b,w=n.light,S=void 0!==w&&w,y=n.orientation,j=void 0===y?"horizontal":y,k=n.role,_=void 0===k?"hr"!==x?"separator":void 0:k,C=n.textAlign,O=void 0===C?"center":C,R=n.variant,I=void 0===R?"fullWidth":R,L=(0,r.A)(n,p),D=(0,i.A)({},n,{absolute:c,component:x,flexItem:A,light:S,orientation:j,role:_,textAlign:O,variant:I}),P=function(e){var t=e.absolute,n=e.children,r=e.classes,i=e.flexItem,a=e.light,o=e.orientation,c=e.textAlign,s={root:["root",t&&"absolute",e.variant,a&&"light","vertical"===o&&"vertical",i&&"flexItem",n&&"withChildren",n&&"vertical"===o&&"withChildrenVertical","right"===c&&"vertical"!==o&&"textAlignRight","left"===c&&"vertical"!==o&&"textAlignLeft"],wrapper:["wrapper","vertical"===o&&"wrapperVertical"]};return(0,l.A)(s,d.K,r)}(D);return(0,f.jsx)(h,(0,i.A)({as:x,className:(0,o.A)(P.root,g),role:_,ref:t,ownerState:D},L,{children:s?(0,f.jsx)(m,{className:P.wrapper,ownerState:D,children:s}):null}))}));g.muiSkipListHighlight=!0;const v=g},66146:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(9950),i=n(89561),a=n.n(i);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=(0,r.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,a=e.size,c=void 0===a?24:a,s=l(e,["color","size"]);return r.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),r.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))}));c.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},c.displayName="Plus";const s=c}}]);