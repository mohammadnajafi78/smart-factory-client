"use strict";(self.webpackChunkbts=self.webpackChunkbts||[]).push([[7459],{25358:(e,t,n)=>{n.d(t,{A:()=>c});n(9950);var o=n(95537),r=n(36233),a=n(93999),i=n(12833),s=n(44414);function c(e){var t=e.activeStep,n=e.steps;return(0,s.jsx)(o.A,{sx:{width:"100%"},children:(0,s.jsx)(r.A,{activeStep:t,alternativeLabel:!0,sx:{".MuiStepIcon-root":{color:"#F2F2F2"}},children:n.map((function(e){return(0,s.jsx)(a.A,{children:(0,s.jsx)(i.A,{children:e})},e)}))})})}},95266:(e,t,n)=>{n.d(t,{A:()=>d});var o=n(64467),r=(n(9950),n(59254)),a=n(95537),i=n(61763),s=n(86551),c=n(44414),l=(0,r.Ay)(i.A)((function(e){var t;e.theme;return t={height:10,borderRadius:0,marginTop:"5px"},(0,o.A)(t,"&.".concat(s.A.colorPrimary),{backgroundColor:"#D3D2D2"}),(0,o.A)(t,"& .".concat(s.A.bar),{borderRadius:5,backgroundColor:"#00AAB5"}),t}));function d(e){return(0,c.jsx)(a.A,{sx:{flexGrow:1},children:(0,c.jsx)(l,{variant:"determinate",value:e.percentage})})}},87459:(e,t,n)=>{n.r(t),n.d(t,{default:()=>V});var o=n(89379),r=n(9950),a=n(14857),i=n(22433),s=n(60436),c=n(5544),l=n(95537),d=n(14341),u=n(6445),h=n(29031),p=n(16673),f=n(46565),m=n(37072),x=n(4534),v=n(95266),A=n(41608),j=n(4721),g=n(58926),b=n(44414);const C=function(e){var t=e.location.state,n=(0,r.useState)(null),o=(0,c.A)(n,2),a=o[0],i=o[1],C=(0,h.dh)().enqueueSnackbar,y=(0,p.useHistory)();return(0,r.useEffect)((function(){A.A.get("".concat(j.J,"/api/project/design/get_questions/?ref_num=").concat(null===t||void 0===t?void 0:t.ref_num)).then((function(e){200===e.status&&i(e.data)})).catch((function(e){417===e.response.status?C(e.response.data.error,{variant:"error"}):C("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))}),[]),(0,b.jsxs)(l.A,{sx:{mt:"20px"},children:[(0,b.jsx)(x.A,{style:{marginRight:"10px"},children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0641\u0646\u06cc \u0637\u0631\u0627\u062d\u06cc"}),(0,b.jsx)(v.A,{percentage:40}),(0,b.jsx)(u.l1,{initialValues:{},validationSchema:g.Ik().shape({}),onSubmit:function(e,n){n.setErrors;var o=n.setSubmitting;o(!0);for(var r=[],i=function(){var e=(0,c.A)(l[s],2),t=e[0],n=e[1];r.push({id:t,type:a.filter((function(e){return e.id==t}))[0].question_type,answer:n})},s=0,l=Object.entries(e);s<l.length;s++)i();A.A.post("".concat(j.J,"/api/project/design/add_question_response/"),{ref_num:null===t||void 0===t?void 0:t.ref_num,questions:r}).then((function(e){200===e.status&&(y.push({pathname:"/project/request/new/design/mapInfo",state:t}),o(!1))})).catch((function(e){417===e.response.status?C(e.response.data.error,{variant:"error"}):C("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})})),o(!1)},children:function(e){var t=e.errors,n=(e.handleBlur,e.handleChange),o=e.handleSubmit,r=e.setFieldValue,i=(e.isSubmitting,e.touched),c=e.values;return(0,b.jsxs)("form",{noValidate:!0,onSubmit:o,style:{display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"0px",gap:"159px",position:"absolute",width:"90%",height:"88%",left:"20px",top:"67px"},children:[(0,b.jsxs)(l.A,{children:[(0,b.jsx)(l.A,{sx:{mt:2},children:(0,b.jsx)(m.A,{children:"\u0641\u0631\u0645 \u0647\u0627\u06cc \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0641\u0646\u06cc \u0637\u0631\u0627\u062d\u06cc \u0631\u0627 \u067e\u0631 \u06a9\u0646\u06cc\u062f"})}),a&&(0,b.jsx)(l.A,{sx:{mt:2},children:a.map((function(e){return(0,b.jsxs)(b.Fragment,{children:["TEXT"===e.question_type&&(0,b.jsxs)(l.A,{sx:{mt:2},children:[(0,b.jsx)(m.A,{children:e.question}),(0,b.jsx)(d.A,{placeholder:"\u0645\u0633\u0627\u062d\u062a \u0632\u06cc\u0631\u0628\u0646\u0627",fullWidth:!0,id:e.id,value:c[e.id],onChange:n,error:Boolean(i[e.id]&&t[e.id]),helperText:i[e.id]&&t[e.id]})]}),"SINGLE_CHOICE"===e.question_type&&(0,b.jsx)(l.A,{sx:{mt:2},children:(0,b.jsxs)(FormControl,{children:[(0,b.jsx)(FormLabel,{sx:{color:"black",fontWeight:400},children:e.question}),(0,b.jsx)(RadioGroup,{defaultValue:"female",name:e.id,id:e.id,onChange:function(t){r(e.id,t.target.value)},value:c[e.id],children:e.items.map((function(e){return(0,b.jsx)(FormControlLabel,{value:e.id,control:(0,b.jsx)(Radio,{}),label:e.text})}))})]})}),"MULTI_CHOICE"===e.question_type&&(0,b.jsxs)(l.A,{sx:{mt:2},children:[(0,b.jsx)(FormLabel,{sx:{color:"black",fontWeight:400},children:e.question}),(0,b.jsx)(FormGroup,{children:e.items.map((function(t){return(0,b.jsx)(FormControlLabel,{control:(0,b.jsx)(Checkbox,{id:e.id,name:t.id,onChange:function(n){if(c[e.id])r(e.id,[].concat((0,s.A)(c[e.id]),[t.id]));else{var o=[];o.push(t.id),r(e.id,o)}}}),label:t.text})}))})]})]})}))})]}),(0,b.jsx)(l.A,{sx:{display:"inline-flex",justifyContent:"center",gap:2},children:(0,b.jsx)(f.A,{type:"submit",children:"\u0628\u0639\u062f\u06cc"})})]})}})]})};var y=n(13045),k=n(60172),S=n(38986),w=n(25358),q=n(29277),z=n(72145),_=n(30609),I=n(7233),R=n(51496),M=n(49535),E=n(81169);const F=function(e){var t=e.location.state,n=(0,r.useState)(null),o=(0,c.A)(n,2),a=o[0],i=o[1],f=(0,h.dh)().enqueueSnackbar,m=(0,p.useHistory)();return(0,r.useEffect)((function(){A.A.get("".concat(j.J,"/api/project/design/get_questions/?ref_num=").concat(null===t||void 0===t?void 0:t.ref_num)).then((function(e){200===e.status&&i(e.data)})).catch((function(e){417===e.response.status?f(e.response.data.error,{variant:"error"}):f("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))}),[]),(0,b.jsxs)(l.A,{sx:{mt:"80px",ml:"120px",width:"400px",background:"white",padding:"20px",height:"650px",borderRadius:"8px"},children:[(0,b.jsx)(S.A,{style:{marginRight:"10px"},children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0641\u0646\u06cc \u0637\u0631\u0627\u062d\u06cc"}),(0,b.jsx)(w.A,{activeStep:1,steps:["","","","",""]}),(0,b.jsx)(u.l1,{initialValues:{},validationSchema:g.Ik().shape({}),onSubmit:function(e,n){n.setErrors;var o=n.setSubmitting;o(!0);for(var r=[],i=function(){var e=(0,c.A)(l[s],2),t=e[0],n=e[1];r.push({id:t,type:a.filter((function(e){return e.id==t}))[0].question_type,answer:n})},s=0,l=Object.entries(e);s<l.length;s++)i();A.A.post("".concat(j.J,"/api/project/design/add_question_response/"),{ref_num:null===t||void 0===t?void 0:t.ref_num,questions:r}).then((function(e){200===e.status&&(m.push({pathname:"/project/request/new/design/mapInfo",state:t}),o(!1))})).catch((function(e){417===e.response.status?f(e.response.data.error,{variant:"error"}):f("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})})),o(!1)},children:function(e){var t=e.errors,n=(e.handleBlur,e.handleChange),o=e.handleSubmit,r=e.setFieldValue,i=(e.isSubmitting,e.touched),c=e.values;return(0,b.jsxs)("form",{noValidate:!0,onSubmit:o,style:{display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"0px",height:"540px",gap:"20px",overflow:"auto"},children:[(0,b.jsxs)(l.A,{children:[(0,b.jsx)(l.A,{sx:{mt:2},children:(0,b.jsx)(k.A,{children:"\u0641\u0631\u0645 \u0647\u0627\u06cc \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0641\u0646\u06cc \u0637\u0631\u0627\u062d\u06cc \u0631\u0627 \u067e\u0631 \u06a9\u0646\u06cc\u062f"})}),a&&(0,b.jsx)(l.A,{sx:{mt:2},children:a.map((function(e){return(0,b.jsxs)(b.Fragment,{children:["TEXT"===e.question_type&&(0,b.jsxs)(l.A,{sx:{mt:2},children:[(0,b.jsx)(k.A,{children:e.question}),(0,b.jsx)(d.A,{placeholder:"\u0645\u0633\u0627\u062d\u062a \u0632\u06cc\u0631\u0628\u0646\u0627",fullWidth:!0,id:e.id,value:c[e.id],onChange:n,error:Boolean(i[e.id]&&t[e.id]),helperText:i[e.id]&&t[e.id]})]}),"SINGLE_CHOICE"===e.question_type&&(0,b.jsx)(l.A,{sx:{mt:2},children:(0,b.jsxs)(z.A,{children:[(0,b.jsx)(q.A,{sx:{color:"black",fontWeight:400},children:e.question}),(0,b.jsx)(M.A,{defaultValue:"female",name:e.id,id:e.id,onChange:function(t){r(e.id,t.target.value)},value:c[e.id],children:e.items.map((function(e){return(0,b.jsx)(I.A,{value:e.id,control:(0,b.jsx)(E.A,{}),label:e.text})}))})]})}),"MULTI_CHOICE"===e.question_type&&(0,b.jsxs)(l.A,{sx:{mt:2},children:[(0,b.jsx)(q.A,{sx:{color:"black",fontWeight:400},children:e.question}),(0,b.jsx)(_.A,{children:e.items.map((function(t){return(0,b.jsx)(I.A,{control:(0,b.jsx)(R.A,{id:e.id,name:t.id,onChange:function(n){if(c[e.id])r(e.id,[].concat((0,s.A)(c[e.id]),[t.id]));else{var o=[];o.push(t.id),r(e.id,o)}}}),label:t.text})}))})]})]})}))})]}),(0,b.jsx)(l.A,{sx:{display:"inline-flex",justifyContent:"center",gap:2},children:(0,b.jsx)(y.A,{type:"submit",children:"\u0628\u0639\u062f\u06cc"})})]})}})]})};const V=function(e){var t=(0,a.A)(),n=(0,i.A)(t.breakpoints.down("md"));return(0,b.jsx)(b.Fragment,{children:n?(0,b.jsx)(C,(0,o.A)({},e)):(0,b.jsx)(F,(0,o.A)({},e))})}},51496:(e,t,n)=>{n.d(t,{A:()=>S});var o=n(64467),r=n(98587),a=n(58168),i=n(9950),s=n(60533),c=n(88465),l=n(97497),d=n(46282),u=n(65471),h=n(44414);const p=(0,u.A)((0,h.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),f=(0,u.A)((0,h.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),m=(0,u.A)((0,h.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var x=n(61676),v=n(48283),A=n(59254),j=n(24377),g=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],b=(0,A.Ay)(d.A,{shouldForwardProp:function(e){return(0,A.ep)(e)||"classes"===e},name:"MuiCheckbox",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.indeterminate&&t.indeterminate,"default"!==n.color&&t["color".concat((0,x.A)(n.color))]]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,a.A)({color:(n.vars||n).palette.text.secondary},!r.disableRipple&&{"&:hover":{backgroundColor:n.vars?"rgba(".concat("default"===r.color?n.vars.palette.action.activeChannel:n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,l.X4)("default"===r.color?n.palette.action.active:n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==r.color&&(t={},(0,o.A)(t,"&.".concat(j.A.checked,", &.").concat(j.A.indeterminate),{color:(n.vars||n).palette[r.color].main}),(0,o.A)(t,"&.".concat(j.A.disabled),{color:(n.vars||n).palette.action.disabled}),t))})),C=(0,h.jsx)(f,{}),y=(0,h.jsx)(p,{}),k=(0,h.jsx)(m,{});const S=i.forwardRef((function(e,t){var n,o,l=(0,v.A)({props:e,name:"MuiCheckbox"}),d=l.checkedIcon,u=void 0===d?C:d,p=l.color,f=void 0===p?"primary":p,m=l.icon,A=void 0===m?y:m,S=l.indeterminate,w=void 0!==S&&S,q=l.indeterminateIcon,z=void 0===q?k:q,_=l.inputProps,I=l.size,R=void 0===I?"medium":I,M=l.className,E=(0,r.A)(l,g),F=w?z:A,V=w?z:u,H=(0,a.A)({},l,{color:f,indeterminate:w,size:R}),O=function(e){var t=e.classes,n=e.indeterminate,o=e.color,r=e.size,i={root:["root",n&&"indeterminate","color".concat((0,x.A)(o)),"size".concat((0,x.A)(r))]},s=(0,c.A)(i,j.w,t);return(0,a.A)({},t,s)}(H);return(0,h.jsx)(b,(0,a.A)({type:"checkbox",inputProps:(0,a.A)({"data-indeterminate":w},_),icon:i.cloneElement(F,{fontSize:null!=(n=F.props.fontSize)?n:R}),checkedIcon:i.cloneElement(V,{fontSize:null!=(o=V.props.fontSize)?o:R}),ownerState:H,ref:t,className:(0,s.A)(O.root,M)},E,{classes:O}))}))},24377:(e,t,n)=>{n.d(t,{A:()=>i,w:()=>a});var o=n(1763),r=n(423);function a(e){return(0,r.A)("MuiCheckbox",e)}const i=(0,o.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"])},49535:(e,t,n)=>{n.d(t,{A:()=>f});var o=n(5544),r=n(58168),a=n(98587),i=n(9950),s=n(30609),c=n(31506),l=n(48733),d=n(57272),u=n(31014),h=n(44414),p=["actions","children","defaultValue","name","onChange","value"];const f=i.forwardRef((function(e,t){var n=e.actions,f=e.children,m=e.defaultValue,x=e.name,v=e.onChange,A=e.value,j=(0,a.A)(e,p),g=i.useRef(null),b=(0,l.A)({controlled:A,default:m,name:"RadioGroup"}),C=(0,o.A)(b,2),y=C[0],k=C[1];i.useImperativeHandle(n,(function(){return{focus:function(){var e=g.current.querySelector("input:not(:disabled):checked");e||(e=g.current.querySelector("input:not(:disabled)")),e&&e.focus()}}}),[]);var S=(0,c.A)(t,g),w=(0,u.A)(x),q=i.useMemo((function(){return{name:w,onChange:function(e){k(e.target.value),v&&v(e,e.target.value)},value:y}}),[w,v,k,y]);return(0,h.jsx)(d.A.Provider,{value:q,children:(0,h.jsx)(s.A,(0,r.A)({role:"radiogroup",ref:S},j,{children:f}))})}))},57272:(e,t,n)=>{n.d(t,{A:()=>o});const o=n(9950).createContext(void 0)},64340:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(9950),r=n(57272);function a(){return o.useContext(r.A)}},81169:(e,t,n)=>{n.d(t,{A:()=>_});var o=n(64467),r=n(98587),a=n(58168),i=n(9950),s=n(60533),c=n(88465),l=n(97497),d=n(46282),u=n(48283),h=n(65471),p=n(44414);const f=(0,h.A)((0,p.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),m=(0,h.A)((0,p.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked");var x=n(59254),v=(0,x.Ay)("span")({position:"relative",display:"flex"}),A=(0,x.Ay)(f)({transform:"scale(1)"}),j=(0,x.Ay)(m)((function(e){var t=e.theme,n=e.ownerState;return(0,a.A)({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},n.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})})}));const g=function(e){var t=e.checked,n=void 0!==t&&t,o=e.classes,r=void 0===o?{}:o,i=e.fontSize,s=(0,a.A)({},e,{checked:n});return(0,p.jsxs)(v,{className:r.root,ownerState:s,children:[(0,p.jsx)(A,{fontSize:i,className:r.background,ownerState:s}),(0,p.jsx)(j,{fontSize:i,className:r.dot,ownerState:s})]})};var b=n(61676),C=n(25920),y=n(64340),k=n(95601),S=["checked","checkedIcon","color","icon","name","onChange","size","className"],w=(0,x.Ay)(d.A,{shouldForwardProp:function(e){return(0,x.ep)(e)||"classes"===e},name:"MuiRadio",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["color".concat((0,b.A)(n.color))]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,a.A)({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,l.X4)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&(0,o.A)({},"&.".concat(k.A.checked),{color:(t.vars||t).palette[n.color].main}),(0,o.A)({},"&.".concat(k.A.disabled),{color:(t.vars||t).palette.action.disabled}))}));var q=(0,p.jsx)(g,{checked:!0}),z=(0,p.jsx)(g,{});const _=i.forwardRef((function(e,t){var n,o,l,d,h=(0,u.A)({props:e,name:"MuiRadio"}),f=h.checked,m=h.checkedIcon,x=void 0===m?q:m,v=h.color,A=void 0===v?"primary":v,j=h.icon,g=void 0===j?z:j,_=h.name,I=h.onChange,R=h.size,M=void 0===R?"medium":R,E=h.className,F=(0,r.A)(h,S),V=(0,a.A)({},h,{color:A,size:M}),H=function(e){var t=e.classes,n=e.color,o={root:["root","color".concat((0,b.A)(n))]};return(0,a.A)({},t,(0,c.A)(o,k.q,t))}(V),O=(0,y.A)(),B=f,L=(0,C.A)(I,O&&O.onChange),N=_;return O&&("undefined"===typeof B&&(l=O.value,B="object"===typeof(d=h.value)&&null!==d?l===d:String(l)===String(d)),"undefined"===typeof N&&(N=O.name)),(0,p.jsx)(w,(0,a.A)({type:"radio",icon:i.cloneElement(g,{fontSize:null!=(n=z.props.fontSize)?n:M}),checkedIcon:i.cloneElement(x,{fontSize:null!=(o=q.props.fontSize)?o:M}),ownerState:V,classes:H,name:N,checked:B,onChange:L,ref:t,className:(0,s.A)(H.root,E)},F))}))},95601:(e,t,n)=>{n.d(t,{A:()=>i,q:()=>a});var o=n(1763),r=n(423);function a(e){return(0,r.A)("MuiRadio",e)}const i=(0,o.A)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary"])}}]);