"use strict";(self.webpackChunkbts=self.webpackChunkbts||[]).push([[1631],{65280:(e,t,n)=>{n.d(t,{A:()=>i});n(9950);const i=n.p+"static/media/SaleSubCategory.407397de9b17e005bc211702ed411d9b.svg"},32533:(e,t,n)=>{n.d(t,{A:()=>i});n(9950);const i=n.p+"static/media/close2.156c019559a9154008590ff719ec156c.svg"},66835:(e,t,n)=>{n.d(t,{A:()=>i});n(9950);const i=n.p+"static/media/credit-card.ee2e6bd48817d7c4ddf13daadde11275.svg"},2911:(e,t,n)=>{n.d(t,{A:()=>i});n(9950);const i=n.p+"static/media/description.cc13f94f0745ee2d688533346430e705.svg"},91975:(e,t,n)=>{n.d(t,{A:()=>i});n(9950);const i=n.p+"static/media/done2.104163e80bd81daece1e236fe706f777.svg"},24595:(e,t,n)=>{n.d(t,{A:()=>i});n(9950);const i=n.p+"static/media/info.13bf50160666dd92c19573b305a41d34.svg"},34990:(e,t,n)=>{n.d(t,{A:()=>i});n(9950);const i=n.p+"static/media/saleCategory.60725e3679a99becf9937cf797a802f6.svg"},56867:(e,t,n)=>{n.d(t,{A:()=>i});n(9950);const i=n.p+"static/media/smallSize.3bfc770d423f8ec021da964bc5fea4a6.svg"},41631:(e,t,n)=>{n.r(t),n.d(t,{default:()=>pe});var i=n(89379),r=n(5544),l=n(9950),a=n(54493),s=n(4139),o=n(60172),d=n(12116),c=n(16673),p=n(95537),x=n(74745),u=n(4534),h=n(37072),f=n(24232),A=n(44414);function g(e){var t,n,i=e.data,r=i;return(0,A.jsx)(p.A,{style:{position:"relative"},children:r&&(0,A.jsxs)(p.A,{children:[(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[(0,A.jsx)(u.A,{style:{color:"#231F20",fontSize:"18px",marginBottom:"20px"},children:"\u0644\u06cc\u0633\u062a \u0633\u0641\u0627\u0631\u0634\u0627\u062a"}),i&&(0,A.jsx)(f.A,{data:null===i||void 0===i||null===(t=i.files)||void 0===t?void 0:t.filter((function(e){return"EXCEL"!==e.subject}))})]}),(0,A.jsx)(p.A,{sx:{height:"300px",overflow:"auto"},children:null===r||void 0===r||null===(n=r.products)||void 0===n?void 0:n.map((function(e,t){return(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"column",marginBottom:"15px"},children:[(0,A.jsxs)(p.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,A.jsxs)(p.A,{sx:{display:"inline-flex"},children:[(0,A.jsx)(h.A,{style:{color:"#00346D",fontSize:"12px",fontWeight:400},children:e.product_type.name_translate.item_fa}),(0,A.jsx)(h.A,{style:{color:"#6685A7",fontSize:"12px",fontWeight:200,direction:"ltr"},children:"(".concat(e.product_detail.size,")")})]}),(0,A.jsx)(h.A,{style:{color:"#00346D",fontSize:"14px",fontWeight:400},children:"".concat(e.price," ")})]}),(0,A.jsxs)(p.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,A.jsxs)(p.A,{sx:{display:"inline-flex"},children:[(0,A.jsx)(h.A,{style:{color:"#00346D",fontSize:"14px",fontWeight:400},children:e.package_quantity}),(0,A.jsx)(h.A,{style:{color:"#00AAB5",fontSize:"14px",fontWeight:300},children:"x"}),(0,A.jsx)(h.A,{style:{color:"#6685A7",fontSize:"14px",fontWeight:300},children:"SINGULAR"===e.package_type?e.product_detail.singular_package_detail.translate_detail.item_fa:"SMALL"===e.package_type?e.product_detail.small_plural_package_detail.translate_detail.item_fa:e.product_detail.large_plural_package_detail.translate_detail.item_fa})]}),(0,A.jsx)(h.A,{style:{color:"#335D8A",fontSize:"14px",fontWeight:400},children:"".concat(e.total_price," ")})]})]})}))}),(0,A.jsx)(x.A,{}),(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",mt:2},children:[(0,A.jsx)(h.A,{style:{color:"#335D8A",fontSize:"14px",fontWeight:400},children:"\u0645\u062c\u0645\u0648\u0639"}),(0,A.jsx)(h.A,{style:{color:"#335D8A",fontSize:"16px",fontWeight:700},children:"".concat(r.final_price," ")})]})]})})}var m=n(64467),y=n(67535),j=n(14341),b=n(70821),_=n(41608),v=n(4721),w=n(51085),S=n(2911),C=n(21689),D=n(24595),k=n(13045),F=n(21333),I=n(6878),z=n(82310),E=n(82878),R=n(97539),W=n(46483),B=n(46565),L=n(95374),O=n(6445),N=n(58926),P=n(32459),T=n(63571),H=n(1314),J=n(34200),G=n(6252),q=n(11131),V=n(82669),M=n(29031);function U(e){var t=(0,l.useState)(),n=(0,r.A)(t,2),a=(n[0],n[1],(0,l.useState)(null)),s=(0,r.A)(a,2),o=(s[0],s[1],(0,l.useState)([])),d=(0,r.A)(o,2),x=d[0],u=d[1],f=(0,c.useHistory)(),g=(0,M.dh)().enqueueSnackbar,b=e.location.state.dataPayment?e.location.state.dataPayment:e.location.state.data;e.location.state.new;return(0,l.useEffect)((function(){_.A.get("".concat(v.J,"/api/orders/payment/get_payment_type/")).then((function(e){200===e.status&&u(e.data)})).catch((function(e){417===e.response.status?g(e.response.data.error,{variant:"error"}):g("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))}),[]),(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(p.A,{sx:{display:"flex",flexDirection:"column",padding:"16px 20px",justifyContent:"space-between",height:"inherit",gap:"10px",width:"100%"},children:(0,A.jsxs)(p.A,{children:[(0,A.jsxs)(p.A,{sx:{display:"inline-flex"},onClick:function(){f.goBack()},children:[(0,A.jsx)(L.A,{color:"#335D8A",width:"15px"}),(0,A.jsx)(h.A,{style:{color:"#335D8A",fontSize:"14px"},children:"\u0628\u0627\u0632\u06af\u0634\u062a"})]}),(0,A.jsx)(O.l1,{initialValues:{type:"",date:"",number:"",code:"",price:"",file:""},validationSchema:N.Ik().shape({}),onSubmit:function(t,n){n.setErrors;var i=n.setSubmitting,r=n.resetForm;i(!0);var l=new FormData;l.append("order_num",e.location.state.data.order_num),l.append("payment_type",t.type),l.append("payment_date",(0,G.A)(t.date)),l.append("bill_number",t.number),l.append("track_number",t.code),l.append("payment_amount",t.price),l.append("file",t.file),_.A.post("".concat(v.J,"/api/orders/payment/add_payment/"),l).then((function(t){200===t.status?(i(!1),r(),f.push({pathname:"/sale/send/detail/payment",state:{data:e.location.state.data}})):i(!1)})).catch((function(e){i(!1),417===e.response.status?g(e.response.data.error,{variant:"error"}):g("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))},children:function(e){var t,n=e.errors,r=e.handleBlur,l=e.handleChange,a=e.handleSubmit,s=e.isSubmitting,o=e.touched,d=e.values,c=e.setFieldValue;return(0,A.jsxs)("form",{noValidate:!0,onSubmit:a,style:(t={display:"flex",flexDirection:"column",justifyContent:"space-between",paddingLeft:"10px",width:"100%",height:"100%"},(0,m.A)(t,"height","30vh"),(0,m.A)(t,"overflow","auto"),t),children:[(0,A.jsxs)(p.A,{sx:{mb:"60px"},children:[(0,A.jsx)(h.A,{children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0648\u0627\u0631\u06cc\u0632 \u062e\u0648\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f:"}),(0,A.jsxs)(p.A,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gridColumnGap:"20px",gridRowGap:"10px"},children:[(0,A.jsxs)(p.A,{sx:{mt:1,mb:1},children:[(0,A.jsx)(h.A,{style:{color:"#A7A5A6",marginBottom:"3px"},children:"\u0646\u062d\u0648\u0647 \u067e\u0631\u062f\u0627\u062e\u062a"}),x.length>0&&(0,A.jsx)(R.A,{disablePortal:!0,fullWidth:!0,options:x,value:x.filter((function(e){return e.name===d.type}))[0],renderInput:function(e){return(0,A.jsx)(j.A,(0,i.A)((0,i.A)({},e),{},{placeholder:"\u0646\u062d\u0648\u0647 \u06cc \u067e\u0631\u062f\u0627\u062e\u062a",fullWidth:!0,id:"type",error:Boolean(o.type&&n.type),helperText:o.type&&n.type}))},getOptionLabel:function(e){return e.label},onChange:function(e,t){c("type",t?t.name:"")},sx:{".MuiOutlinedInput-root":{padding:"5px"}},noOptionsText:"\u0645\u0648\u0631\u062f\u06cc \u06cc\u0627\u0641\u062a \u0646\u0634\u062f"})]}),(0,A.jsxs)(p.A,{sx:{mt:1,mb:1},children:[(0,A.jsx)(h.A,{style:{color:"#A7A5A6"},children:"\u062a\u0627\u0631\u06cc\u062e"}),(0,A.jsx)(P.$,{dateAdapter:H.A,children:(0,A.jsx)(T.l,{id:"date",value:d.date,onChange:function(e){c("date",e)},renderInput:function(e){return(0,A.jsx)(j.A,(0,i.A)((0,i.A)({},e),{},{sx:{background:"#F2F2F2",margin:"3px"},fullWidth:!0,error:Boolean(o.date&&n.date),helperText:o.date&&n.date}))}})})]}),(0,A.jsxs)(p.A,{sx:{mt:1,mb:1},children:[(0,A.jsx)(h.A,{style:{color:"#A7A5A6"},children:"\u0634\u0645\u0627\u0631\u0647 \u0633\u0646\u062f/\u0686\u06a9"}),(0,A.jsx)(j.A,{id:"number","aria-describedby":"my-helper-text",fullWidth:!0,placeholder:"\u0634\u0645\u0627\u0631\u0647 \u0633\u0646\u062f/\u0686\u06a9",sx:{background:"#F2F2F2",borderRadius:"4px",margin:"3px 3px"},value:d.number,onChange:l,onBlur:r})]}),(0,A.jsxs)(p.A,{sx:{mt:1,mb:1},children:[(0,A.jsx)(h.A,{style:{color:"#A7A5A6"},children:"\u06a9\u062f \u067e\u06cc\u06af\u06cc\u0631\u06cc"}),(0,A.jsx)(j.A,{id:"code","aria-describedby":"my-helper-text",fullWidth:!0,placeholder:"\u06a9\u062f \u067e\u06cc\u06af\u06cc\u0631\u06cc",sx:{background:"#F2F2F2",borderRadius:"4px",margin:"3px 3px"},value:d.code,onChange:l,onBlur:r})]}),(0,A.jsxs)(p.A,{sx:{mt:1,mb:1},children:[(0,A.jsx)(h.A,{style:{color:"#A7A5A6"},children:"\u0645\u0628\u0644\u063a"}),(0,A.jsx)(j.A,{id:"price","aria-describedby":"my-helper-text",fullWidth:!0,placeholder:"\u0645\u0628\u0644\u063a",sx:{background:"#F2F2F2",borderRadius:"4px",margin:"3px 3px"},value:d.price,onChange:l,onBlur:r,InputProps:{endAdornment:(0,A.jsx)(W.A,{position:"end",tabIndex:-1,children:(0,A.jsx)(h.A,{style:{color:"#335D8A",fontSize:"16px",fontWeight:400}})})}})]}),(0,A.jsxs)(p.A,{sx:{mt:1,mb:1},children:[(0,A.jsx)(h.A,{style:{color:"#A7A5A6",marginBottom:"4px"},children:"\u062a\u0635\u0648\u06cc\u0631 \u0641\u06cc\u0634 \u0648\u0627\u0631\u06cc\u0632/\u0686\u06a9"}),d.file?(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"center",padding:"20px 10px 5px",gap:"20px",height:"320px",border:"2px dashed #99DDE1",borderRadius:"4px"},children:[(0,A.jsx)("img",{src:URL.createObjectURL(d.file),width:"300px",height:"180px",style:{borderRadius:"8px"}}),(0,A.jsx)(h.A,{style:{color:"#335D8A",fontSize:"11px"},children:d.file.name}),(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-around",width:"100%"},children:[(0,A.jsxs)(y.A,{sx:{fontFamily:"IRANSans",fontSize:"12px",fontWeight:400},onClick:function(){c("file","")},children:[(0,A.jsx)("img",{src:q.A,width:"13px",height:"13px"}),"\u067e\u0627\u06a9 \u06a9\u0631\u062f\u0646"]}),(0,A.jsxs)(y.A,{sx:{fontFamily:"IRANSans",fontSize:"12px",fontWeight:400},component:"label",onChange:function(e){c("file",event.target.files[0])},children:[(0,A.jsx)("img",{src:V.A,width:"13px",height:"20px"}),"\u062a\u063a\u06cc\u06cc\u0631 \u0641\u0627\u06cc\u0644",(0,A.jsx)("input",{type:"file",hidden:!0,multiple:!1})]})]})]}):(0,A.jsxs)(B.A,{disabled:!1,variant:"outlined",component:"label",onChange:function(e){c("file",e.target.files[0])},children:[(0,A.jsx)(J.A,{}),"\u0622\u067e\u0644\u0648\u062f \u0641\u0627\u06cc\u0644",(0,A.jsx)("input",{type:"file",hidden:!0})]})]})]})]}),(0,A.jsxs)(p.A,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:2,width:"100%",background:"white",padding:"10px"},children:[b.payment_num?(0,A.jsx)(B.A,{disabled:!1,variant:"outlined",onClick:function(){_.A.get("".concat(v.J,"/api/orders/payment/remove_payment?payment_num=").concat(b.payment_num)).then((function(e){200===e.status&&f.goBack()})).catch((function(e){417===e.response.status?g(e.response.data.error,{variant:"error"}):g("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))},children:"\u062d\u0630\u0641"}):(0,A.jsx)(B.A,{disabled:!1,variant:"outlined",onClick:function(){f.goBack()},children:"\u0644\u063a\u0648"}),(0,A.jsx)(B.A,{disabled:s,type:"submit",loading:s,children:"\u0630\u062e\u06cc\u0631\u0647 \u0627\u0637\u0644\u0627\u0639\u0627\u062a "})]})]})}})]})})})}function Y(e){var t,n=(0,l.useState)(),a=(0,r.A)(n,2),s=(a[0],a[1],(0,l.useState)(null)),o=(0,r.A)(s,2),d=(o[0],o[1],(0,l.useState)([])),x=(0,r.A)(d,2),u=x[0],f=x[1],g=(0,c.useHistory)(),m=e.location.state.dataPayment?e.location.state.dataPayment:e.location.state.data,b=(e.location.state.new,(0,M.dh)().enqueueSnackbar);return(0,l.useEffect)((function(){_.A.get("".concat(v.J,"/api/orders/payment/get_payment_type/")).then((function(e){200===e.status&&f(e.data)})).catch((function(e){417===e.response.status?b(e.response.data.error,{variant:"error"}):b("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))}),[]),(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(p.A,{sx:{display:"flex",flexDirection:"column",padding:"16px 20px",justifyContent:"space-between",height:"inherit",gap:"10px",width:"100%",background:"white"},children:(0,A.jsxs)(p.A,{children:[(0,A.jsxs)(p.A,{sx:{display:"inline-flex"},onClick:function(){g.goBack()},children:[(0,A.jsx)(L.A,{color:"#335D8A",width:"15px"}),(0,A.jsx)(h.A,{style:{color:"#335D8A",fontSize:"14px"},children:"\u0628\u0627\u0632\u06af\u0634\u062a"})]}),(0,A.jsx)(O.l1,{initialValues:{type:null===m||void 0===m||null===(t=m.payment_type)||void 0===t?void 0:t.name,date:new Date(null===m||void 0===m?void 0:m.payment_date),number:null===m||void 0===m?void 0:m.bill_number,code:null===m||void 0===m?void 0:m.track_number,price:null===m||void 0===m?void 0:m.payment_amount,file:null===m||void 0===m?void 0:m.file},validationSchema:N.Ik().shape({}),onSubmit:function(t,n){n.setErrors;var i=n.setSubmitting,r=n.resetForm;i(!0);var l=new FormData;l.append("payment_num",m.payment_num),l.append("payment_type",t.type),l.append("payment_date",(0,G.A)(t.date)),l.append("bill_number",t.number),l.append("track_number",t.code),l.append("payment_amount",t.price),l.append("file",new Blob([JSON.stringify(t.file)],{type:"application/json"})),_.A.post("".concat(v.J,"/api/orders/payment/update_payment/"),l).then((function(t){200===t.status?(i(!1),r(),g.push({pathname:"/sale/send/detail/payment",state:{data:e.location.state.data}})):i(!1)})).catch((function(e){i(!1),417===e.response.status?b(e.response.data.error,{variant:"error"}):b("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))},children:function(e){var t=e.errors,n=e.handleBlur,r=e.handleChange,l=e.handleSubmit,a=e.isSubmitting,s=e.touched,o=e.values,d=e.setFieldValue;return(0,A.jsxs)("form",{noValidate:!0,onSubmit:l,style:{display:"flex",flexDirection:"column",justifyContent:"space-between",paddingLeft:"10px",width:"100%",height:"30vh",overflow:"auto"},children:[(0,A.jsxs)(p.A,{sx:{mb:"60px"},children:[(0,A.jsx)(h.A,{children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0648\u0627\u0631\u06cc\u0632 \u062e\u0648\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f:"}),(0,A.jsxs)(p.A,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gridColumnGap:"20px",gridRowGap:"10px"},children:[(0,A.jsxs)(p.A,{sx:{mt:1,mb:1},children:[(0,A.jsx)(h.A,{style:{color:"#A7A5A6"},children:"\u0646\u062d\u0648\u0647 \u067e\u0631\u062f\u0627\u062e\u062a"}),u.length>0&&(0,A.jsx)(R.A,{disablePortal:!0,fullWidth:!0,options:u,value:u.filter((function(e){return e.name===o.type}))[0],renderInput:function(e){return(0,A.jsx)(j.A,(0,i.A)((0,i.A)({},e),{},{placeholder:"\u0646\u062d\u0648\u0647 \u06cc \u067e\u0631\u062f\u0627\u062e\u062a",fullWidth:!0,id:"type",error:Boolean(s.type&&t.type),helperText:s.type&&t.type}))},getOptionLabel:function(e){return e.label},onChange:function(e,t){d("type",t?t.name:"")},sx:{".MuiOutlinedInput-root":{padding:"5px"}},noOptionsText:"\u0645\u0648\u0631\u062f\u06cc \u06cc\u0627\u0641\u062a \u0646\u0634\u062f"})]}),(0,A.jsxs)(p.A,{sx:{mt:1,mb:1},children:[(0,A.jsx)(h.A,{style:{color:"#A7A5A6"},children:"\u062a\u0627\u0631\u06cc\u062e"}),(0,A.jsx)(P.$,{dateAdapter:H.A,children:(0,A.jsx)(T.l,{id:"date",value:o.date,onChange:function(e){d("date",e)},renderInput:function(e){return(0,A.jsx)(j.A,(0,i.A)((0,i.A)({},e),{},{sx:{background:"#F2F2F2",margin:"3px"},fullWidth:!0,error:Boolean(s.date&&t.date),helperText:s.date&&t.date}))}})})]}),(0,A.jsxs)(p.A,{sx:{mt:1,mb:1},children:[(0,A.jsx)(h.A,{style:{color:"#A7A5A6"},children:"\u0634\u0645\u0627\u0631\u0647 \u0633\u0646\u062f/\u0686\u06a9"}),(0,A.jsx)(j.A,{id:"number","aria-describedby":"my-helper-text",fullWidth:!0,placeholder:"\u0634\u0645\u0627\u0631\u0647 \u0633\u0646\u062f/\u0686\u06a9",sx:{background:"#F2F2F2",borderRadius:"4px",margin:"3px 3px"},value:o.number,onChange:r,onBlur:n})]}),(0,A.jsxs)(p.A,{sx:{mt:1,mb:1},children:[(0,A.jsx)(h.A,{style:{color:"#A7A5A6"},children:"\u06a9\u062f \u067e\u06cc\u06af\u06cc\u0631\u06cc"}),(0,A.jsx)(j.A,{id:"code","aria-describedby":"my-helper-text",fullWidth:!0,placeholder:"\u06a9\u062f \u067e\u06cc\u06af\u06cc\u0631\u06cc",sx:{background:"#F2F2F2",borderRadius:"4px",margin:"3px 3px"},value:o.code,onChange:r,onBlur:n})]}),(0,A.jsxs)(p.A,{sx:{mt:1,mb:1},children:[(0,A.jsx)(h.A,{style:{color:"#A7A5A6"},children:"\u0645\u0628\u0644\u063a"}),(0,A.jsx)(j.A,{id:"price","aria-describedby":"my-helper-text",fullWidth:!0,placeholder:"\u0645\u0628\u0644\u063a",sx:{background:"#F2F2F2",borderRadius:"4px",margin:"3px 3px"},value:o.price,onChange:r,onBlur:n,InputProps:{endAdornment:(0,A.jsx)(W.A,{position:"end",tabIndex:-1,children:(0,A.jsx)(h.A,{style:{color:"#335D8A",fontSize:"16px",fontWeight:400}})})}})]}),(0,A.jsxs)(p.A,{sx:{mt:1,mb:1},children:[(0,A.jsx)(h.A,{style:{color:"#A7A5A6",marginBottom:"4px"},children:"\u062a\u0635\u0648\u06cc\u0631 \u0641\u06cc\u0634 \u0648\u0627\u0631\u06cc\u0632/\u0686\u06a9"}),o.file?(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"center",padding:"20px 10px 5px",gap:"20px",height:"320px",border:"2px dashed #99DDE1",borderRadius:"4px"},children:[(0,A.jsx)("img",{src:URL.createObjectURL(o.file),width:"300px",height:"180px",style:{borderRadius:"8px"}}),(0,A.jsx)(h.A,{style:{color:"#335D8A",fontSize:"11px"},children:o.file.name}),(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-around",width:"100%"},children:[(0,A.jsxs)(y.A,{sx:{fontFamily:"IRANSans",fontSize:"12px",fontWeight:400},onClick:function(){d("file","")},children:[(0,A.jsx)("img",{src:q.A,width:"13px",height:"13px"}),"\u067e\u0627\u06a9 \u06a9\u0631\u062f\u0646"]}),(0,A.jsxs)(y.A,{sx:{fontFamily:"IRANSans",fontSize:"12px",fontWeight:400},component:"label",onChange:function(e){d("file",event.target.files[0])},children:[(0,A.jsx)("img",{src:V.A,width:"13px",height:"20px"}),"\u062a\u063a\u06cc\u06cc\u0631 \u0641\u0627\u06cc\u0644",(0,A.jsx)("input",{type:"file",hidden:!0,multiple:!1})]})]})]}):(0,A.jsxs)(B.A,{disabled:!1,variant:"outlined",component:"label",onChange:function(e){d("file",e.target.files[0])},children:[(0,A.jsx)(J.A,{}),"\u0622\u067e\u0644\u0648\u062f \u0641\u0627\u06cc\u0644",(0,A.jsx)("input",{type:"file",hidden:!0})]})]})]})]}),(0,A.jsxs)(p.A,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:2,width:"100%",padding:"10px"},children:[m.payment_num?(0,A.jsx)(B.A,{disabled:!1,variant:"outlined",onClick:function(){_.A.get("".concat(v.J,"/api/orders/payment/remove_payment?payment_num=").concat(m.payment_num)).then((function(e){200===e.status&&g.goBack()})).catch((function(e){417===e.response.status?b(e.response.data.error,{variant:"error"}):b("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))},children:"\u062d\u0630\u0641"}):(0,A.jsx)(B.A,{disabled:!1,variant:"outlined",onClick:function(){g.goBack()},children:"\u0644\u063a\u0648"}),(0,A.jsx)(B.A,{disabled:a,type:"submit",loading:a,children:"\u0630\u062e\u06cc\u0631\u0647 \u0627\u0637\u0644\u0627\u0639\u0627\u062a "})]})]})}})]})})})}var $=n(66835),X=n(66146);const K=(0,n(65471).A)((0,A.jsx)("path",{d:"M12 2c-4 0-8 .5-8 4v9.5C4 17.43 5.57 19 7.5 19l-1.15 1.15c-.31.31-.09.85.36.85H7.8c.13 0 .26-.05.35-.15L10 19h4l1.85 1.85c.09.09.22.15.35.15h1.09c.45 0 .67-.54.35-.85L16.5 19c1.93 0 3.5-1.57 3.5-3.5V6c0-3.5-4-4-8-4zM7.5 17c-.83 0-1.5-.67-1.5-1.5S6.67 14 7.5 14s1.5.67 1.5 1.5S8.33 17 7.5 17zm3.5-7H6V6h5v4zm5.5 7c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm1.5-7h-5V6h5v4z"}),"TrainRounded");var Q=(0,b.A)((function(e){return{paper:{borderRadius:"20px 20px 0px 0px",zIndex:999,position:"fixed",bottom:0,minHeight:"40%"}}}));function Z(e){var t=(0,l.useState)(),n=(0,r.A)(t,2),i=(n[0],n[1],(0,l.useState)(null)),a=(0,r.A)(i,2),s=a[0],d=a[1],x=(0,c.useHistory)(),u=(Q(),(0,l.useState)(!1)),h=(0,r.A)(u,2),f=h[0],g=h[1],m=(0,M.dh)().enqueueSnackbar;return console.log("props data",e),(0,l.useEffect)((function(){_.A.get("".concat(v.J,"/api/orders/payment/get_order_payments/?order_num=").concat(e.data.order_num)).then((function(e){200===e.status&&d(e.data)})).catch((function(e){417===e.response.status?m(e.response.data.error,{variant:"error"}):m("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))}),[]),(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(p.A,{sx:{display:"flex",flexDirection:"column",padding:"10px",justifyContent:"space-between",alignItems:"center",height:"37vh",overflow:"auto",gap:"10px",width:"100%",background:"white"},children:(0,A.jsxs)(p.A,{sx:{width:"100%"},children:[(0,A.jsxs)(p.A,{sx:{display:"inline-flex"},onClick:function(){x.goBack()},children:[(0,A.jsx)(L.A,{color:"#335D8A",width:"15px"}),(0,A.jsx)(o.A,{style:{color:"#335D8A",fontSize:"14px"},children:"\u0628\u0627\u0632\u06af\u0634\u062a"})]}),null!==s&&(0,A.jsxs)(p.A,{children:[s.length>0?(0,A.jsx)(p.A,{children:(0,A.jsxs)(p.A,{sx:{display:"flex",gap:"10px",flexDirection:"column",padding:"10px"},children:[(0,A.jsx)(o.A,{style:{fontSize:"14px"},children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0648\u0627\u0631\u06cc\u0632\u06cc \u0634\u0645\u0627:"}),s.map((function(t,n){return(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",gap:"80px",background:"#E6EBF0",borderRadius:"8px"},children:[(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start"},children:[(0,A.jsx)(p.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-end",padding:"0px",gap:"3px",borderRadius:"8px"},children:(0,A.jsxs)(p.A,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,A.jsx)(o.A,{style:{fontStyle:"normal",fontWeight:700,fontSize:"18px",lineHeight:"28px",textAlign:"right",color:"#00346D"},children:t.payment_amount}),(0,A.jsx)(o.A,{style:{fontStyle:"normal",fontWeight:400,fontSize:"14px",lineHeight:"20px",textAlign:"right",color:"#6685A7"},children:""})]})}),(0,A.jsx)(o.A,{style:{fontStyle:"normal",fontWeight:400,fontSize:"14px",lineHeight:"20px",textAlign:"right",color:"#335D8A"},children:t.payment_type.label})]}),(0,A.jsxs)(p.A,{sx:{display:"inline-flex",color:"#335D8A",cursor:"pointer"},onClick:function(){_.A.get("".concat(v.J,"/api/orders/payment/get_payment?payment_num=").concat(t.payment_num)).then((function(n){200===n.status&&(console.log("item",t),x.push({pathname:"/sale/send/detail/payment/edit2",state:{data:e.data,dataPayment:t}}))})).catch((function(e){417===e.response.status?m(e.response.data.error,{variant:"error"}):m("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))},children:[(0,A.jsx)(o.A,{style:{color:"#335D8A",padding:0,cursor:"pointer"},children:"\u0648\u06cc\u0631\u0627\u06cc\u0634"}),(0,A.jsx)(F.A,{style:{marginTop:"2px",color:"#335D8A"}})]})]})})),(0,A.jsxs)(y.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:"10px 12px",gap:"10px",background:"#DDF5F6",border:"1px solid #00AAB5",borderRadius:"4px",mt:2},onClick:function(){x.push({pathname:"/sale/send/detail/payment/add",state:{data:e.data,new:!0}})},children:[(0,A.jsx)(X.A,{}),(0,A.jsx)(o.A,{style:{color:"#00AAB5"},children:"\u0648\u0627\u0631\u06cc\u0632 \u062c\u062f\u06cc\u062f"})]})]})}):(0,A.jsx)(p.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,A.jsx)("img",{src:$.A}),(0,A.jsx)(o.A,{style:{fontWeight:400,fontSize:"14px",lineHeight:"20px",textAlign:"center",color:"#00346D",marginTop:"10px"},children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0648\u0627\u0631\u06cc\u0632\u06cc \u062e\u0648\u062f \u0631\u0627 \u0628\u0631\u0627\u06cc \u0627\u06cc\u0646 \u0633\u0641\u0627\u0631\u0634 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"}),(0,A.jsxs)(y.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:"10px 12px",gap:"10px",background:"#DDF5F6",border:"1px solid #00AAB5",borderRadius:"4px",mt:3},onClick:function(){x.push({pathname:"/sale/send/detail/payment/add",state:{data:e.data}})},children:[(0,A.jsx)(X.A,{}),(0,A.jsx)(o.A,{style:{color:"#00AAB5"},children:"\u062b\u0628\u062a \u0648\u0627\u0631\u06cc\u0632 \u062c\u062f\u06cc\u062f"})]})]})}),s.length>0&&(0,A.jsxs)(p.A,{sx:{display:"inline-flex",justifyContent:"center",gap:2,width:"100%",padding:"10px"},children:[(0,A.jsx)(k.A,{disabled:!1,variant:"outlined",onClick:function(){x.goBack()},type:"button",children:"\u0644\u063a\u0648"}),(0,A.jsx)(k.A,{loading:f,onClick:function(){g(K);var t=new FormData;t.append("order_num",e.data.order_num),t.append("order_action","Approve"),t.append("state","Payment"),_.A.post("".concat(v.J,"/api/orders/update_order_state/"),t).then((function(e){g(!1),200===e.status&&x.push("/sale/send")})).catch((function(e){g(!1),417===e.response.status?m(e.response.data.error,{variant:"error"}):m("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))},children:"\u0630\u062e\u06cc\u0631\u0647 \u0627\u0637\u0644\u0627\u0639\u0627\u062a"})]})]})]})})})}var ee=(0,b.A)((function(e){return{paper:{borderRadius:"20px 20px 0px 0px",zIndex:999,position:"fixed",bottom:0,minHeight:"40%"}}}));function te(e){var t=(0,l.useState)(),n=(0,r.A)(t,2),i=(n[0],n[1],(0,l.useState)(null)),a=(0,r.A)(i,2),s=a[0],d=a[1],x=(0,c.useHistory)(),u=(ee(),(0,l.useState)(!1)),h=(0,r.A)(u,2),f=h[0],g=h[1],m=(0,M.dh)().enqueueSnackbar;return(0,l.useEffect)((function(){_.A.get("".concat(v.J,"/api/orders/payment/get_order_payments/?order_num=").concat(e.location.state.data.order_num)).then((function(e){200===e.status&&d(e.data)})).catch((function(e){417===e.response.status?m(e.response.data.error,{variant:"error"}):m("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))}),[]),(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(p.A,{sx:{display:"flex",flexDirection:"column",padding:"16px 20px",justifyContent:"space-between",height:"35vh",gap:"10px",width:"100%",overflow:"auto"},children:(0,A.jsxs)(p.A,{children:[(0,A.jsxs)(p.A,{sx:{display:"inline-flex"},onClick:function(){x.goBack()},children:[(0,A.jsx)(L.A,{color:"#335D8A",width:"15px"}),(0,A.jsx)(o.A,{style:{color:"#335D8A",fontSize:"14px"},children:"\u0628\u0627\u0632\u06af\u0634\u062a"})]}),null!==s&&(0,A.jsxs)(p.A,{children:[(0,A.jsx)(p.A,{children:(0,A.jsxs)(p.A,{sx:{display:"flex",gap:"10px",flexDirection:"column"},children:[(0,A.jsx)(o.A,{style:{fontSize:"14px"},children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0648\u0627\u0631\u06cc\u0632\u06cc \u0634\u0645\u0627:"}),s.map((function(t,n){return(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",gap:"20px",background:"white",borderRadius:"8px"},children:[(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,A.jsx)(p.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-end",padding:"0px",gap:"3px",borderRadius:"8px"},children:(0,A.jsxs)(p.A,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,A.jsx)(o.A,{style:{fontStyle:"normal",fontWeight:700,fontSize:"18px",lineHeight:"28px",textAlign:"right",color:"#00346D",marginBottom:"10px"},children:t.payment_amount}),(0,A.jsx)(o.A,{style:{fontStyle:"normal",fontWeight:400,fontSize:"14px",lineHeight:"20px",textAlign:"right",color:"#6685A7"},children:""})]})}),(0,A.jsx)(o.A,{style:{fontStyle:"normal",fontWeight:400,fontSize:"14px",lineHeight:"20px",textAlign:"right",color:"#335D8A"},children:t.payment_type.label})]}),(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,A.jsx)(p.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:"3px 4px !important",background:"APPROVED"===t.payment_state.name?"#CCEEF0":"INITIAL"===t.payment_state.name?"#FFFFFF":"#FEEEEC",borderRadius:"4px",width:"100px",mb:1},children:(0,A.jsx)(o.A,{style:{color:"APPROVED"===(null===t||void 0===t?void 0:t.payment_state.name)?"#00AAB5":"INITIAL"===t.payment_state.name?"#00346D":"#F14950",fontSize:"12px",textAlign:"center",padding:0},children:null===t||void 0===t?void 0:t.payment_state.label})}),"REJECTED"===t.payment_state.name&&(0,A.jsxs)(p.A,{sx:{display:"inline-flex",color:"#335D8A"},onClick:function(){_.A.get("".concat(v.J,"/api/orders/payment/get_payment?payment_num=").concat(t.payment_num)).then((function(n){200===n.status&&x.push({pathname:"/sale/send/detail/payment/edit2",state:{data:e.location.state.data,dataPayment:t}})})).catch((function(e){417===e.response.status?m(e.response.data.error,{variant:"error"}):m("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))},children:[(0,A.jsx)(o.A,{style:{color:"#335D8A",padding:0,fontSize:"12px",cursor:"pointer"},children:"\u0648\u06cc\u0631\u0627\u06cc\u0634"}),(0,A.jsx)(F.A,{style:{marginTop:"2px",color:"#335D8A"}})]})]})]})}))]})}),(0,A.jsxs)(p.A,{sx:{display:"inline-flex",justifyContent:"flex-end",gap:2,width:"100%",padding:"10px",marginTop:"20px"},children:[(0,A.jsx)(k.A,{disabled:!1,style:{width:"150px"},variant:"outlined",onClick:function(){x.goBack()},type:"button",children:"\u0644\u063a\u0648"}),(0,A.jsx)(k.A,{style:{width:"150px"},loading:f,onClick:function(){g(!0);var t=new FormData;t.append("order_num",e.location.state.data.order_num),t.append("order_action","Approve"),t.append("state","Payment"),_.A.post("".concat(v.J,"/api/orders/update_order_state/"),t).then((function(e){g(!1),200===e.status&&x.push("/sale/send")})).catch((function(e){g(!1),417===e.response.status?m(e.response.data.error,{variant:"error"}):m("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))},children:"\u0630\u062e\u06cc\u0631\u0647 \u0627\u0637\u0644\u0627\u0639\u0627\u062a"})]})]})]})})})}var ne=n(32533),ie=n(91975),re=n(60625),le=(n(34990),n(65280),n(56867)),ae=(0,b.A)((function(e){return{paper:{borderRadius:"20px 20px 0px 0px",zIndex:999,position:"fixed",bottom:0,minHeight:"40%"}}}));function se(e){var t,n,i,a=(0,l.useState)(null),s=(0,r.A)(a,2),o=s[0],d=s[1],c=(0,l.useState)(!1),u=(0,r.A)(c,2),f=u[0],g=u[1],b=(0,l.useState)(null),w=(0,r.A)(b,2),S=w[0],C=w[1],D=(0,l.useState)("SINGULAR"),k=(0,r.A)(D,2),F=k[0],I=k[1],z=(0,l.useState)(0),R=(0,r.A)(z,2),L=R[0],O=R[1],N=(0,l.useState)(!1),P=(0,r.A)(N,2),T=P[0],H=P[1],J=(ae(),(0,M.dh)().enqueueSnackbar);function G(){_.A.get("".concat(v.J,"/api/orders/get_order?order_num=").concat(e.orderNum)).then((function(e){200===e.status&&d(e.data)})).catch((function(e){417===e.response.status?J(e.response.data.error,{variant:"error"}):J("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))}return(0,l.useEffect)((function(){G(),I("SINGULAR")}),[]),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(p.A,{style:{position:"relative",marginTop:"10px"},children:o&&(0,A.jsx)(p.A,{children:(0,A.jsx)(p.A,{children:o.products.map((function(e,t){return(0,A.jsxs)(p.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,A.jsx)("img",{src:e.product_detail.type_detail.images[0].url,width:"36px",height:"36px"}),(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"column",marginBottom:"15px"},children:[(0,A.jsx)(p.A,{sx:{display:"flex"},children:(0,A.jsxs)(p.A,{sx:{display:"inline-flex"},children:[(0,A.jsx)(h.A,{style:{color:"#00346D",fontSize:"12px",fontWeight:400},children:e.product_type.name_translate.item_fa}),(0,A.jsx)(h.A,{style:{color:"#6685A7",fontSize:"12px",fontWeight:200,direction:"ltr"},children:"(".concat(e.product_detail.size,")")})]})}),(0,A.jsx)(p.A,{sx:{display:"flex"},children:(0,A.jsxs)(p.A,{sx:{display:"inline-flex"},children:[(0,A.jsx)(h.A,{style:{color:"#00346D",fontSize:"14px",fontWeight:400},children:e.package_quantity}),(0,A.jsx)(h.A,{style:{color:"#00AAB5",fontSize:"14px",fontWeight:300},children:"x"}),(0,A.jsx)(h.A,{style:{color:"#6685A7",fontSize:"14px",fontWeight:300},children:"SINGULAR"===e.package_type?e.product_detail.singular_package_detail.translate_detail.item_fa:"SMALL"===e.package_type?e.product_detail.small_plural_package_detail.translate_detail.item_fa:e.product_detail.large_plural_package_detail.translate_detail.item_fa})]})})]}),(0,A.jsx)(B.A,{variant:"outlined",style:{borderRadius:"8px",padding:"0px 12px",width:"63px",height:"20px",fontSize:"14px"},onClick:function(){C(e),g(!0)},children:"\u0627\u0646\u062a\u062e\u0627\u0628"})]})}))})})}),(0,A.jsx)(E.A,{open:f,handleClose:function(){return g(!1)},title:"\u0645\u062d\u0635\u0648\u0644",content:(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",padding:"20px 15px 0px !important",gap:"20px",background:"#FFFFFF",width:"100%"},children:[(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"0px",gap:"10px",width:"100%"},children:[(0,A.jsx)(h.A,{style:{color:"#00346D"},children:"\u062a\u0639\u062f\u0627\u062f \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u062e\u0648\u062f \u0627\u0632 \u0645\u062d\u0635\u0648\u0644 \u0631\u0627 \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f:"}),S&&S.small_plural_package_qty>0&&(0,A.jsxs)(p.A,{style:{display:"inline-flex"},children:[(0,A.jsx)("img",{src:le.A}),(0,A.jsx)(h.A,{style:{fontWeight:500,fontSize:"14px",color:"#00346D"},children:S.product_detail.small_plural_package_qty+" "+S.product_detail.singular_package_detail.translate_detail.item_fa}),(0,A.jsx)(h.A,{style:{fontWeight:400,fontSize:"14px",color:"#335D8A"},children:" \u062f\u0631 "+S.product_detail.small_plural_package_detail.translate_detail.item_fa})]}),S&&S.product_detail.large_plural_package_qty>0&&(0,A.jsxs)(p.A,{style:{display:"inline-flex"},children:[(0,A.jsx)("img",{src:le.A}),(0,A.jsx)(h.A,{style:{fontWeight:500,fontSize:"14px",color:"#00346D"},children:S.product_detail.large_plural_package_qty+" "+S.product_detail.singular_package_detail.translate_detail.item_fa}),(0,A.jsx)(h.A,{style:{fontWeight:400,fontSize:"14px",color:"#335D8A"},children:" \u062f\u0631 "+S.product_detail.large_plural_package_detail.translate_detail.item_fa})]}),(0,A.jsx)(x.A,{color:"#99AEC5"}),(0,A.jsxs)(p.A,{sx:{mt:1,mb:1,width:"100%"},children:[(0,A.jsxs)(p.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,A.jsx)(h.A,{style:{color:"#A7A5A6"},children:"\u062a\u0639\u062f\u0627\u062f"}),(0,A.jsx)(B.A,{variant:T?"contained":"outlined",style:{borderRadius:"8px",padding:"0px 12px",minWidth:"40px",width:"50px",minHeight:"35px",fontSize:"14px",marginBottom:"5px"},onClick:function(){H(!T)},children:"\u0647\u0645\u0647"})]}),(0,A.jsx)(j.A,{id:"name","aria-describedby":"my-helper-text",fullWidth:!0,placeholder:"\u062a\u0639\u062f\u0627\u062f",sx:{background:"#F2F2F2",borderRadius:"4px",margin:"3px 3px"},value:L,disabled:T,onChange:function(e){return O(e.target.value)},InputProps:{endAdornment:(0,A.jsx)(W.A,{position:"end",tabIndex:-1,children:(0,A.jsx)(h.A,{style:{color:"#335D8A",fontSize:"16px",fontWeight:400},children:S&&"SINGULAR"===F?S.product_detail.singular_package_detail.translate_detail.item_fa:"SMALL"===F?S&&S.product_detail.small_plural_package_qty>0&&S.product_detail.small_plural_package_detail.translate_detail.item_fa:S&&S.product_detail.large_plural_package_qty>0&&S.product_detail.large_plural_package_detail.translate_detail.item_fa})})}})]}),(0,A.jsxs)(p.A,{style:{display:"flex",flexDirection:"column"},children:[(0,A.jsx)(h.A,{style:{fontSize:"14px",fontWeight:400,color:"#7B7979"},children:"\u0648\u0627\u062d\u062f"}),null!==S&&(0,A.jsxs)(re.A,{fullWidth:!0,orientation:"vertical","aria-label":"vertical contained button group",variant:"contained",sx:{gap:2,boxShadow:"none",display:"flex",flexDirection:"row"},id:"input",disabled:T,children:[(0,A.jsx)(y.A,{sx:(t={backgroundColor:"SINGULAR"===F?"#DFF2F2":"#E6EBF0",borderRadius:"4px !important",padding:"10px 12px",height:"48px",fontStyle:"normal",fontWeight:"SINGULAR"===F?600:400,fontSize:"16px",width:"80px"},(0,m.A)(t,"height","44px"),(0,m.A)(t,"color","SINGULAR"===F?"#231F20":"#335D8A"),(0,m.A)(t,"fontFamily","IRANSans"),(0,m.A)(t,"&:hover",{color:"#231F20 !important",backgroundColor:"#DFF2F2 !important",fontWeight:600,fontSize:"16px"}),t),onClick:function(){I("SINGULAR")},children:S.product_detail.singular_package_detail.translate_detail.item_fa}),S.product_detail.small_plural_package_qty>0&&(0,A.jsx)(y.A,{sx:(n={backgroundColor:"SMALL"===F?"#DFF2F2":"#E6EBF0",borderRadius:"4px !important",padding:"10px 12px",height:"48px",fontStyle:"normal",fontWeight:"SMALL"===F?600:400,fontSize:"16px",width:"104px"},(0,m.A)(n,"height","44px"),(0,m.A)(n,"color","SMALL"===F?"#231F20":"#335D8A"),(0,m.A)(n,"fontFamily","IRANSans"),(0,m.A)(n,"&:hover",{color:"#231F20 !important",backgroundColor:"#DFF2F2 !important",fontWeight:600,fontSize:"16px"}),n),onClick:function(){I("SMALL")},children:S.product_detail.small_plural_package_detail.translate_detail.item_fa}),S.product_detail.large_plural_package_qty>0&&(0,A.jsx)(y.A,{sx:(i={backgroundColor:"LARGE"===F?"#DFF2F2":"#E6EBF0",borderRadius:"4px !important",padding:"10px 12px",height:"48px",fontStyle:"normal",fontWeight:"LARGE"===F?600:400,fontSize:"16px",width:"104px"},(0,m.A)(i,"height","44px"),(0,m.A)(i,"color","LARGE"===F?"#231F20":"#335D8A"),(0,m.A)(i,"fontFamily","IRANSans"),(0,m.A)(i,"&:hover",{color:"#231F20 !important",backgroundColor:"#DFF2F2 !important",fontWeight:600,fontSize:"16px"}),i),onClick:function(){I("LARGE")},children:S.product_detail.large_plural_package_detail.translate_detail.item_fa})]})]})]}),(0,A.jsxs)(p.A,{sx:{display:"inline-flex",justifyContent:"space-between",gap:2,width:"100%",height:"76px",borderTop:"0.5px solid #D3D2D2",padding:"12px 16px"},children:[(0,A.jsx)(B.A,{disabled:!1,style:{background:"#FEEEEC",color:"#F4777C",border:"1px solid #FEEEEC",fontSize:"14px"},onClick:function(){g(!1),H(!1),C(null)},children:"\u0644\u063a\u0648"}),(0,A.jsx)(B.A,{disabled:!1,onClick:function(){_.A.post("".concat(v.J,"/api/orders/add_incomplete_delivery/"),{order_num:e.orderNum,code:S.product_detail.code,quantity:L,package:F,all:T}).then((function(e){200===e.status&&(g(!1),C(null),H(!1),G())})).catch((function(e){417===e.response.status?J(e.response.data.error,{variant:"error"}):J("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))},children:"\u062b\u0628\u062a"})]})]})})]})}function oe(e){var t=(0,l.useState)(),n=(0,r.A)(t,2),i=(n[0],n[1],(0,l.useState)(null)),a=(0,r.A)(i,2),s=(a[0],a[1],(0,l.useState)(null)),d=(0,r.A)(s,2),u=d[0],h=d[1],f=(0,l.useState)([]),g=(0,r.A)(f,2),m=(g[0],g[1],(0,c.useHistory)()),j=e.state,b=(0,l.useState)(!1),w=(0,r.A)(b,2),S=w[0],C=w[1],D=(0,M.dh)().enqueueSnackbar;return(0,l.useEffect)((function(){}),[u]),(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"column",padding:"16px 20px",justifyContent:"space-between",height:"45vh",overflow:"auto",gap:"10px",width:"100%"},children:[(0,A.jsxs)(p.A,{sx:{width:"100%"},children:[(0,A.jsxs)(p.A,{sx:{display:"inline-flex"},onClick:function(){m.goBack()},children:[(0,A.jsx)(L.A,{color:"#335D8A",width:"15px"}),(0,A.jsx)(o.A,{style:{color:"#335D8A",fontSize:"14px"},children:"\u0628\u0627\u0632\u06af\u0634\u062a"})]}),(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"0px",gap:"10px"},children:[(0,A.jsxs)(y.A,{sx:{background:"no"==u?"#FEEEEC":"#FFF",border:"1px solid #F4777C",borderRadius:"8px",width:"100%"},onClick:function(){h("no")},children:[(0,A.jsx)("img",{src:ne.A}),(0,A.jsx)(o.A,{style:{color:"#F14950"},children:"\u0646\u0627\u0642\u0635 \u062a\u062d\u0648\u06cc\u0644 \u06af\u0631\u0641\u062a\u0645"})]},u+1),(0,A.jsxs)(y.A,{sx:{background:"yes"==u?"#DDF5F6":"#FFF",border:"1px solid #00AAB5",borderRadius:"8px",width:"100%"},onClick:function(){h("yes")},children:[(0,A.jsx)("img",{src:ie.A}),(0,A.jsx)(o.A,{style:{color:"#00AAB5"},children:"\u062a\u062d\u0648\u06cc\u0644 \u06af\u0631\u0641\u062a\u0645"})]},u+2)]}),(0,A.jsx)(x.A,{}),"no"===u&&(0,A.jsxs)(p.A,{sx:{mt:3},children:[(0,A.jsx)(o.A,{children:"\u0633\u0641\u0627\u0631\u0634\u0627\u062a\u06cc \u06a9\u0647 \u0646\u0627\u0642\u0635 \u0628\u0648\u062f\u0646\u062f \u0631\u0627 \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f:"}),(0,A.jsx)(se,{orderNum:j.order_num})]})]}),(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-end",width:"100%",gap:"10px",mb:2},children:[(0,A.jsx)(k.A,{disabled:!1,variant:"outlined",style:{width:"150px"},onClick:function(){m.goBack()},type:"button",children:"\u0644\u063a\u0648"}),(0,A.jsx)(k.A,{style:{width:"150px"},disabled:null==u,loading:S,onClick:function(){C(!0),_.A.post("".concat(v.J,"/api/orders/update_order_state/"),{order_num:j.order_num,order_action:"yes"===u?"Approve":"Reject",state:"yes"===u?"Complete":"Incomplete"}).then((function(e){C(!1),200===e.status&&m.push("/sale/send")})).catch((function(e){C(!1),417===e.response.status?D(e.response.data.error,{variant:"error"}):D("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))},children:"\u062b\u0628\u062a"})]})]})})}var de=(0,b.A)((function(e){return{paper:{borderRadius:"20px 20px 0px 0px",zIndex:999,position:"fixed",bottom:0,minHeight:"40%"}}}));function ce(e){var t,n,a,s,d,u,h,f,g=e.data,b=(de(),(0,l.useState)(!1)),R=(0,r.A)(b,2),W=R[0],B=R[1],L=(0,l.useState)(!1),O=(0,r.A)(L,2),N=O[0],P=O[1],T=(0,l.useState)(!1),H=(0,r.A)(T,2),J=H[0],G=H[1],q=(0,l.useState)(!1),V=(0,r.A)(q,2),$=V[0],X=V[1],K=(0,l.useState)(null),Q=(0,r.A)(K,2),ee=Q[0],ne=Q[1],ie=(0,c.useHistory)(),re=(JSON.parse(localStorage.getItem("user")).user_id,(0,l.useState)(!1)),le=(0,r.A)(re,2),ae=(le[0],le[1],(0,l.useState)(!1)),se=(0,r.A)(ae,2),ce=(se[0],se[1],(0,l.useState)(!1)),pe=(0,r.A)(ce,2),xe=pe[0],ue=pe[1],he=e.location.pathname,fe=(0,l.useState)(!1),Ae=(0,r.A)(fe,2),ge=Ae[0],me=Ae[1],ye=(0,M.dh)().enqueueSnackbar;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(p.A,{sx:{display:"flex",flexDirection:"column",padding:"20px 20px 0px 20px",height:"inherit",backgroundColor:"white"},children:(0,A.jsx)(p.A,{children:(0,A.jsx)(p.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:"10px"},children:(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"0px",gap:"12px",width:"100%",height:"70px"},children:[(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"0px",gap:"8px",width:"100%",height:"25px"},children:[(0,A.jsx)(o.A,{style:{fontWeight:500,fontSize:"16px",color:"#00346D"},children:null===g||void 0===g?void 0:g.order_num}),(0,A.jsx)(p.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:"3px 6px !important",background:"#CCEEF0",borderRadius:"4px",color:"#00AAB5"},children:(0,A.jsx)(o.A,{style:{color:"#00AAB5",fontSize:"12px",textAlign:"center"},children:null===g||void 0===g||null===(t=g.current_state)||void 0===t?void 0:t.label})})]}),(0,A.jsx)(p.A,{sx:(n={display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",padding:"0px",gap:"4px",color:"#335D8A",width:"100%"},(0,m.A)(n,"padding","0px 6px"),(0,m.A)(n,"borderRadius","4px"),n),children:(0,A.jsx)(o.A,{style:{fontWeight:400,fontSize:"12px",color:"#335D8A",lineHeight:"16px"},children:"\u062b\u0628\u062a: ".concat((0,z.A)(null===g||void 0===g?void 0:g.create_date))})}),"CANCELED"===g.current_state.name&&(0,A.jsx)(p.A,{sx:(a={display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",padding:"0px",gap:"4px",color:"#335D8A",width:"100%"},(0,m.A)(a,"padding","3px 6px"),(0,m.A)(a,"borderRadius","4px"),a),children:(0,A.jsx)(o.A,{style:{fontWeight:400,fontSize:"12px",color:"#335D8A",lineHeight:"16px"},children:"\u0639\u0644\u062a \u0639\u062f\u0645 \u062a\u0627\u06cc\u06cc\u062f: ".concat(null===g||void 0===g?void 0:g.flow_action.comment)})})]})})})}),"WAITING_FOR_PI_APPROVE"===g.current_state.name&&(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"20px 20px 14px",gap:"10px",background:"#E6EBF0"},children:[(0,A.jsxs)(p.A,{sx:{display:"inline-flex"},children:[(0,A.jsx)("img",{src:S.A,style:{marginBottom:"20px",marginLeft:"5px"}}),(0,A.jsx)(o.A,{style:{fontWeight:400,fontSize:"14px",lineHeight:"20px",color:"#00346D"},children:"\u067e\u06cc\u0634\u200c\u0641\u0627\u06a9\u062a\u0648\u0631 \u0635\u0627\u062f\u0631 \u0634\u062f\u0647 \u062a\u0648\u0633\u0637 \u062a\u0627\u0645\u06cc\u0646\u200c\u06a9\u0646\u0646\u062f\u0647 \u0631\u0627 \u0645\u0634\u0627\u0647\u062f\u0647 \u0648 \u062a\u0627\u06cc\u06cc\u062f \u06a9\u0646\u06cc\u062f:"})]}),(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-end",width:"100%",gap:"6px"},children:[(0,A.jsxs)(y.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",padding:"6px 8px",height:"32px",borderRadius:"4px",border:"1px solid #F14950"},onClick:function(){G(!0)},children:[(0,A.jsx)("img",{src:w.A}),(0,A.jsx)(o.A,{style:{color:"#F14950",padding:0},children:"\u0644\u063a\u0648 \u062f\u0631\u062e\u0648\u0627\u0633\u062a"})]}),(0,A.jsxs)(y.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",padding:"6px 8px",height:"32px",background:"#335D8A",borderRadius:"4px","&:hover":{background:"#00346D",color:"white"}},onClick:function(){P(!0)},children:[(0,A.jsx)(o.A,{style:{color:"white",padding:0},children:"\u0645\u0634\u0627\u0647\u062f\u0647 \u0648 \u062a\u0627\u06cc\u06cc\u062f"}),(0,A.jsx)(F.A,{color:"white"})]})]})]}),"WAITING_FOR_PAYMENT"===g.current_state.name&&(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"20px 20px 14px",gap:"10px",background:"#E6EBF0"},children:[(0,A.jsxs)(p.A,{sx:{display:"inline-flex"},children:[(0,A.jsx)("img",{src:C.A,style:{marginBottom:"20px",marginLeft:"5px"}}),(0,A.jsx)(o.A,{style:{fontWeight:400,fontSize:"14px",lineHeight:"20px",color:"#00346D"},children:"\u0647\u0632\u06cc\u0646\u0647 \u0633\u0641\u0627\u0631\u0634 \u0634\u0645\u0627 \u0645\u0639\u0627\u062f\u0644 ".concat(g.final_price,"  \u0645\u06cc \u0628\u0627\u0634\u062f. \u062c\u0647\u062a \u0648\u0627\u0631\u062f \u06a9\u0631\u062f\u0646 \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0648\u0627\u0631\u06cc\u0632 \u06a9\u0644\u06cc\u06a9 \u06a9\u0646\u06cc\u062f:")})]}),(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-end",width:"100%",gap:"6px"},children:[(0,A.jsxs)(y.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",padding:"6px 8px",height:"32px",borderRadius:"4px",border:"1px solid #F14950"},onClick:function(){G(!0)},children:[(0,A.jsx)("img",{src:w.A}),(0,A.jsx)(o.A,{style:{color:"#F14950",padding:0},children:"\u0644\u063a\u0648 \u062f\u0631\u062e\u0648\u0627\u0633\u062a"})]}),(0,A.jsxs)(y.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",padding:"6px 8px",height:"32px",background:"#335D8A",borderRadius:"4px","&:hover":{background:"#00346D",color:"white"}},onClick:function(){ie.push({pathname:"/sale/send/detail/payment",state:{data:g}})},children:[(0,A.jsx)(o.A,{style:{color:"white",padding:0},children:"\u067e\u0631\u062f\u0627\u062e\u062a"}),(0,A.jsx)(F.A,{color:"white"})]})]}),(0,A.jsxs)(p.A,{sx:{display:"flex",background:"white",width:"100%"},children:["payment"===he.split("/")[4]&&void 0===he.split("/")[5]&&(0,A.jsx)(Z,(0,i.A)({data:g},e)),"payment"===he.split("/")[4]&&"add"===he.split("/")[5]&&(0,A.jsx)(U,(0,i.A)({data:g},e)),"payment"===he.split("/")[4]&&"edit2"===he.split("/")[5]&&(0,A.jsx)(Y,(0,i.A)({data:g},e))]})]}),"PAYMENT_REJECTED"===g.current_state.name&&(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"20px 20px 14px",gap:"10px",background:"#E6EBF0"},children:[(0,A.jsxs)(p.A,{sx:{display:"inline-flex"},children:[(0,A.jsx)("img",{src:C.A,style:{marginBottom:"20px",marginLeft:"5px"}}),(0,A.jsx)(o.A,{style:{fontWeight:400,fontSize:"14px",lineHeight:"20px",color:"#00346D"},children:"\u0647\u0632\u06cc\u0646\u0647 \u0633\u0641\u0627\u0631\u0634 \u0634\u0645\u0627 \u0645\u0639\u0627\u062f\u0644 ".concat(g.final_price,"  \u0645\u06cc \u0628\u0627\u0634\u062f. \u062c\u0647\u062a \u0648\u0627\u0631\u062f \u06a9\u0631\u062f\u0646 \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0648\u0627\u0631\u06cc\u0632 \u06a9\u0644\u06cc\u06a9 \u06a9\u0646\u06cc\u062f:")})]}),(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-end",width:"100%",gap:"6px"},children:[(0,A.jsxs)(y.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",padding:"6px 8px",height:"32px",borderRadius:"4px",border:"1px solid #F14950"},onClick:function(){G(!0)},children:[(0,A.jsx)("img",{src:w.A}),(0,A.jsx)(o.A,{style:{color:"#F14950",padding:0},children:"\u0644\u063a\u0648 \u062f\u0631\u062e\u0648\u0627\u0633\u062a"})]}),(0,A.jsxs)(y.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",padding:"6px 8px",height:"32px",background:"#335D8A",borderRadius:"4px","&:hover":{background:"#00346D",color:"white"}},onClick:function(){return ie.push({pathname:"/sale/send/detail/payment/edit",state:{data:g}})},children:[(0,A.jsx)(o.A,{style:{color:"white",padding:0},children:"\u067e\u0631\u062f\u0627\u062e\u062a"}),(0,A.jsx)(F.A,{color:"white"})]})]}),"payment"===he.split("/")[4]&&void 0===he.split("/")[5]&&(0,A.jsx)(Z,(0,i.A)({data:g},e)),"payment"===he.split("/")[4]&&"add"===he.split("/")[5]&&(0,A.jsx)(U,(0,i.A)({data:g},e)),"payment"===he.split("/")[4]&&"edit2"===he.split("/")[5]&&(0,A.jsx)(Y,(0,i.A)({data:g},e)),"payment"===he.split("/")[4]&&"edit"===he.split("/")[5]&&(0,A.jsx)(te,(0,i.A)({data:g},e))]}),("WAITING_FOR_DELIVERY_APPROVE"===g.current_state.name||"SUPPLY_INCOMPLETE"===g.current_state.name||"REJECT_INCOMPLETE"===g.current_state.name)&&(0,A.jsx)(p.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"20px 20px 14px",gap:"10px",background:"#E6EBF0"},children:!1===xe?(0,A.jsxs)(p.A,{sx:{width:"100%"},children:[(0,A.jsxs)(p.A,{sx:{display:"inline-flex"},children:[(0,A.jsx)("img",{src:C.A,style:{marginBottom:"20px",marginLeft:"5px"}}),(0,A.jsx)(o.A,{style:{fontWeight:400,fontSize:"14px",lineHeight:"20px",color:"#00346D"},children:"\u0633\u0641\u0627\u0631\u0634 \u0634\u0645\u0627 \u062f\u0631 \u062d\u0627\u0644 \u0627\u0631\u0633\u0627\u0644 \u0627\u0633\u062a"})]}),(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-end",width:"100%",gap:"6px"},children:[(0,A.jsxs)(y.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",height:"40px",background:"#335D8A",borderRadius:"4px","&:hover":{background:"#00346D",color:"white"}},onClick:function(){X(!0)},children:[(0,A.jsx)(o.A,{style:{color:"white",padding:0},children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062a\u062d\u0648\u06cc\u0644"}),(0,A.jsx)(F.A,{color:"white"})]}),(0,A.jsxs)(y.A,{variant:"contained",onClick:function(){ue(!0)},children:[(0,A.jsx)(o.A,{style:{color:"white",padding:0},children:"\u062a\u0627\u06cc\u06cc\u062f \u062a\u062d\u0648\u06cc\u0644"}),(0,A.jsx)(F.A,{color:"white"})]})]})]}):(0,A.jsx)(oe,{state:g})}),(0,A.jsx)(E.A,{open:W,handleClose:function(){return B(!1)},title:"\u0639\u062f\u0645 \u062a\u0627\u06cc\u06cc\u062f",content:(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"column",padding:"16px 20px",justifyContent:"space-between",gap:"10px",margin:"20px 0px",borderRadius:"8px"},children:[(0,A.jsx)(p.A,{children:(0,A.jsxs)(p.A,{sx:{display:"flex",gap:"10px",flexDirection:"column"},children:[(0,A.jsx)(o.A,{style:{fontSize:"14px"},children:"\u0639\u0644\u062a \u0639\u062f\u0645 \u062a\u0627\u06cc\u06cc\u062f \u0633\u0641\u0627\u0631\u0634 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f:"}),(0,A.jsxs)(p.A,{sx:{mt:1,width:"100%"},children:[(0,A.jsx)(o.A,{style:{color:"#A7A5A6",width:"105px"},children:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a"}),(0,A.jsx)(j.A,{id:"name","aria-describedby":"my-helper-text",fullWidth:!0,placeholder:"...\u0628\u0646\u0648\u06cc\u0633\u06cc\u062f",rows:4,multiline:!0,sx:{backgroundColor:"white",borderRadius:"4px",margin:"3px 3px"},value:ee,onChange:function(e){return ne(e.target.value)}})]})]})}),(0,A.jsx)(x.A,{}),(0,A.jsx)(p.A,{sx:{display:"flex",width:"100%",justifyContent:"flex-end"},children:(0,A.jsxs)(p.A,{sx:{display:"inline-flex",justifyContent:"flex-end",gap:2},children:[(0,A.jsx)(k.A,{disabled:!1,variant:"outlined",style:{width:"150px"},onClick:function(){B(!1)},type:"button",children:"\u0644\u063a\u0648"}),(0,A.jsx)(k.A,{style:{width:"150px"},disabled:null==ee,loading:ge,onClick:function(){me(!0),_.A.post("".concat(v.J,"/api/orders/update_order_state/"),{order_num:g.order_num,order_action:"Reject",comment:ee,state:"Invoice"}).then((function(e){me(!1),200===e.status&&ie.push("/sale/received")})).catch((function(e){me(!1),417===e.response.status?ye(e.response.data.error,{variant:"error"}):ye("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))},children:"\u062b\u0628\u062a"})]})})]})}),(0,A.jsx)(E.A,{open:N,title:"\u067e\u06cc\u0634 \u0641\u0627\u06a9\u062a\u0648\u0631",handleClose:function(){return P(!1)},content:(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"column",padding:"16px 20px",justifyContent:"space-between",gap:"10px",borderRadius:"8px"},children:[(0,A.jsx)(p.A,{sx:{width:"100%",minHeight:"250px"},children:(0,A.jsxs)(p.A,{sx:{display:"flex",gap:"10px",flexDirection:"column"},children:[(0,A.jsx)(o.A,{style:{fontSize:"14px"},children:"\u067e\u06cc\u0634 \u0641\u0627\u06a9\u062a\u0648\u0631 \u062b\u0628\u062a\u200c\u0634\u062f\u0647 \u0631\u0627 \u062f\u0627\u0646\u0644\u0648\u062f \u06a9\u0646\u06cc\u062f:"}),(0,A.jsxs)(p.A,{sx:{display:"inline-flex"},children:[(0,A.jsx)(o.A,{style:{color:"#6685A7"},children:"\u0632\u0645\u0627\u0646 \u0635\u062f\u0648\u0631:"}),(0,A.jsx)(o.A,{style:{color:"#6685A7"},children:(0,z.A)(null===g||void 0===g||null===(s=g.flow_action)||void 0===s?void 0:s.create_date)})]}),(0,A.jsxs)(p.A,{sx:{display:"inline-flex"},children:[(0,A.jsx)(o.A,{style:{color:"#6685A7"},children:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a:"}),(0,A.jsx)(o.A,{style:{color:"#6685A7"},children:null===g||void 0===g||null===(d=g.flow_action)||void 0===d?void 0:d.comment})]}),(null===g||void 0===g?void 0:g.files)&&(null===g||void 0===g?void 0:g.files.length)>0&&(0,A.jsx)("a",{href:null===g||void 0===g||null===(u=g.files.filter((function(e){return"INVOICE"===e.subject}))[(null===g||void 0===g?void 0:g.files.filter((function(e){return"INVOICE"===e.subject})).length)-1])||void 0===u?void 0:u.url,download:!0,target:"_blank",style:{textDecoration:"none",width:"100%"},children:(0,A.jsxs)(k.A,{variant:"contained",style:{background:"#DDF5F6",border:"1px solid #00AAB5",color:"#00AAB5"},children:[(0,A.jsx)(I.A,{style:{marginLeft:"3px"}}),"\u062f\u0627\u0646\u0644\u0648\u062f \u067e\u06cc\u0634 \u0641\u0627\u06a9\u062a\u0648\u0631"]})})]})}),(0,A.jsx)(x.A,{}),(0,A.jsx)(p.A,{sx:{display:"flex",width:"100%",justifyContent:"flex-end"},children:(0,A.jsxs)(p.A,{sx:{display:"inline-flex",justifyContent:"flex-end",gap:2},children:[(0,A.jsx)(k.A,{disabled:!1,variant:"outlined",style:{width:"150px"},onClick:function(){P(!1),B(!0)},type:"button",children:"\u0639\u062f\u0645 \u062a\u0627\u06cc\u06cc\u062f"}),(0,A.jsx)(k.A,{style:{width:"150px"},loading:ge,onClick:function(){me(!0),_.A.post("".concat(v.J,"/api/orders/update_order_state/"),{order_num:g.order_num,order_action:"Approve",state:"Invoice"}).then((function(e){me(!1),200===e.status&&ie.push("/sale/send")})).catch((function(e){me(!1),417===e.response.status?ye(e.response.data.error,{variant:"error"}):ye("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))},children:"\u062a\u0627\u06cc\u06cc\u062f"})]})})]})}),(0,A.jsx)(E.A,{open:J,title:"\u0644\u063a\u0648 \u062f\u0631\u062e\u0648\u0627\u0633\u062a",handleClose:function(){return G(!1)},content:(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"column",padding:"16px 20px",justifyContent:"space-between",gap:"10px",margin:"20px 0px",borderRadius:"8px"},children:[(0,A.jsx)(p.A,{sx:{width:"100%"},children:(0,A.jsx)(p.A,{sx:{display:"flex",gap:"10px",flexDirection:"column"},children:(0,A.jsx)(o.A,{style:{fontSize:"14px"},children:"\u0622\u06cc\u0627 \u0627\u0632 \u0644\u063a\u0648 \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0645\u0637\u0645\u0626\u0646 \u0647\u0633\u062a\u06cc\u062f\u061f"})})}),(0,A.jsx)(p.A,{sx:{display:"flex",width:"100%",justifyContent:"flex-end"},children:(0,A.jsxs)(p.A,{sx:{display:"inline-flex",justifyContent:"flex-end",gap:2},children:[(0,A.jsx)(k.A,{disabled:!1,variant:"outlined",style:{width:"150px"},onClick:function(){G(!1)},type:"button",children:"\u062e\u06cc\u0631"}),(0,A.jsx)(k.A,{style:{width:"150px"},onClick:function(){_.A.post("".concat(v.J,"/api/orders/cancel_order/"),{order_num:g.order_num}).then((function(e){200===e.status&&G(!1)})).catch((function(e){417===e.response.status?ye(e.response.data.error,{variant:"error"}):ye("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))},children:"\u0628\u0644\u0647"})]})})]})}),$&&(0,A.jsx)(E.A,{open:$,handleClose:function(){return X(!1)},title:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062a\u062d\u0648\u06cc\u0644 \u0633\u0641\u0627\u0631\u0634",content:(0,A.jsx)(p.A,{sx:{display:"flex",flexDirection:"column",padding:"16px 20px",justifyContent:"space-between",gap:"10px",borderRadius:"8px"},children:(0,A.jsx)(p.A,{sx:{width:"100%"},children:(0,A.jsxs)(p.A,{sx:{display:"flex",gap:"10px",flexDirection:"column"},children:[(0,A.jsx)(o.A,{style:{fontSize:"14px"},children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062a\u062d\u0648\u06cc\u0644 \u0633\u0641\u0627\u0631\u0634 \u0634\u0645\u0627 \u0628\u0647 \u0634\u0631\u062d \u0632\u06cc\u0631 \u0645\u06cc\u200c\u0628\u0627\u0634\u062f:"}),(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"0px",gap:"10px",width:"100%"},children:[(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:"0px",gap:"6px",width:"100%"},children:[(0,A.jsx)(o.A,{style:{color:"#6685A7",fontSize:"16px",fontWeight:400},children:"\u0632\u0645\u0627\u0646 \u0627\u0631\u0633\u0627\u0644"}),(0,A.jsx)(o.A,{style:{color:"#335D8A",fontSize:"16px",fontWeight:400},children:(0,z.A)(null===g||void 0===g||null===(h=g.delivery_detail)||void 0===h?void 0:h.sender_date)})]}),(0,A.jsxs)(p.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:"0px",gap:"6px",width:"100%"},children:[(0,A.jsx)(o.A,{style:{color:"#6685A7",fontSize:"16px",fontWeight:400},children:"\u0646\u062d\u0648\u0647 \u0627\u0631\u0633\u0627\u0644"}),(0,A.jsx)(o.A,{style:{color:"#335D8A",fontSize:"16px",fontWeight:400},children:g.delivery_detail.delivery_type_detail.label})]}),(0,A.jsx)(x.A,{color:"#CCD6E2"}),(0,A.jsxs)(p.A,{sx:{display:"inline-flex"},children:[(0,A.jsx)("img",{src:D.A}),(0,A.jsx)(o.A,{style:{color:"#6685A7",fontSize:"16px",fontWeight:400},children:g.delivery_detail.sender_description})]}),g.files&&g.files.length>0&&(null===g||void 0===g?void 0:g.files.filter((function(e){return"BL"===e.subject})).length)>0&&(0,A.jsx)("a",{href:null===g||void 0===g||null===(f=g.files.filter((function(e){return"BL"===e.subject}))[0])||void 0===f?void 0:f.url,download:!0,style:{textDecoration:"none",width:"100%"},children:(0,A.jsxs)(k.A,{variant:"contained",style:{background:"#DDF5F6",border:"1px solid #00AAB5",color:"#00AAB5",width:"100%"},children:[(0,A.jsx)(I.A,{style:{marginLeft:"3px"}}),"\u062f\u0627\u0646\u0644\u0648\u062f \u0628\u0627\u0631\u0646\u0627\u0645\u0647"]})})]})]})})})})]})}function pe(e){var t=(0,l.useState)(e.location.state.data),n=(0,r.A)(t,2),p=n[0],x=n[1],u=(0,c.useHistory)();return(0,l.useEffect)((function(){x(e.location.state.data)})),(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(a.A,{sx:{display:"flex",flexDirection:"row",width:"100%",marginTop:"70px",padding:"20px",marginLeft:"140px"},children:(0,A.jsx)(a.A,{sx:{width:"100%",padding:"40px 40px 30px",backgroundColor:"white",height:"100%"},children:(0,A.jsxs)(s.Ay,{container:!0,spacing:2,children:[(0,A.jsxs)(s.Ay,{item:!0,xs:8,children:[(0,A.jsxs)(a.A,{sx:{display:"inline-flex",cursor:"pointer"},onClick:function(){u.push("/sale/send")},children:[(0,A.jsx)(d.A,{color:"#335D8A"}),(0,A.jsx)(o.A,{style:{color:"#335D8A",fontWeight:400,fontSize:"16px"},children:"\u0627\u0631\u0633\u0627\u0644\u06cc \u0647\u0627"})]}),(0,A.jsx)(a.A,{children:(0,A.jsx)(ce,(0,i.A)({data:p.length>0?p[0]:p},e))})]}),(0,A.jsx)(s.Ay,{item:!0,xs:4,children:(0,A.jsx)(g,{data:p.length>0?p[0]:p})})]})})})})}},95374:(e,t,n)=>{n.d(t,{A:()=>d});var i=n(9950),r=n(89561),l=n.n(r);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},l=Object.keys(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=(0,i.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,l=e.size,o=void 0===l?24:l,d=s(e,["color","size"]);return i.createElement("svg",a({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),i.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),i.createElement("polyline",{points:"12 5 19 12 12 19"}))}));o.propTypes={color:l().string,size:l().oneOfType([l().string,l().number])},o.displayName="ArrowRight";const d=o},66146:(e,t,n)=>{n.d(t,{A:()=>d});var i=n(9950),r=n(89561),l=n.n(r);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},l=Object.keys(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=(0,i.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,l=e.size,o=void 0===l?24:l,d=s(e,["color","size"]);return i.createElement("svg",a({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),i.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),i.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))}));o.propTypes={color:l().string,size:l().oneOfType([l().string,l().number])},o.displayName="Plus";const d=o}}]);