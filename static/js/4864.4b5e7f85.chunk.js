"use strict";(self.webpackChunkbts=self.webpackChunkbts||[]).push([[4864],{34864:(e,i,t)=>{t.r(i),t.d(i,{default:()=>z});var n=t(89379),s=t(9950),l=t(14857),r=t(22433),o=t(5544),d=t(95537),a=t(4534),x=t(74745),p=t(60172),c=(t(38986),t(29753),t(80988)),u=t(11216),g=t(14671),f=t(44414);function h(e){var i,t,n,s,l=e.message;return(0,f.jsxs)(d.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"flex-start",gap:"10px"},children:[(0,f.jsx)(d.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"10px",background:"#CCD6E2",borderRadius:"20px"},children:(0,f.jsx)("img",{src:null===l||void 0===l||null===(i=l.user_info)||void 0===i?void 0:i.user_profile_image,style:{width:"40px",height:"40px",borderRadius:"30px"}})}),(0,f.jsxs)(d.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",padding:"0px",gap:"4px"},children:[(0,f.jsx)(d.A,{sx:{display:"flex",flexDirection:"row",alignItems:"flex-start",padding:"12px",gap:"10px",background:"#00AAB5",boxShadow:"0px 4px 8px rgba(146, 146, 146, 0.25)",borderRadius:"0px 20px 20px 20px"},children:(0,f.jsxs)(d.A,{sx:{fontWeight:500,fontSize:"14px",lineHeight:"22px",textAlign:"right",color:"#FFFFFF"},children:[(null===l||void 0===l?void 0:l.message.length)>0&&(0,f.jsxs)(p.A,{style:{fontWeight:400,fontSize:"14px",textAlign:"right",color:"white"},children:[null===l||void 0===l?void 0:l.message," "]}),(null===l||void 0===l?void 0:l.files_list.length)>0&&(0,f.jsxs)(d.A,{children:[(0,f.jsxs)(d.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"flex-start",padding:"0px",gap:"12px"},children:[(0,f.jsx)("img",{src:c.A,width:"31px",height:"36px"}),(0,f.jsx)(p.A,{style:{color:"white",width:"130px"},children:null===l||void 0===l||null===(t=l.files_list[0])||void 0===t?void 0:t.file_name}),(0,f.jsx)(d.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:"10px",gap:"10px",width:"36px",height:"36px",background:"#E3E3E3",borderRadius:"8px"},children:(0,f.jsx)("a",{href:null===l||void 0===l||null===(n=l.files_list[0])||void 0===n?void 0:n.file,download:!0,children:(0,f.jsx)(d.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:"4px",gap:"10px",width:"24px",height:"24px",background:"#E3E3E3",border:"0.5px solid #A7A5A6",borderRadius:"12px"},children:(0,f.jsx)("img",{src:u.A})})})})]}),(0,f.jsx)(x.A,{sx:{my:2},color:"white"}),(0,f.jsx)(d.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:"0px",gap:"10px"},children:(0,f.jsx)(p.A,{style:{color:"white"},children:"".concat(Math.round((null===l||void 0===l||null===(s=l.files_list[0])||void 0===s?void 0:s.file_size)/1024)," KB")})})]})]})}),(0,f.jsx)(d.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",padding:"0px 4px 0px 0px",gap:"10px"},children:(0,f.jsx)(p.A,{style:{fontWeight:400,fontSize:"10px",lineHeight:"16px",textAlign:"right",color:"#A7A5A6",direction:"ltr"},children:(0,g.A)(null===l||void 0===l?void 0:l.create_date)})})]})]})}var A=t(8294);function j(e){var i,t,n,s=e.message;return(0,f.jsxs)(d.A,{sx:{display:"flex",flexDirection:"row",alignItems:"flex-start",gap:"10px",width:"100%",justifyContent:"flex-end"},children:[(0,f.jsxs)(d.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-end",padding:"0px",gap:"4px"},children:[(0,f.jsxs)(d.A,{sx:{display:"flex",flexDirection:"row",alignItems:"flex-start",padding:"12px",gap:"10px",background:"#FFFFFF",boxShadow:"0px 0px 8px rgba(146, 146, 146, 0.25)",borderRadius:"20px 0px 20px 20px",width:"100%"},children:[(null===s||void 0===s?void 0:s.message.length)>0&&(0,f.jsx)(p.A,{style:{fontWeight:400,fontSize:"14px",textAlign:"right",color:"#4F4C4D"},children:null===s||void 0===s?void 0:s.message}),(null===s||void 0===s?void 0:s.files_list.length)>0&&(0,f.jsxs)(d.A,{children:[(0,f.jsxs)(d.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"flex-start",padding:"0px",gap:"12px"},children:[(0,f.jsx)("img",{src:c.A,width:"31px",height:"36px"}),(0,f.jsx)(p.A,{style:{color:"#4F4C4D",width:"130px"},children:null===s||void 0===s||null===(i=s.files_list[0])||void 0===i?void 0:i.file_name}),(0,f.jsx)(d.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:"10px",gap:"10px",width:"36px",height:"36px",background:"#E3E3E3",borderRadius:"8px"},children:(0,f.jsx)("a",{href:null===s||void 0===s||null===(t=s.files_list[0])||void 0===t?void 0:t.file,download:!0,children:(0,f.jsx)(d.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:"4px",gap:"10px",width:"24px",height:"24px",background:"#E3E3E3",border:"0.5px solid #A7A5A6",borderRadius:"12px"},children:(0,f.jsx)("img",{src:u.A})})})})]}),(0,f.jsx)(x.A,{sx:{my:2,color:"#D3D2D2"}}),(0,f.jsx)(d.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:"0px",gap:"10px"},children:(0,f.jsx)(p.A,{style:{color:"#4F4C4D"},children:"".concat(Math.round((null===s||void 0===s||null===(n=s.files_list[0])||void 0===n?void 0:n.file_size)/1024)," KB")})})]})]}),(0,f.jsx)(p.A,{style:{fontWeight:400,fontSize:"10px",textAlign:"right",color:"#A7A5A6",direction:"ltr"},children:(0,g.A)(null===s||void 0===s?void 0:s.create_date)})]}),(0,f.jsx)(d.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"10px 9.5px",gap:"10px",background:"#CCD6E2",borderRadius:"20px"},children:(0,f.jsx)("img",{src:A.A})})]})}var v=t(14341),m=t(46483),w=t(14600),y=t(54222),b=t(59254),D=t(41608),C=t(4721),_=t(46565),I=t(47929),k=t(29031),E=(0,b.Ay)(v.A)({"& .MuiOutlinedInput-root":{backgroundColor:"white","& fieldset":{borderColor:"white"},"&:hover fieldset":{borderColor:"white"},"&.Mui-focused fieldset":{borderColor:"white"}}});function F(e){var i=e.message,t=e.getData,n=(0,s.useState)(""),l=(0,o.A)(n,2),r=l[0],a=l[1],x=(0,s.useState)(null),p=(0,o.A)(x,2),c=p[0],u=p[1],g=(0,k.dh)().enqueueSnackbar;function h(){D.A.post("".concat(C.J,"/api/club/suggestions/add_response/"),{suggestion_id:i.id,message:r}).then((function(e){201===e.status&&(t(),a(""))})).catch((function(e){417===e.response.status?g(e.response.data.error,{variant:"error"}):g("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))}return(0,s.useEffect)((function(){if(c){var e=new FormData;e.append("suggestion_id",i.id),e.append("files",c),D.A.post("".concat(C.J,"/api/club/suggestions/add_response/"),e).then((function(e){201===e.status&&t()})).catch((function(e){417===e.response.status?g(e.response.data.error,{variant:"error"}):g("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))}}),[c]),(0,f.jsxs)(d.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",padding:"0px 6px",gap:"8px",background:"white",width:"100%",position:"absolute",bottom:0},children:[(0,f.jsx)(E,{fullWidth:!0,multiline:!0,placeholder:"\u0628\u0646\u0648\u06cc\u0633\u06cc\u062f...",classes:{MuiOutlinedInput:{root:{backgroundColor:"white"}}},InputProps:{startAdornment:(0,f.jsx)(m.A,{position:"start",children:(0,f.jsx)("img",{src:y.A})})},value:r,onChange:function(e){return a(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&h()}}),r?(0,f.jsx)(_.A,{disabled:!1,variant:"contained",component:"label",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"20px",height:"20px",background:"#00AAB5",borderRadius:"22px"},onClick:function(){h()},children:(0,f.jsx)("img",{src:I.A,width:"20px",height:"18px"})}):(0,f.jsxs)(_.A,{disabled:!1,variant:"contained",component:"label",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"20px",height:"20px",background:"#00AAB5",borderRadius:"22px"},value:c,onChange:function(e){u(e.target.files[0])},children:[(0,f.jsx)("img",{src:w.A,width:"20px",height:"18px"}),(0,f.jsx)("input",{type:"file",hidden:!0,multiple:!1})]})]})}function S(e){var i,t=(0,s.useState)(),n=(0,o.A)(t,2),l=n[0],r=n[1],x=JSON.parse(localStorage.getItem("user")).user_id,p=(0,s.useState)(null),c=(0,o.A)(p,2),u=(c[0],c[1],e.location.state.data.id),g=(0,k.dh)().enqueueSnackbar;function A(){D.A.get("".concat(C.J,"/api/club/suggestions/").concat(u)).then((function(e){200===e.status&&r(e.data)})).catch((function(e){417===e.response.status?g(e.response.data.error,{variant:"error"}):g("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))}return(0,s.useEffect)((function(){A()}),[]),(0,f.jsxs)(d.A,{sx:{display:"flex",flexDirection:"column"},children:[(0,f.jsxs)(d.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"15px",gap:"22px",width:"100%",height:"79vh",overflow:"auto"},children:[(0,f.jsxs)(a.A,{children:[" ",null===l||void 0===l?void 0:l.subject]}),(null===l||void 0===l||null===(i=l.message_list)||void 0===i?void 0:i.length)&&(null===l||void 0===l?void 0:l.message_list.map((function(e,i){var t;return(null===e||void 0===e||null===(t=e.user_info)||void 0===t?void 0:t.user_id)===x?(0,f.jsx)(h,{message:e}):(0,f.jsx)(j,{message:e})})))]}),(0,f.jsx)(F,{message:e.location.state.data,getData:A})]})}function R(){return(0,f.jsx)("div",{children:"NewCommentDesktop"})}const z=function(e){var i=(0,l.A)(),t=(0,r.A)(i.breakpoints.down("md"));return(0,f.jsx)(f.Fragment,{children:t?(0,f.jsx)(S,(0,n.A)({},e)):(0,f.jsx)(R,(0,n.A)({},e))})}}}]);