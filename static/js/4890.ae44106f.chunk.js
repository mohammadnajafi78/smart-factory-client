"use strict";(self.webpackChunkbts=self.webpackChunkbts||[]).push([[4890],{54890:(e,i,t)=>{t.r(i),t.d(i,{default:()=>E});var n=t(5544),s=t(9950),l=t(95537),r=t(4139),o=t(74745),d=t(60172),a=t(38986),x=t(8294),c=t(80988),p=t(11216),g=t(14671),u=t(44414);function h(e){var i,t,n,s=e.message;return(0,u.jsxs)(l.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",gap:"10px",width:"100%"},children:[(0,u.jsx)(l.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"10px 9.5px",gap:"10px",background:"#CCD6E2",borderRadius:"20px"},children:(0,u.jsx)("img",{src:x.A})}),(0,u.jsxs)(l.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",padding:"0px",gap:"4px"},children:[(0,u.jsx)(l.A,{sx:{display:"flex",flexDirection:"row",alignItems:"flex-start",padding:"12px",gap:"10px",background:"#00AAB5",boxShadow:"0px 4px 8px rgba(146, 146, 146, 0.25)",borderRadius:"0px 20px 20px 20px"},children:(0,u.jsxs)(l.A,{sx:{fontWeight:500,fontSize:"14px",lineHeight:"22px",textAlign:"right",color:"#FFFFFF"},children:[(null===s||void 0===s?void 0:s.message.length)>0&&(0,u.jsx)(d.A,{style:{fontWeight:400,fontSize:"14px",textAlign:"right",color:"white"},children:s.message}),(null===s||void 0===s?void 0:s.files_list.length)>0&&(0,u.jsxs)(l.A,{children:[(0,u.jsxs)(l.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"flex-start",padding:"0px",gap:"12px"},children:[(0,u.jsx)("img",{src:c.A,width:"31px",height:"36px"}),(0,u.jsx)(d.A,{style:{color:"white",width:"130px"},children:null===s||void 0===s||null===(i=s.files_list[0])||void 0===i?void 0:i.file_name}),(0,u.jsx)(l.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:"10px",gap:"10px",width:"36px",height:"36px",background:"#E3E3E3",borderRadius:"8px"},children:(0,u.jsx)("a",{href:null===s||void 0===s||null===(t=s.files_list[0])||void 0===t?void 0:t.file,download:!0,children:(0,u.jsx)(l.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:"4px",gap:"10px",width:"24px",height:"24px",background:"#E3E3E3",border:"0.5px solid #A7A5A6",borderRadius:"12px"},children:(0,u.jsx)("img",{src:p.A})})})})]}),(0,u.jsx)(o.A,{sx:{my:2},color:"white"}),(0,u.jsx)(l.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:"0px",gap:"10px"},children:(0,u.jsx)(d.A,{style:{color:"white",direction:"ltr"},children:"".concat(Math.round((null===s||void 0===s||null===(n=s.files_list[0])||void 0===n?void 0:n.file_size)/1024)," KB")})})]})]})}),(0,u.jsx)(l.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",padding:"0px 4px 10px 0px",gap:"10px"},children:(0,u.jsx)(d.A,{style:{fontWeight:400,fontSize:"10px",lineHeight:"16px",textAlign:"right",color:"#A7A5A6",direction:"ltr"},children:(0,g.A)(null===s||void 0===s?void 0:s.create_date)})})]})]})}function f(e){var i,t,n,s,r=e.message;return console.log("message",r),(0,u.jsxs)(l.A,{sx:{display:"flex",flexDirection:"row",alignItems:"flex-start",gap:"10px",width:"100%",justifyContent:"flex-end"},children:[(0,u.jsxs)(l.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-end",padding:"0px",gap:"4px"},children:[(0,u.jsxs)(l.A,{sx:{display:"flex",flexDirection:"row",alignItems:"flex-start",padding:"12px",gap:"10px",background:"#FFFFFF",boxShadow:"0px 0px 8px rgba(146, 146, 146, 0.25)",borderRadius:"20px 0px 20px 20px",width:"100%"},children:[(null===r||void 0===r?void 0:r.message.length)>0&&(0,u.jsx)(d.A,{style:{fontWeight:400,fontSize:"14px",textAlign:"right",color:"#4F4C4D"},children:r.message}),(null===r||void 0===r?void 0:r.files_list.length)>0&&(0,u.jsxs)(l.A,{children:[(0,u.jsxs)(l.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"flex-start",padding:"0px",gap:"12px"},children:[(0,u.jsx)("img",{src:c.A,width:"31px",height:"36px"}),(0,u.jsx)(d.A,{style:{color:"#4F4C4D",width:"130px"},children:null===r||void 0===r||null===(i=r.files_list[0])||void 0===i?void 0:i.file_name}),(0,u.jsx)(l.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:"10px",gap:"10px",width:"36px",height:"36px",background:"#E3E3E3",borderRadius:"8px"},children:(0,u.jsx)("a",{href:null===r||void 0===r||null===(t=r.files_list[0])||void 0===t?void 0:t.file,download:!0,children:(0,u.jsx)(l.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:"4px",gap:"10px",width:"24px",height:"24px",background:"#E3E3E3",border:"0.5px solid #A7A5A6",borderRadius:"12px"},children:(0,u.jsx)("img",{src:p.A})})})})]}),(0,u.jsx)(o.A,{sx:{my:2,color:"#D3D2D2"}}),(0,u.jsx)(l.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:"0px",gap:"10px"},children:(0,u.jsx)(d.A,{style:{color:"#4F4C4D",direction:"ltr"},children:"".concat(Math.round((null===r||void 0===r||null===(n=r.files_list[0])||void 0===n?void 0:n.file_size)/1024)," KB")})})]})]}),(0,u.jsx)(d.A,{style:{fontWeight:400,fontSize:"10px",textAlign:"right",color:"#A7A5A6",direction:"ltr"},children:(0,g.A)(null===r||void 0===r?void 0:r.create_date)})]}),(0,u.jsx)(l.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"10px",background:"#CCD6E2",borderRadius:"20px"},children:(0,u.jsx)("img",{src:null===r||void 0===r||null===(s=r.user_info)||void 0===s?void 0:s.user_profile_image,style:{width:"40px",height:"40px",borderRadius:"30px"}})})]})}var A=t(14341),j=t(46483),v=t(14600),m=t(54222),y=t(59254),w=t(46565),b=t(47929),D=t(41608),C=t(4721),_=t(29031),I=(0,y.Ay)(A.A)({"& .MuiOutlinedInput-root":{backgroundColor:"white","& fieldset":{borderColor:"white"},"&:hover fieldset":{borderColor:"white"},"&.Mui-focused fieldset":{borderColor:"white"}}});function k(e){var i=e.message,t=e.getData,r=(0,s.useState)(""),o=(0,n.A)(r,2),d=o[0],a=o[1],x=(0,s.useState)(null),c=(0,n.A)(x,2),p=c[0],g=c[1],h=(0,_.dh)().enqueueSnackbar;function f(){D.A.post("".concat(C.J,"/api/club/suggestions/add_response/"),{suggestion_id:i.id,message:d}).then((function(e){201===e.status&&(t(),a(""))})).catch((function(e){417===e.response.status?h(e.response.data.error,{variant:"error"}):h("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))}return(0,s.useEffect)((function(){if(p){var e=new FormData;e.append("suggestion_id",i.id),e.append("files",p),D.A.post("".concat(C.J,"/api/club/suggestions/add_response/"),e).then((function(e){201===e.status&&t()})).catch((function(e){417===e.response.status?h(e.response.data.error,{variant:"error"}):h("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))}}),[p]),(0,u.jsxs)(l.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",padding:"15px 16px",gap:"8px",background:"#F2F7F7",width:"100%"},children:[(0,u.jsx)(I,{fullWidth:!0,multiline:!0,placeholder:"\u0628\u0646\u0648\u06cc\u0633\u06cc\u062f...",classes:{MuiOutlinedInput:{root:{backgroundColor:"white"}}},InputProps:{startAdornment:(0,u.jsx)(j.A,{position:"start",children:(0,u.jsx)("img",{src:m.A})})},value:d,onChange:function(e){return a(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&f()}}),d?(0,u.jsx)(w.A,{disabled:!1,variant:"contained",component:"label",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"20px",height:"20px",background:"#00AAB5",borderRadius:"22px"},onClick:function(){f()},children:(0,u.jsx)("img",{src:b.A,width:"20px",height:"18px"})}):(0,u.jsxs)(w.A,{disabled:!1,variant:"contained",component:"label",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"20px",height:"20px",background:"#00AAB5",borderRadius:"22px"},value:p,onChange:function(e){g(e.target.files[0])},children:[(0,u.jsx)("img",{src:v.A,width:"20px",height:"18px"}),(0,u.jsx)("input",{type:"file",hidden:!0,multiple:!1})]})]})}var F=t(82310);function E(e){var i,t,x=(0,s.useState)(e.location.state.data[0]),c=(0,n.A)(x,2),p=c[0],g=c[1],A=JSON.parse(localStorage.getItem("user")).user_id,j=(0,_.dh)().enqueueSnackbar;return(0,u.jsx)(l.A,{children:(0,u.jsxs)(l.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",padding:"15px",gap:"10px",width:"100%",backgroundColor:"white",borderRadius:"8px"},children:[(0,u.jsx)(a.A,{style:{color:"#00346D"},children:null===p||void 0===p?void 0:p.subject}),(0,u.jsxs)(r.Ay,{container:!0,spacing:2,children:[(0,u.jsx)(r.Ay,{item:!0,xs:6,children:(0,u.jsxs)("div",{style:{display:"inline-flex"},children:[(0,u.jsx)(d.A,{style:{color:"#00AAB5"},children:"\u0645\u0648\u0636\u0648\u0639:"}),(0,u.jsx)(d.A,{style:{color:"#335D8A"},children:null===p||void 0===p||null===(i=p.topic_detail)||void 0===i?void 0:i.name})]})}),(0,u.jsx)(r.Ay,{item:!0,xs:6,children:(0,u.jsxs)("div",{style:{display:"inline-flex"},children:[(0,u.jsx)(d.A,{style:{color:"#00AAB5"},children:"\u0632\u0645\u0627\u0646 \u062b\u0628\u062a \u0646\u0627\u0645:"}),(0,u.jsx)(d.A,{style:{color:"#335D8A"},children:(0,F.A)(null===p||void 0===p?void 0:p.create_date)})]})})]}),(0,u.jsx)(o.A,{variant:"middle",sx:{margin:"20px 0px",width:"98%"}}),(0,u.jsx)(l.A,{sx:{height:"75vh",width:"100%",overflow:"auto",paddingRight:"30px",paddingBottom:"25px"},children:(null===p||void 0===p||null===(t=p.message_list)||void 0===t?void 0:t.length)>0&&p.message_list.map((function(e,i){var t;return(null===e||void 0===e||null===(t=e.user_info)||void 0===t?void 0:t.user_id)===A?(0,u.jsx)(h,{message:e}):(0,u.jsx)(f,{message:e})}))}),(0,u.jsx)(k,{message:p,getData:function(){D.A.get("".concat(C.J,"/api/club/suggestions/").concat(p.id)).then((function(e){200===e.status&&g(e.data)})).catch((function(e){417===e.response.status?j(e.response.data.error,{variant:"error"}):j("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))}})]})})}}}]);