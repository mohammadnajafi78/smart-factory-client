"use strict";(self.webpackChunkbts=self.webpackChunkbts||[]).push([[8277],{14600:(e,t,n)=>{n.d(t,{A:()=>i});n(9950);const i=n.p+"static/media/attachComment.6bbc69d4068bb590f53551a54d4358a3.svg"},47929:(e,t,n)=>{n.d(t,{A:()=>i});n(9950);const i=n.p+"static/media/sendMessage.c0fd595d2e3ef55c4bcb0fcc85485589.svg"},54222:(e,t,n)=>{n.d(t,{A:()=>i});n(9950);const i=n.p+"static/media/smile.2c408059a17e01902420633471d5b685.svg"},58277:(e,t,n)=>{n.r(t),n.d(t,{default:()=>G});var i=n(89379),o=n(9950),r=n(14857),s=n(22433),a=n(60436),l=n(5544),c=n(14341),d=n(95537),x=n(18001),p=n(46483),g=n(70821),u=n(16673);const f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEDSURBVHgB7VPbDcIwDHQR/3SEbAAjZAMYgU1gg7JBOwIbABMAE6RMABuEM5yltOIRxCecdHLi2IdzDSJ/GGKMDvQak9xEc/Ip0FTHLhbMb7gP6Q+9E5uDZ5sEcUYRzzPDJlewAde9nE62og2G86P+wRPd0YPcBXS9fdaEnhNUvG7FvetdeSm5YOPevEr8DPQ3X+xbFNKdrESYgWO5+1Xy6ADuiqJYs84jTMEjuEW+NY0BC9SfCssAVhQ6qQibVLzmdWusW+Z1HfhuXTpZoGdeXoDeBnuDic+3x25F9lWdZCDe/3721ZvYxWSY1C6QyNEsX52poBreSD4urNfY9npb+T1cAfOhOfBvZIuiAAAAAElFTkSuQmCC",h="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADBSURBVHgB5ZNtDcIwEIbfLhNQHHQOkABKAAc4AAs4wAESmAQcrA7AQXmbFLJAb926/tuTXLrctueuX0Bh1OfBObfhYJCHVUq1X2GQ3f0L5GEYWy+tewlfpUEGbKgLDlQoTCVVdGm62L+1UOiANC+M7VD6+AcdS0od3pA+QpbRjBLm7rYo5IKfEO/wwmIPDCCt4UrIGySQpnxEJn9CTncNYQcH0FEhZTsOV0zHMtq+aM94hhtwxlyCsIwsCLWXYhG8ASR/arfKNI0EAAAAAElFTkSuQmCC",A="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACjSURBVHgB7ZPhCYQwDIXT4wZwhNvk6gaO4CbiJLqJbuAIOoIb1BcIqNhI6j/FDx60ad5raSnRS4wQQsmy9H7Ihof+lkZroJkbB+IRMq2urZ0GggbGYWuWcQe1mslpCzD/xDxDk5S5xqG5c26iVDgUGsPKKBuZAzxLCT2ESX9xFthCjXLSzNL/JQMp9xUL9LFTKvB37HebbydyRxWlUV968eewAKNSc5UH1mt2AAAAAElFTkSuQmCC";var m=n(37072),v=n(92797),S=n.n(v),b=(n(14600),n(54222)),y=n(46565),w=n(47929),C=n(59254),j=n(4721),I=n(44414),D=(0,g.A)((function(e){return{paper:{borderRadius:"20px 20px 0px 0px",zIndex:999,position:"fixed",bottom:0,height:"60%",overflow:"auto"}}})),k=(0,C.Ay)(c.A)({"& .MuiOutlinedInput-root":{backgroundColor:"#fafafa","& fieldset":{borderColor:"white"},"&:hover fieldset":{borderColor:"white"},"&.Mui-focused fieldset":{borderColor:"white"}},"& .MuiOutlinedInput-input":{fontSize:"14px"}});function E(e){var t,n=(0,o.useState)(null),i=(0,l.A)(n,2),r=(i[0],i[1],(0,o.useState)(!1)),s=(0,l.A)(r,2),c=s[0],g=s[1],v=(0,o.useState)(!1),C=(0,l.A)(v,2),E=C[0],N=C[1],_=(0,o.useState)([]),O=(0,l.A)(_,2),F=O[0],R=O[1],L=(0,o.useState)([]),B=(0,l.A)(L,2),M=B[0],W=B[1],Q=(0,o.useState)(""),J=(0,l.A)(Q,2),T=J[0],z=J[1],U=((0,u.useHistory)(),D()),G=e.location.state.session,Y=e.location.state.course,H=(0,o.useState)(new WebSocket("".concat(j.E,"/chat/").concat(G.session_num,"/?token=").concat(S()(localStorage.getItem("token")).chat_token))),P=(0,l.A)(H,2),V=P[0];P[1];(0,o.useEffect)((function(){V.onmessage=function(e){console.log("Chat Message: ",e.data);var t,n=JSON.parse(e.data);console.log("Chat Message2: ",n),"NORMAL"===n.msg_type?X(n):"JOIN"===n.msg_type?(console.log("\u06a9\u0627\u0631\u0628\u0631 \u0628\u0647 \u0686\u062a \u067e\u06cc\u0648\u0633\u062a",JSON.parse(localStorage.getItem("user")).user_id),function(){var e=1;V.send(JSON.stringify({command:"ALL",room:G.session_num,page_number:e}))}()):"LEAVE"===n.msg_type?(console.log("leave user",n),console.log("\u06a9\u0627\u0631\u0628\u0631 \u0686\u062a \u0631\u0627 \u062a\u0631\u06a9 \u06a9\u0631\u062f",JSON.parse(localStorage.getItem("user")).user_id)):"ERROR"===n.msg_type?console.log("error",null===n||void 0===n?void 0:n.error):"ROOM_CHAT"===n.msg_type?(console.log("All message",n.message),t=n.message,n.new_page_number,null!==t&&t.forEach((function(e){X(e)}))):"INFORMATION"===n.msg_type&&(console.log("data",n),console.log("user count",n.user_count),0!==n.user_count&&n.user_count,null!==n&&void 0!==n&&n.users&&(R(n.users),console.log("user list",n.users)))},V.addEventListener("open",(function(e){console.log("Chat Socket OPEN"),V.send(JSON.stringify({command:"JOIN",room:G.session_num}))})),V.onopen=function(e){console.log("Chat Socket is OPEN")},V.onclose=function(e){console.log("Chat Socket CLOSE")},V.onerror=function(e){console.log("Chat Socket error: "+e)},V.readyState===WebSocket.OPEN?console.log("Chat Socket State: OPEN"):V.readyState===WebSocket.CONNECTING?console.log("Chat Socket State: CONNECTING..."):V.readyState===WebSocket.CLOSING?console.log("Chat Socket State: CLOSING..."):V.readyState===WebSocket.CLOSED&&console.log("Chat Socket State: CLOSED")}),[]),(0,o.useEffect)((function(){return function(){console.log("leave the page"),V.send(JSON.stringify({command:"LEAVE",room:G.session_num}))}}),[]);function X(e){console.log("append message inja");var t=e.message,n=e.first_name,i=e.last_name,o=e.user_id,r=e.profile_image,s=e.timestamp;W((function(e){return[].concat((0,a.A)(e),[{message:t,first_name:n,last_name:i,user_id:o,profile_image:r,timestamp:s}])}))}return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(d.A,{sx:{display:"flex",flexDirection:"column",paddingTop:"100px",backgroundColor:"#E5E5E5",justifyContent:"center",alignItems:"flex-start",width:"100%",padding:"100px 10px 10px"},children:[(0,I.jsx)(m.A,{style:{color:"#00346D"},children:null===Y||void 0===Y?void 0:Y.name}),(0,I.jsx)("div",{style:{width:"100%",height:"100%"},dangerouslySetInnerHTML:{__html:'<iframe width="100%" height="100%" src='+(null===G||void 0===G?void 0:G.link.split('src="').pop().split('"')[0])+' frameborder="0" allowFullScreen></iframe>'}})]}),(0,I.jsxs)(d.A,{sx:{position:"fixed",bottom:"0%",width:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",height:"70px",padding:"10px",background:"#00346D",color:"white",gap:3},children:[(0,I.jsxs)(d.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},onClick:function(){return N(!0)},children:[(0,I.jsx)("img",{src:f,width:"20px",height:"20px"}),(0,I.jsx)(m.A,{style:{color:"white",fontSize:"14px"},children:"\u0634\u0631\u06a9\u062a \u06a9\u0646\u0646\u062f\u06af\u0627\u0646"})]}),(0,I.jsxs)(d.A,{sx:{display:"flex",flexDirection:"column"},onClick:function(){return g(!0)},children:[(0,I.jsx)("img",{src:h,width:"20px",height:"20px"}),(0,I.jsx)(m.A,{style:{color:"white",fontSize:"14px"},children:"\u0686\u062a"})]}),(0,I.jsx)("a",{href:null===G||void 0===G||null===(t=G.note)||void 0===t?void 0:t.url,download:!0,target:"_blank",style:{textDecoration:"none",display:"flex",flexDirection:"row",justifyContent:"flex-end"},children:(0,I.jsxs)(d.A,{sx:{display:"flex",flexDirection:"column"},children:[(0,I.jsx)("img",{src:A,width:"20px",height:"20px"}),(0,I.jsx)(m.A,{style:{color:"white",fontSize:"14px"},children:"\u062c\u0632\u0648\u0647"})]})})]}),(0,I.jsx)(x.Ay,{anchor:"bottom",open:c,onClose:function(){return g(!1)},classes:{paper:U.paper},children:(0,I.jsxs)(d.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"20px 20px 40px",gap:"20px",background:"#FFFFFF"},children:[(0,I.jsxs)(d.A,{sx:{width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"20px 20px 40px",gap:"20px",background:"#FFFFFF"},children:[(0,I.jsx)(m.A,{style:{color:"#335D8A"},children:"\u0686\u062a"}),M&&M.map((function(e,t){var n;return(0,I.jsxs)(I.Fragment,{children:[e.user_id===JSON.parse(localStorage.getItem("user")).user_id&&(0,I.jsxs)(d.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"flex-start",gap:"3px"},children:[(0,I.jsx)(d.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"10px",background:"#CCD6E2",borderRadius:"20px"},children:(0,I.jsx)("img",{src:null===e||void 0===e?void 0:e.profile_image,style:{width:"40px",height:"40px",borderRadius:"30px"}})}),(0,I.jsx)(d.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",padding:"0px",gap:"4px"},children:(0,I.jsx)(d.A,{sx:{display:"flex",flexDirection:"row",alignItems:"flex-start",padding:"12px",gap:"10px",background:"#00AAB5",boxShadow:"0px 4px 8px rgba(146, 146, 146, 0.25)",borderRadius:"0px 20px 20px 20px"},children:(0,I.jsx)(d.A,{sx:{fontWeight:500,fontSize:"14px",lineHeight:"22px",textAlign:"right",color:"#FFFFFF"},children:(null===e||void 0===e||null===(n=e.message)||void 0===n?void 0:n.length)>0&&(0,I.jsx)(m.A,{style:{fontWeight:400,fontSize:"14px",textAlign:"right",color:"white"},children:null===e||void 0===e?void 0:e.message})})})})]}),e.user_id!==JSON.parse(localStorage.getItem("user")).user_id&&(0,I.jsxs)(d.A,{sx:{display:"flex",flexDirection:"row",alignItems:"flex-start",gap:"10px",width:"100%",justifyContent:"flex-end"},children:[(0,I.jsx)(d.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-end",padding:"0px",gap:"4px"},children:(0,I.jsx)(d.A,{sx:{display:"flex",flexDirection:"row",alignItems:"flex-start",padding:"12px",gap:"10px",background:"#eee",boxShadow:"0px 0px 8px rgba(146, 146, 146, 0.25)",borderRadius:"20px 0px 20px 20px",width:"100%"},children:(null===e||void 0===e?void 0:e.message.length)>0&&(0,I.jsx)(m.A,{style:{fontWeight:400,fontSize:"14px",textAlign:"right",color:"#4F4C4D"},children:null===e||void 0===e?void 0:e.message})})}),(0,I.jsx)(d.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"10px",background:"#CCD6E2",borderRadius:"20px"},children:(0,I.jsx)("img",{src:e.profile_image,style:{width:"40px",height:"40px",borderRadius:"30px"}})})]})]})}))]}),(0,I.jsxs)(d.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",padding:"0px 6px",gap:"8px",background:"#fafafa",width:"100%",position:"fixed",bottom:0,right:0},children:[(0,I.jsx)(k,{fullWidth:!0,multiline:!0,placeholder:"\u0628\u0646\u0648\u06cc\u0633\u06cc\u062f...",classes:{MuiOutlinedInput:{root:{backgroundColor:"#fafafa"}}},InputProps:{startAdornment:(0,I.jsx)(p.A,{position:"start",children:(0,I.jsx)("img",{src:b.A})})},value:T,onChange:function(e){return z(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(V.send(JSON.stringify({command:"SEND",room:G.session_num,message:T})),z(""))}}),T&&(0,I.jsx)(y.A,{disabled:!1,variant:"contained",component:"label",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"20px",height:"20px",background:"#00AAB5",borderRadius:"22px"},onClick:function(){V.send(JSON.stringify({command:"SEND",room:G.session_num,message:T})),z("")},children:(0,I.jsx)("img",{src:w.A,width:"20px",height:"18px"})})]})]})}),(0,I.jsx)(x.Ay,{anchor:"bottom",open:E,onClose:function(){return N(!1)},classes:{paper:U.paper},children:(0,I.jsxs)(d.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"20px",gap:"20px",background:"#FFFFFF"},children:[(0,I.jsx)(m.A,{style:{color:"#335D8A"},children:"\u0634\u0631\u06a9\u062a \u06a9\u0646\u0646\u062f\u06af\u0627\u0646"}),(0,I.jsx)(d.A,{sx:{display:"flex",flexDirection:"column",gap:"5px"},children:null===F||void 0===F?void 0:F.map((function(e,t){return(0,I.jsxs)(d.A,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,I.jsx)(d.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"10px",background:"#CCD6E2",borderRadius:"20px",marginRight:"5px"},children:(0,I.jsx)("img",{src:null===e||void 0===e?void 0:e.profile_image,style:{width:"40px",height:"40px",borderRadius:"30px"}})}),(0,I.jsx)(m.A,{children:e.first_name+" "+e.last_name})]})}))})]})})]})}var N=n(74489),_=n(75603),O=n(34977),F=n(74745),R=n(57073),L=n(62145),B=n(80392),M=350,W=(0,g.A)((function(e){return{paper:{borderRadius:"20px 20px 0px 0px",zIndex:999,position:"fixed",bottom:0,minHeight:"60%"}}})),Q=(0,C.Ay)(c.A)({"& .MuiOutlinedInput-root":{backgroundColor:"#fafafa","& fieldset":{borderColor:"white"},"&:hover fieldset":{borderColor:"white"},"&.Mui-focused fieldset":{borderColor:"white"}},"& .MuiOutlinedInput-input":{fontSize:"14px"}}),J=(0,C.Ay)("main",{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return(0,i.A)({width:"160vh",height:"90%",flexGrow:1,padding:t.spacing(3),transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),marginLeft:"-".concat(M,"px")},n&&{transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginLeft:0})})),T=(0,C.Ay)(_.A,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return(0,i.A)({background:"#00346D",gap:"20px",display:"flex",transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{width:"calc(100% - ".concat(M,"px)"),marginLeft:"".concat(M,"px"),transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen})})})),z=(0,C.Ay)("div")((function(e){var t=e.theme;return(0,i.A)((0,i.A)({display:"flex",alignItems:"center",padding:t.spacing(0,1)},t.mixins.toolbar),{},{justifyContent:"flex-end"})}));function U(e){var t,n=(0,r.A)(),i=o.useState(!1),s=(0,l.A)(i,2),c=s[0],g=s[1],v=(0,o.useState)(null),C=(0,l.A)(v,2),D=(C[0],C[1],(0,o.useState)(!1)),k=(0,l.A)(D,2),E=(k[0],k[1],(0,o.useState)(!1)),_=(0,l.A)(E,2),U=(_[0],_[1],(0,o.useState)([])),G=(0,l.A)(U,2),Y=G[0],H=G[1],P=(0,o.useState)([]),V=(0,l.A)(P,2),X=V[0],K=V[1],Z=(0,o.useState)(""),q=(0,l.A)(Z,2),$=q[0],ee=q[1],te=(0,o.useState)("user"),ne=(0,l.A)(te,2),ie=ne[0],oe=ne[1],re=((0,u.useHistory)(),W(),e.location.state.session),se=(e.location.state.course,(0,o.useState)(new WebSocket("".concat(j.E,"/chat/").concat(re.session_num,"/?token=").concat(S()(localStorage.getItem("token")).chat_token)))),ae=(0,l.A)(se,2),le=ae[0];ae[1];(0,o.useEffect)((function(){le.onmessage=function(e){console.log("Chat Message: ",e.data);var t,n=JSON.parse(e.data);console.log("Chat Message2: ",n),"NORMAL"===n.msg_type?ce(n):"JOIN"===n.msg_type?(console.log("\u06a9\u0627\u0631\u0628\u0631 \u0628\u0647 \u0686\u062a \u067e\u06cc\u0648\u0633\u062a",JSON.parse(localStorage.getItem("user")).user_id),function(){var e=1;le.send(JSON.stringify({command:"ALL",room:re.session_num,page_number:e}))}()):"LEAVE"===n.msg_type?(console.log("leave user",n),console.log("\u06a9\u0627\u0631\u0628\u0631 \u0686\u062a \u0631\u0627 \u062a\u0631\u06a9 \u06a9\u0631\u062f",JSON.parse(localStorage.getItem("user")).user_id)):"ERROR"===n.msg_type?console.log("error",null===n||void 0===n?void 0:n.error):"ROOM_CHAT"===n.msg_type?(console.log("All message",n.message),t=n.message,n.new_page_number,null!==t&&t.forEach((function(e){ce(e)}))):"INFORMATION"===n.msg_type&&(console.log("data",n),console.log("user count",n.user_count),0!==n.user_count&&n.user_count,null!==n&&void 0!==n&&n.users&&(H(n.users),console.log("user list",n.users)))},le.addEventListener("open",(function(e){console.log("Chat Socket OPEN"),le.send(JSON.stringify({command:"JOIN",room:re.session_num}))})),le.onopen=function(e){console.log("Chat Socket is OPEN")},le.onclose=function(e){console.log("Chat Socket CLOSE")},le.onerror=function(e){console.log("Chat Socket error: "+e)},le.readyState===WebSocket.OPEN?console.log("Chat Socket State: OPEN"):le.readyState===WebSocket.CONNECTING?console.log("Chat Socket State: CONNECTING..."):le.readyState===WebSocket.CLOSING?console.log("Chat Socket State: CLOSING..."):le.readyState===WebSocket.CLOSED&&console.log("Chat Socket State: CLOSED")}),[]),(0,o.useEffect)((function(){return function(){console.log("leave the page"),le.send(JSON.stringify({command:"LEAVE",room:re.session_num}))}}),[]);function ce(e){console.log("append message inja");var t=e.message,n=e.first_name,i=e.last_name,o=e.user_id,r=e.profile_image,s=e.timestamp;K((function(e){return[].concat((0,a.A)(e),[{message:t,first_name:n,last_name:i,user_id:o,profile_image:r,timestamp:s}])}))}var de=function(e){g(!0),oe(e)};return(0,I.jsxs)(d.A,{sx:{display:"flex"},children:[(0,I.jsx)(N.Ay,{}),(0,I.jsx)(T,{position:"fixed",open:c,children:(0,I.jsxs)(O.A,{children:[(0,I.jsxs)(d.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",margin:"0px 10px"},onClick:function(){return de("user")},children:[(0,I.jsx)("img",{src:f,width:"20px",height:"20px"}),(0,I.jsx)(m.A,{style:{color:"white",fontSize:"14px"},children:"\u0634\u0631\u06a9\u062a \u06a9\u0646\u0646\u062f\u06af\u0627\u0646"})]}),(0,I.jsxs)(d.A,{sx:{display:"flex",flexDirection:"column",margin:"0px 10px"},onClick:function(){return de("chat")},children:[(0,I.jsx)("img",{src:h,width:"20px",height:"20px"}),(0,I.jsx)(m.A,{style:{color:"white",fontSize:"14px"},children:"\u0686\u062a"})]}),(0,I.jsx)("a",{href:null===re||void 0===re||null===(t=re.note)||void 0===t?void 0:t.url,download:!0,target:"_blank",style:{textDecoration:"none",display:"flex",flexDirection:"row",justifyContent:"flex-end"},children:(0,I.jsxs)(d.A,{sx:{display:"flex",flexDirection:"column",margin:"0px 10px",cursor:"pointer"},children:[(0,I.jsx)("img",{src:A,width:"20px",height:"20px"}),(0,I.jsx)(m.A,{style:{color:"white",fontSize:"14px",cursor:"pointer"},children:"\u062c\u0632\u0648\u0647"})]})})]})}),(0,I.jsxs)(x.Ay,{sx:{width:M,flexShrink:0,"& .MuiDrawer-paper":{width:M,boxSizing:"border-box"}},variant:"persistent",anchor:"left",open:c,children:[(0,I.jsx)(z,{children:(0,I.jsxs)(d.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",padding:"0px 10px"},children:[(0,I.jsx)(m.A,{style:{color:"#335D8A"},children:"user"===ie?"\u0634\u0631\u06a9\u062a \u06a9\u0646\u0646\u062f\u06af\u0627\u0646":"\u0686\u062a"}),(0,I.jsx)(R.A,{onClick:function(){g(!1)},children:"ltr"===n.direction?(0,I.jsx)(L.A,{}):(0,I.jsx)(B.A,{})})]})}),(0,I.jsx)(F.A,{}),"chat"===ie?(0,I.jsxs)(d.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"20px",background:"#FFFFFF"},children:[(0,I.jsx)(d.A,{sx:{width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"20px 20px 0px",gap:"20px",background:"#FFFFFF"},children:X&&X.map((function(e,t){var n;return(0,I.jsxs)(I.Fragment,{children:[e.user_id===JSON.parse(localStorage.getItem("user")).user_id&&(0,I.jsxs)(d.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"flex-start",gap:"3px"},children:[(0,I.jsx)(d.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"10px",background:"#CCD6E2",borderRadius:"20px"},children:(0,I.jsx)("img",{src:null===e||void 0===e?void 0:e.profile_image,style:{width:"40px",height:"40px",borderRadius:"30px"}})}),(0,I.jsx)(d.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",padding:"0px",gap:"4px"},children:(0,I.jsx)(d.A,{sx:{display:"flex",flexDirection:"row",alignItems:"flex-start",padding:"12px",gap:"10px",background:"#00AAB5",boxShadow:"0px 4px 8px rgba(146, 146, 146, 0.25)",borderRadius:"0px 20px 20px 20px"},children:(0,I.jsx)(d.A,{sx:{fontWeight:500,fontSize:"14px",lineHeight:"22px",textAlign:"right",color:"#FFFFFF"},children:(null===e||void 0===e||null===(n=e.message)||void 0===n?void 0:n.length)>0&&(0,I.jsx)(m.A,{style:{fontWeight:400,fontSize:"14px",textAlign:"right",color:"white"},children:null===e||void 0===e?void 0:e.message})})})})]}),e.user_id!==JSON.parse(localStorage.getItem("user")).user_id&&(0,I.jsxs)(d.A,{sx:{display:"flex",flexDirection:"row",alignItems:"flex-start",gap:"10px",width:"100%",justifyContent:"flex-end"},children:[(0,I.jsx)(d.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-end",padding:"0px",gap:"4px"},children:(0,I.jsx)(d.A,{sx:{display:"flex",flexDirection:"row",alignItems:"flex-start",padding:"12px",gap:"10px",background:"#eee",boxShadow:"0px 0px 8px rgba(146, 146, 146, 0.25)",borderRadius:"20px 0px 20px 20px",width:"100%"},children:(null===e||void 0===e?void 0:e.message.length)>0&&(0,I.jsx)(m.A,{style:{fontWeight:400,fontSize:"14px",textAlign:"right",color:"#4F4C4D"},children:null===e||void 0===e?void 0:e.message})})}),(0,I.jsx)(d.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"10px",background:"#CCD6E2",borderRadius:"20px"},children:(0,I.jsx)("img",{src:e.profile_image,style:{width:"40px",height:"40px",borderRadius:"30px"}})})]})]})}))}),(0,I.jsxs)(d.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",padding:"0px 6px",background:"#fafafa",width:"100%",position:"relative",bottom:0,right:0},children:[(0,I.jsx)(Q,{fullWidth:!0,multiline:!0,placeholder:"\u0628\u0646\u0648\u06cc\u0633\u06cc\u062f...",classes:{MuiOutlinedInput:{root:{backgroundColor:"#fafafa"}}},InputProps:{startAdornment:(0,I.jsx)(p.A,{position:"start",children:(0,I.jsx)("img",{src:b.A})})},value:$,onChange:function(e){return ee(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(le.send(JSON.stringify({command:"SEND",room:re.session_num,message:$})),ee(""))}}),$&&(0,I.jsx)(y.A,{disabled:!1,variant:"contained",component:"label",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"20px",height:"20px",background:"#00AAB5",borderRadius:"22px"},onClick:function(){le.send(JSON.stringify({command:"SEND",room:re.session_num,message:$})),ee("")},children:(0,I.jsx)("img",{src:w.A,width:"20px",height:"18px"})})]})]}):(0,I.jsx)(d.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"20px",gap:"20px",background:"#FFFFFF"},children:(0,I.jsx)(d.A,{sx:{display:"flex",flexDirection:"column",gap:"5px"},children:null===Y||void 0===Y?void 0:Y.map((function(e,t){return(0,I.jsxs)(d.A,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,I.jsx)(d.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"10px",background:"#CCD6E2",borderRadius:"20px",marginRight:"5px"},children:(0,I.jsx)("img",{src:null===e||void 0===e?void 0:e.profile_image,style:{width:"40px",height:"40px",borderRadius:"30px"}})}),(0,I.jsx)(m.A,{children:e.first_name+" "+e.last_name})]})}))})})]}),(0,I.jsxs)(J,{open:c,children:[(0,I.jsx)(z,{}),(0,I.jsx)("div",{style:{width:"100%",height:"100%"},dangerouslySetInnerHTML:{__html:'<iframe width="100%" height="100%" src='+(null===re||void 0===re?void 0:re.link.split('src="').pop().split('"')[0])+' frameborder="0" allowFullScreen></iframe>'}})]})]})}const G=function(e){var t=(0,r.A)(),n=((0,u.useParams)().id,(0,s.A)(t.breakpoints.down("md")));return(0,I.jsx)(I.Fragment,{children:n?(0,I.jsx)(E,(0,i.A)({},e)):(0,I.jsx)(U,(0,i.A)({},e))})}},62145:(e,t,n)=>{var i=n(24994);t.A=void 0;var o=i(n(79526)),r=n(44414),s=(0,o.default)((0,r.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft");t.A=s},80392:(e,t,n)=>{var i=n(24994);t.A=void 0;var o=i(n(79526)),r=n(44414),s=(0,o.default)((0,r.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");t.A=s},74745:(e,t,n)=>{n.d(t,{A:()=>A});var i=n(98587),o=n(58168),r=n(9950),s=n(60533),a=n(88465),l=n(97497),c=n(59254),d=n(48283),x=n(40777),p=n(44414),g=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],u=(0,c.Ay)("div",{name:"MuiDivider",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})((function(e){var t=e.theme,n=e.ownerState;return(0,o.A)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},n.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},n.light&&{borderColor:t.vars?"rgba(".concat(t.vars.palette.dividerChannel," / 0.08)"):(0,l.X4)(t.palette.divider,.08)},"inset"===n.variant&&{marginLeft:72},"middle"===n.variant&&"horizontal"===n.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===n.variant&&"vertical"===n.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===n.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},n.flexItem&&{alignSelf:"stretch",height:"auto"})}),(function(e){var t=e.ownerState;return(0,o.A)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}})}),(function(e){var t=e.theme,n=e.ownerState;return(0,o.A)({},n.children&&"vertical"!==n.orientation&&{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider)}})}),(function(e){var t=e.theme,n=e.ownerState;return(0,o.A)({},n.children&&"vertical"===n.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((t.vars||t).palette.divider)}})}),(function(e){var t=e.ownerState;return(0,o.A)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),f=(0,c.Ay)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:function(e,t){var n=e.ownerState;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})((function(e){var t=e.theme,n=e.ownerState;return(0,o.A)({display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)")},"vertical"===n.orientation&&{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")})})),h=r.forwardRef((function(e,t){var n=(0,d.A)({props:e,name:"MuiDivider"}),r=n.absolute,l=void 0!==r&&r,c=n.children,h=n.className,A=n.component,m=void 0===A?c?"div":"hr":A,v=n.flexItem,S=void 0!==v&&v,b=n.light,y=void 0!==b&&b,w=n.orientation,C=void 0===w?"horizontal":w,j=n.role,I=void 0===j?"hr"!==m?"separator":void 0:j,D=n.textAlign,k=void 0===D?"center":D,E=n.variant,N=void 0===E?"fullWidth":E,_=(0,i.A)(n,g),O=(0,o.A)({},n,{absolute:l,component:m,flexItem:S,light:y,orientation:C,role:I,textAlign:k,variant:N}),F=function(e){var t=e.absolute,n=e.children,i=e.classes,o=e.flexItem,r=e.light,s=e.orientation,l=e.textAlign,c={root:["root",t&&"absolute",e.variant,r&&"light","vertical"===s&&"vertical",o&&"flexItem",n&&"withChildren",n&&"vertical"===s&&"withChildrenVertical","right"===l&&"vertical"!==s&&"textAlignRight","left"===l&&"vertical"!==s&&"textAlignLeft"],wrapper:["wrapper","vertical"===s&&"wrapperVertical"]};return(0,a.A)(c,x.K,i)}(O);return(0,p.jsx)(u,(0,o.A)({as:m,className:(0,s.A)(F.root,h),role:I,ref:t,ownerState:O},_,{children:c?(0,p.jsx)(f,{className:F.wrapper,ownerState:O,children:c}):null}))}));h.muiSkipListHighlight=!0;const A=h}}]);