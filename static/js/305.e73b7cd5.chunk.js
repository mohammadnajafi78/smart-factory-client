"use strict";(self.webpackChunkbts=self.webpackChunkbts||[]).push([[305],{82669:(e,n,t)=>{t.d(n,{A:()=>r});t(9950);const r=t.p+"static/media/attach.ff9a92d492af27efb56122f15c661d9e.svg"},11131:(e,n,t)=>{t.d(n,{A:()=>r});t(9950);const r=t.p+"static/media/delete.c16b753a6f5712bce41f56c8a50d9186.svg"},23353:(e,n,t)=>{t.d(n,{A:()=>r});t(9950);const r=t.p+"static/media/upload.8253858f7da368e338b06236df25c3ab.svg"},70305:(e,n,t)=>{t.r(n),t.d(n,{default:()=>A});var r=t(5544),i=t(9950),s=t(95537),o=t(67535),a=t(14341),l=t(41608),c=t(4721),d=t(37072),p=t(46565),x=t(95374),u=t(16673),f=t(23353),h=t(11131),g=t(82669),m=t(29031),y=t(44414);function A(e){var n=(0,i.useState)(null),t=(0,r.A)(n,2),A=t[0],j=t[1],b=(0,i.useState)(null),v=(0,r.A)(b,2),w=v[0],k=v[1],C=(0,u.useHistory)(),D=(0,i.useState)(!1),O=(0,r.A)(D,2),S=O[0],R=O[1],F=(0,m.dh)().enqueueSnackbar;return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",padding:"16px 20px",justifyContent:"space-between",height:"inherit",gap:"10px"},children:[(0,y.jsxs)(s.A,{children:[(0,y.jsxs)(s.A,{sx:{display:"inline-flex"},onClick:function(){C.goBack()},children:[(0,y.jsx)(x.A,{color:"#335D8A",width:"15px"}),(0,y.jsx)(d.A,{style:{color:"#335D8A",fontSize:"14px"},children:"\u0628\u0627\u0632\u06af\u0634\u062a"})]}),(0,y.jsx)(s.A,{children:(0,y.jsxs)(s.A,{sx:{display:"flex",gap:"10px",flexDirection:"column"},children:[(0,y.jsx)(d.A,{style:{fontSize:"14px"},children:"\u067e\u06cc\u0634\u200c\u0641\u0627\u06a9\u062a\u0648\u0631 \u0633\u0641\u0627\u0631\u0634 \u062f\u0631\u06cc\u0627\u0641\u062a\u06cc \u062e\u0648\u062f \u0631\u0627 \u0628\u0627\u0631\u06af\u0630\u0627\u0631\u06cc \u06a9\u0646\u06cc\u062f:"}),A?(0,y.jsx)(y.Fragment,{children:A.map((function(e,n){return(0,y.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"center",padding:"20px 0px 5px",gap:"20px",height:"320px",border:"2px dashed #99DDE1",borderRadius:"4px"},children:[(0,y.jsx)("img",{src:URL.createObjectURL(e),width:"300px",height:"180px",style:{borderRadius:"8px"}}),(0,y.jsx)(d.A,{style:{color:"#335D8A"},children:e.name}),(0,y.jsxs)(s.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-around",width:"100%"},children:[(0,y.jsxs)(o.A,{sx:{fontFamily:"IRANSans",fontSize:"16px",fontWeight:400},onClick:function(){A.filter((function(n){return n.name!==e.name})).length>0?j(A.filter((function(n){return n.name!==e.name}))):j(null)},children:[(0,y.jsx)("img",{src:h.A,width:"13px",height:"13px"}),"\u067e\u0627\u06a9 \u06a9\u0631\u062f\u0646"]}),(0,y.jsxs)(o.A,{sx:{fontFamily:"IRANSans",fontSize:"16px",fontWeight:400},component:"label",onChange:function(e){j(e.target.files)},children:[(0,y.jsx)("img",{src:g.A,width:"13px",height:"20px"}),"\u062a\u063a\u06cc\u06cc\u0631 \u0641\u0627\u06cc\u0644",(0,y.jsx)("input",{type:"file",hidden:!0,multiple:!0})]})]})]})}))}):(0,y.jsxs)(o.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"40px 0px",gap:"30px",height:"150px",border:"2px dashed #99DDE1",borderRadius:"4px",color:"#4F4C4D",fontFamily:"IRANSans",fontWeight:400,fontSize:"16px"},component:"label",onChange:function(e){j(Array.from(e.target.files))},children:[(0,y.jsx)("img",{src:f.A,with:"33px",height:"28px"}),"\u0627\u0646\u062a\u062e\u0627\u0628 \u0641\u0627\u06cc\u0644",(0,y.jsx)("input",{type:"file",hidden:!0,multiple:!0})]}),(0,y.jsxs)(s.A,{sx:{mt:1,width:"100%"},children:[(0,y.jsx)(d.A,{style:{color:"#A7A5A6"},children:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a"}),(0,y.jsx)(a.A,{id:"name","aria-describedby":"my-helper-text",fullWidth:!0,placeholder:"...\u0628\u0646\u0648\u06cc\u0633\u06cc\u062f",rows:5,multiline:!0,sx:{background:"#F2F2F2",borderRadius:"4px",margin:"3px 3px"},value:w,onChange:function(e){return k(e.target.value)}})]})]})})]}),(0,y.jsxs)(s.A,{sx:{display:"inline-flex",justifyContent:"center",gap:2},children:[(0,y.jsx)(p.A,{disabled:!1,variant:"outlined",onClick:function(){C.goBack()},type:"button",children:"\u0644\u063a\u0648"}),(0,y.jsx)(p.A,{loading:S,onClick:function(){R(!0);var n=new FormData;n.append("order_num",e.location.state.order_num),n.append("order_action","Approve"),n.append("state","PI"),n.append("comment",w);for(var t=0;t<A.length;t++)n.append("INVOICE"+t,A[t]);l.A.post("".concat(c.J,"/api/orders/update_order_state/"),n).then((function(e){R(!1),200===e.status&&C.push("/sale/received")})).catch((function(e){R(!1),417===e.response.status?F(e.response.data.error,{variant:"error"}):F("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))},children:"\u062b\u0628\u062a \u067e\u06cc\u0634 \u0641\u0627\u06a9\u062a\u0648\u0631"})]})]})})}},95374:(e,n,t)=>{t.d(n,{A:()=>c});var r=t(9950),i=t(89561),s=t.n(i);function o(){return o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},o.apply(this,arguments)}function a(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var l=(0,r.forwardRef)((function(e,n){var t=e.color,i=void 0===t?"currentColor":t,s=e.size,l=void 0===s?24:s,c=a(e,["color","size"]);return r.createElement("svg",o({ref:n,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),r.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),r.createElement("polyline",{points:"12 5 19 12 12 19"}))}));l.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},l.displayName="ArrowRight";const c=l}}]);