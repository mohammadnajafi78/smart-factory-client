"use strict";(self.webpackChunkbts=self.webpackChunkbts||[]).push([[8036],{67293:(e,t,n)=>{n.d(t,{A:()=>i});n(9950);const i=n.p+"static/media/close.c8d69135c64f5f15f0143f070eca1856.svg"},56823:(e,t,n)=>{n.d(t,{A:()=>i});n(9950);const i=n.p+"static/media/domain.8e9f309dff756775ad8c8cb018c32695.svg"},28423:(e,t,n)=>{n.d(t,{A:()=>i});n(9950);const i=n.p+"static/media/done.a4efbfb59bb0cd31bb65ccc6780b2e23.svg"},23353:(e,t,n)=>{n.d(t,{A:()=>i});n(9950);const i=n.p+"static/media/upload.8253858f7da368e338b06236df25c3ab.svg"},65005:(e,t,n)=>{n.d(t,{A:()=>i});n(9950);const i=n.p+"static/media/local_shipping.a60c117b902490798a3e06f886ea71c4.svg"},58484:(e,t,n)=>{n.d(t,{A:()=>i});n(9950);const i=n.p+"static/media/person.34a9b582540969c80f6683ccd72c0408.svg"},68036:(e,t,n)=>{n.r(t),n.d(t,{default:()=>he});var i=n(89379),s=n(9950),r=n(14857),l=n(22433),o=n(5544),a=n(95537),d=n(70821),x=n(64467),c=n(67535),p=n(74745),u=n(18001),f=n(14341),h=n(60625),A=n(41608),g=n(4721),m=n(37072),y=n(51085),j=n(46565),b=n(21333),_=n(16673),w=n(82310),v=n(4534),C=n(24232),D=n(29031),S=n(44414);function k(e){var t,n=e.data,i=(0,s.useState)(n),r=(0,o.A)(i,2),l=r[0],d=r[1],x=(0,D.dh)().enqueueSnackbar;return(0,s.useEffect)((function(){"INCOMPLETE_DELIVERY"===n.current_state.name&&A.A.get("".concat(g.J,"/api/orders/get_incomplete_delivery?order_num=").concat(n.order_num)).then((function(e){200===e.status&&d(e.data)})).catch((function(e){417===e.response.status?x(e.response.data.error,{variant:"error"}):x("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))}),[]),(0,S.jsx)(a.A,{style:{position:"relative"},children:l&&(0,S.jsxs)(a.A,{children:[(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"baseline"},children:[(0,S.jsx)(v.A,{style:{color:"#231F20",fontSize:"18px",marginBottom:"20px"},children:"\u0644\u06cc\u0633\u062a \u0633\u0641\u0627\u0631\u0634\u0627\u062a"}),n&&(0,S.jsx)(C.A,{data:null===n||void 0===n||null===(t=n.files)||void 0===t?void 0:t.filter((function(e){return"EXCEL"!==e.subject}))})]}),(0,S.jsx)(a.A,{children:l.products.map((function(e,t){return(0,S.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,S.jsx)("img",{src:e.product_detail.type_detail.images[0].url,width:"36px",height:"36px"}),(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",marginBottom:"15px"},children:[(0,S.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,S.jsxs)(a.A,{sx:{display:"inline-flex"},children:[(0,S.jsx)(m.A,{style:{color:"#00346D",fontSize:"12px",fontWeight:400},children:e.product_type.name_translate.item_fa}),(0,S.jsx)(m.A,{style:{color:"#6685A7",fontSize:"12px",fontWeight:200,direction:"ltr"},children:"(".concat(e.product_detail.size,")")})]}),(0,S.jsx)(m.A,{style:{color:"#00346D",fontSize:"14px",fontWeight:400},children:"".concat(e.price," ")})]}),(0,S.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,S.jsxs)(a.A,{sx:{display:"inline-flex"},children:[(0,S.jsx)(m.A,{style:{color:"#00346D",fontSize:"14px",fontWeight:400},children:e.package_quantity}),(0,S.jsx)(m.A,{style:{color:"#00AAB5",fontSize:"14px",fontWeight:300},children:"x"}),(0,S.jsx)(m.A,{style:{color:"#6685A7",fontSize:"14px",fontWeight:300},children:"SINGULAR"===e.package_type?e.product_detail.singular_package_detail.translate_detail.item_fa:"SMALL"===e.package_type?e.product_detail.small_plural_package_detail.translate_detail.item_fa:e.product_detail.large_plural_package_detail.translate_detail.item_fa})]}),(0,S.jsx)(m.A,{style:{color:"#335D8A",fontSize:"14px",fontWeight:400},children:"".concat(e.total_price," ")})]})]})]})}))}),(0,S.jsx)(p.A,{}),"INCOMPLETE_DELIVERY"!==n.current_state.name&&(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",mt:2},children:[(0,S.jsx)(m.A,{style:{color:"#335D8A",fontSize:"14px",fontWeight:400},children:"\u0645\u062c\u0645\u0648\u0639"}),(0,S.jsx)(m.A,{style:{color:"#335D8A",fontSize:"16px",fontWeight:700},children:"".concat(l.final_price," ")})]})]})})}var I=n(21689),E=n(65005),F=n(58484),R=n(56823),z=(0,d.A)((function(e){return{paper:{borderRadius:"20px 20px 0px 0px",zIndex:999,position:"fixed",bottom:0,minHeight:"40%"}}}));function W(e){var t,n,i,r,l,d,v=e.data,C=z(),W=(0,s.useState)(!1),L=(0,o.A)(W,2),B=L[0],P=L[1],H=(0,s.useState)(!1),N=(0,o.A)(H,2),O=N[0],T=N[1],J=(0,s.useState)(null),V=(0,o.A)(J,2),M=V[0],U=V[1],Y=(0,s.useState)(null),q=(0,o.A)(Y,2),G=q[0],X=q[1],K=(0,_.useHistory)(),$=JSON.parse(localStorage.getItem("user")).user_id,Q=(0,D.dh)().enqueueSnackbar;return(0,S.jsxs)(S.Fragment,{children:["WAITING_FOR_PAYMENT_APPROVE"===v.current_state.name&&(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"20px 20px 14px",gap:"10px",background:"#E6EBF0"},children:[(0,S.jsxs)(a.A,{sx:{display:"inline-flex"},children:[(0,S.jsx)("img",{src:I.A,style:{marginBottom:"20px",marginLeft:"5px"}}),(0,S.jsx)(m.A,{style:{fontWeight:400,fontSize:"14px",lineHeight:"20px",color:"#00346D"},children:"\u0633\u0641\u0627\u0631\u0634 \u062f\u0647\u0646\u062f\u0647 \u0645\u0628\u0644\u063a ".concat(v.final_price,"  \u0631\u0627 \u0628\u0631\u0627\u06cc \u0627\u06cc\u0646 \u0633\u0641\u0627\u0631\u0634 \u067e\u0631\u062f\u0627\u062e\u062a \u06a9\u0631\u062f\u0647 \u0627\u0633\u062a")})]}),(0,S.jsx)(a.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-end",width:"100%",gap:"6px"},children:(0,S.jsxs)(c.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",padding:"6px 8px",height:"32px",background:"#335D8A",borderRadius:"4px","&:hover":{background:"#00346D",color:"white"}},onClick:function(){K.push({pathname:"/sale/received/payment",state:v})},children:[(0,S.jsx)(m.A,{style:{color:"white",padding:0},children:"\u062a\u0627\u06cc\u06cc\u062f \u067e\u0631\u062f\u0627\u062e\u062a"}),(0,S.jsx)(b.A,{color:"white"})]})})]}),"PAYMENT_APPROVED"===v.current_state.name&&"SALE_OFFICE"!==v.supply_by&&(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"20px 20px 14px",gap:"10px",background:"#E6EBF0"},children:[(0,S.jsxs)(a.A,{sx:{display:"inline-flex"},children:[(0,S.jsx)("img",{src:E.A,style:{marginBottom:"20px",marginLeft:"5px"}}),(0,S.jsx)(m.A,{style:{fontWeight:400,fontSize:"14px",lineHeight:"20px",color:"#00346D"},children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0627\u0631\u0633\u0627\u0644 \u0631\u0627 \u0648\u0627\u0631\u062f \u0648 \u0628\u0627\u0631\u0646\u0627\u0645\u0647 \u0631\u0627 \u0636\u0645\u06cc\u0645\u0647 \u06a9\u0646\u06cc\u062f:"})]}),(0,S.jsx)(a.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-end",width:"100%",gap:"6px"},children:(0,S.jsxs)(c.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",padding:"6px 8px",height:"32px",background:"#335D8A",borderRadius:"4px","&:hover":{background:"#00346D",color:"white"}},onClick:function(){v.user_type_info.filter((function(e){return"Representer"===e.user_type})).length>=0?T(!0):K.push({pathname:"/sale/received/delivery",order_num:v.order_num,state:v.current_state.name})},children:[(0,S.jsx)(m.A,{style:{color:"white",padding:0},children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0627\u0631\u0633\u0627\u0644"}),(0,S.jsx)(b.A,{color:"white"})]})})]}),"INCOMPLETE_DELIVERY"===v.current_state.name&&(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"20px 20px 14px",gap:"10px",background:"#E6EBF0"},children:[(0,S.jsxs)(a.A,{sx:{display:"inline-flex"},children:[(0,S.jsx)("img",{src:E.A,style:{marginBottom:"20px",marginLeft:"5px"}}),(0,S.jsx)(m.A,{style:{fontWeight:400,fontSize:"14px",lineHeight:"20px",color:"#00346D",marginBottom:2},children:"\u0644\u06cc\u0633\u062a \u0646\u0627\u0642\u0635\u06cc \u0647\u0627\u06cc \u0633\u0641\u0627\u0631\u0634 \u062f\u0631 \u0632\u06cc\u0631 \u0622\u0648\u0631\u062f\u0647 \u0634\u062f\u0647 \u0627\u0633\u062a\u060c \u0648\u0636\u0639\u06cc\u062a \u0633\u0641\u0627\u0631\u0634 \u0631\u0627 \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f:"})]}),(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-end",width:"100%",gap:"6px"},children:[(0,S.jsxs)(c.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",padding:"6px 8px",height:"32px",borderRadius:"4px",border:"1px solid #F14950"},onClick:function(){P(!0)},children:[(0,S.jsx)("img",{src:y.A}),(0,S.jsx)(m.A,{style:{color:"#F14950",padding:0},children:"\u0631\u062f \u0646\u0627\u0642\u0635\u06cc"})]}),(0,S.jsxs)(c.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",padding:"6px 8px",height:"32px",background:"#335D8A",borderRadius:"4px","&:hover":{background:"#00346D",color:"white"}},onClick:function(){K.push({pathname:"/sale/received/delivery",order_num:v.order_num,state:v.current_state.name})},children:[(0,S.jsx)(m.A,{style:{color:"white",padding:0},children:"\u062a\u0627\u06cc\u06cc\u062f \u0646\u0627\u0642\u0635\u06cc"}),(0,S.jsx)(b.A,{color:"white"})]})]})]}),(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",padding:"20px",justifyContent:"space-between",height:"inherit",backgroundColor:"white"},children:[(0,S.jsxs)(a.A,{children:[(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:"10px"},children:[(0,S.jsx)(a.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:"10px 15px",gap:"10px",width:"75px",height:"84px",background:"#F4F4F4",borderRadius:"8px"},children:(0,S.jsx)("img",{src:null===v||void 0===v||null===(t=v.user_info)||void 0===t?void 0:t.user_profile_image,style:{width:"44px"}})}),(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"0px",gap:"12px",width:"100%",height:"70px"},children:[(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"0px",gap:"8px",width:"100%",height:"25px"},children:[(0,S.jsx)(m.A,{style:{fontWeight:500,fontSize:"16px",color:"#00346D",lineHeight:"17px"},children:(null===v||void 0===v||null===(n=v.user_info)||void 0===n?void 0:n.first_name)+" "+(null===v||void 0===v||null===(i=v.user_info)||void 0===i?void 0:i.last_name)}),(0,S.jsx)(a.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:"3px 4px !important",background:"#CCEEF0",borderRadius:"4px",color:"#00AAB5"},children:(0,S.jsx)(m.A,{style:{color:"#00AAB5",fontSize:"12px",textAlign:"center"},children:null===v||void 0===v||null===(r=v.current_state)||void 0===r?void 0:r.label})})]}),(0,S.jsx)(a.A,{sx:(l={display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",padding:"0px",gap:"4px",color:"#335D8A",width:"100%"},(0,x.A)(l,"padding","3px 6px"),(0,x.A)(l,"borderRadius","4px"),l),children:(0,S.jsx)(m.A,{style:{fontWeight:400,fontSize:"12px",color:"#335D8A",lineHeight:"16px"},children:"\u062b\u0628\u062a: ".concat((0,w.A)(null===v||void 0===v?void 0:v.create_date))})}),"CANCELED"===v.current_state.name&&(0,S.jsx)(a.A,{sx:(d={display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",padding:"0px",gap:"4px",color:"#335D8A",width:"100%"},(0,x.A)(d,"padding","3px 6px"),(0,x.A)(d,"borderRadius","4px"),d),children:(0,S.jsx)(m.A,{style:{fontWeight:400,fontSize:"12px",color:"#335D8A",lineHeight:"16px"},children:"\u0639\u0644\u062a \u0639\u062f\u0645 \u062a\u0627\u06cc\u06cc\u062f: ".concat(null===v||void 0===v?void 0:v.flow_action.comment)})})]})]}),(0,S.jsx)(p.A,{sx:{m:2}}),(0,S.jsx)(k,{data:v})]}),v.flow_info.state_user===$&&"SUBMIT"===v.current_state.name&&(0,S.jsxs)(a.A,{sx:{display:"inline-flex",justifyContent:"center",gap:2,position:"fixed",bottom:0,left:0,width:"100%",padding:"10px"},children:[(0,S.jsx)(j.A,{disabled:!1,variant:"outlined",onClick:function(){P(!0)},type:"button",children:"\u0639\u062f\u0645 \u062a\u0627\u06cc\u06cc\u062f \u0633\u0641\u0627\u0631\u0634"}),(0,S.jsx)(j.A,{onClick:function(){return K.push({pathname:"/sale/received/confirm",state:v})},children:"\u062a\u0627\u06cc\u06cc\u062f \u0633\u0641\u0627\u0631\u0634"})]})]}),(0,S.jsx)(u.Ay,{anchor:"bottom",open:B,onClose:function(){return P(!1)},classes:{paper:C.paper},children:(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",padding:"16px 20px",justifyContent:"space-between",gap:"10px",margin:"20px 0px",borderRadius:"8px"},children:[(0,S.jsx)(a.A,{children:(0,S.jsxs)(a.A,{sx:{display:"flex",gap:"10px",flexDirection:"column"},children:[(0,S.jsx)(m.A,{style:{fontSize:"14px"},children:"\u0639\u0644\u062a \u0639\u062f\u0645 \u062a\u0627\u06cc\u06cc\u062f \u0633\u0641\u0627\u0631\u0634 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f:"}),(0,S.jsxs)(a.A,{sx:{mt:1,width:"100%"},children:[(0,S.jsx)(m.A,{style:{color:"#A7A5A6"},children:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a"}),(0,S.jsx)(f.A,{id:"name","aria-describedby":"my-helper-text",fullWidth:!0,placeholder:"...\u0628\u0646\u0648\u06cc\u0633\u06cc\u062f",rows:4,multiline:!0,sx:{backgroundColor:"white",borderRadius:"4px",margin:"3px 3px"},value:G,onChange:function(e){return X(e.target.value)}})]})]})}),(0,S.jsx)(p.A,{}),(0,S.jsx)(a.A,{sx:{display:"flex",width:"100%",justifyContent:"flex-end"},children:(0,S.jsxs)(a.A,{sx:{display:"inline-flex",justifyContent:"flex-end",gap:2},children:[(0,S.jsx)(j.A,{disabled:!1,variant:"outlined",style:{width:"150px"},onClick:function(){P(!1)},type:"button",children:"\u0644\u063a\u0648"}),(0,S.jsx)(j.A,{style:{width:"150px"},disabled:null==G,onClick:function(){A.A.post("".concat(g.J,"/api/orders/update_order_state/"),{order_num:v.order_num,order_action:"Reject",comment:G,state:"INCOMPLETE_DELIVERY"===v.current_state.name?"Reject_Incomplete":""}).then((function(e){200===e.status&&K.push("/sale/received")})).catch((function(e){417===e.response.status?Q(e.response.data.error,{variant:"error"}):Q("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))},children:"\u062b\u0628\u062a"})]})})]})}),(0,S.jsx)(u.Ay,{anchor:"bottom",open:O,onClose:function(){return T(!1)},classes:{paper:C.paper},children:(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",padding:"16px 20px",justifyContent:"space-between",gap:"10px",margin:"20px 0px",borderRadius:"8px"},children:[(0,S.jsx)(a.A,{children:(0,S.jsxs)(a.A,{sx:{display:"flex",gap:"10px",flexDirection:"column"},children:[(0,S.jsx)(m.A,{style:{fontSize:"14px"},children:"\u0627\u0631\u0633\u0627\u0644 \u0633\u0641\u0627\u0631\u0634 \u062a\u0648\u0633\u0637"}),(0,S.jsxs)(h.A,{fullWidth:!0,orientation:"vertical","aria-label":"vertical contained button group",variant:"contained",sx:{gap:2,boxShadow:"none"},id:"input",children:[(0,S.jsxs)(c.A,{sx:{backgroundColor:"#E6EBF0",border:"1px solid #99AEC5",borderRadius:"4px !important",padding:"12px",height:"48px",fontStyle:"normal",fontWeight:400,fontSize:"16px",lineHeight:"24px",color:"#00346D",fontFamily:"IRANSans","&:hover":{color:"#231F20 !important",backgroundColor:"#DFF2F2 !important",fontWeight:600,fontSize:"16px"}},onClick:function(){U("SUPPLIER")},children:[(0,S.jsx)("img",{src:F.A}),"\u062e\u0648\u062f\u0645"]}),(0,S.jsxs)(c.A,{sx:{backgroundColor:"#E6EBF0",border:"1px solid #99AEC5",borderRadius:"4px !important",padding:"12px",height:"48px",fontStyle:"normal",fontWeight:400,fontSize:"16px",lineHeight:"24px",color:"#00346D",fontFamily:"IRANSans","&:hover":{color:"#231F20 !important",backgroundColor:"#DFF2F2 !important",fontWeight:600,fontSize:"16px"}},onClick:function(){U("SALE_OFFICE")},children:[(0,S.jsx)("img",{src:R.A}),"\u062f\u0641\u062a\u0631 \u0641\u0631\u0648\u0634"]})]})]})}),(0,S.jsx)(p.A,{}),(0,S.jsx)(a.A,{sx:{display:"flex",width:"100%",justifyContent:"flex-end"},children:(0,S.jsxs)(a.A,{sx:{display:"inline-flex",justifyContent:"flex-end",gap:2},children:[(0,S.jsx)(j.A,{disabled:!1,variant:"outlined",style:{width:"150px"},onClick:function(){T(!1)},type:"button",children:"\u0644\u063a\u0648"}),(0,S.jsx)(j.A,{style:{width:"150px"},disabled:null==M,onClick:function(){A.A.post("".concat(g.J,"/api/orders/set_supplier/"),{order_num:v.order_num,supply_by:M}).then((function(e){200===e.status&&("SUPPLIER"===M?K.push({pathname:"/sale/received/delivery",order_num:v.order_num,state:v.current_state.name}):K.push("/sale/received"))})).catch((function(e){417===e.response.status?Q(e.response.data.error,{variant:"error"}):Q("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))},children:"\u062b\u0628\u062a"})]})})]})})]})}(0,d.A)((function(e){return{paper:{borderRadius:"20px 20px 0px 0px",zIndex:999,position:"fixed",bottom:0,minHeight:"40%"}}}));function L(e){var t=e.location.state,n=(0,s.useState)(e.location.pathname.split("/")[4]),r=(0,o.A)(n,2),l=r[0],d=r[1];return(0,s.useEffect)((function(){d(l)}),[]),(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(a.A,{sx:{display:"flex",flexDirection:"column",padding:"60px 0px",justifyContent:"space-between",height:"inherit",backgroundColor:"white"},children:(0,S.jsx)(W,(0,i.A)((0,i.A)({},e),{},{data:t}))})})}var B=n(54493),P=n(4139),H=n(60172),N=n(12116),O=n(38986);function T(e){var t,n=e.data,i=e.incomplete,r=(0,s.useState)(),l=(0,o.A)(r,2),d=l[0],x=l[1],c=(0,s.useState)(!0),u=(0,o.A)(c,2),f=(u[0],u[1],(0,D.dh)().enqueueSnackbar);return(0,s.useEffect)((function(){!0===i?A.A.get("".concat(g.J,"/api/orders/get_incomplete_delivery?order_num=").concat(n.order_num)).then((function(e){200===e.status&&x(e.data)})).catch((function(e){417===e.response.status?f(e.response.data.error,{variant:"error"}):f("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})})):x(n)}),[]),(0,S.jsx)(a.A,{style:{position:"relative"},children:d&&(0,S.jsxs)(a.A,{sx:{mt:!0===i?"20px":"0px"},children:[!0!==i&&(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[(0,S.jsx)(O.A,{style:{color:"#231F20",fontSize:"18px",marginBottom:"20px"},children:"\u0644\u06cc\u0633\u062a \u0633\u0641\u0627\u0631\u0634\u0627\u062a"}),n&&(0,S.jsx)(C.A,{data:null===n||void 0===n||null===(t=n.files)||void 0===t?void 0:t.filter((function(e){return"EXCEL"!==e.subject}))})]}),(0,S.jsx)(a.A,{sx:{height:"300px",overflow:"auto"},children:d.products.map((function(e,t){return(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",marginBottom:"15px"},children:[(0,S.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,S.jsxs)(a.A,{sx:{display:"inline-flex"},children:[(0,S.jsx)(H.A,{style:{color:"#00346D",fontSize:"12px",fontWeight:400},children:e.product_type.name_translate.item_fa}),(0,S.jsx)(H.A,{style:{color:"#6685A7",fontSize:"12px",fontWeight:200,direction:"ltr"},children:"(".concat(e.product_detail.size,")")})]}),(0,S.jsx)(H.A,{style:{color:"#00346D",fontSize:"14px",fontWeight:400},children:"".concat(e.price," ")})]}),(0,S.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,S.jsxs)(a.A,{sx:{display:"inline-flex"},children:[(0,S.jsx)(H.A,{style:{color:"#00346D",fontSize:"14px",fontWeight:400},children:e.package_quantity}),(0,S.jsx)(H.A,{style:{color:"#00AAB5",fontSize:"14px",fontWeight:300},children:"x"}),(0,S.jsx)(H.A,{style:{color:"#6685A7",fontSize:"14px",fontWeight:300},children:"SINGULAR"===e.package_type?e.product_detail.singular_package_detail.translate_detail.item_fa:"SMALL"===e.package_type?e.product_detail.small_plural_package_detail.translate_detail.item_fa:e.product_detail.large_plural_package_detail.translate_detail.item_fa})]}),(0,S.jsx)(H.A,{style:{color:"#335D8A",fontSize:"14px",fontWeight:400},children:"".concat(e.total_price," ")})]})]})}))}),!0!==i&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(p.A,{}),(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",mt:2},children:[(0,S.jsx)(H.A,{style:{color:"#335D8A",fontSize:"14px",fontWeight:400},children:"\u0645\u062c\u0645\u0648\u0639"}),(0,S.jsx)(H.A,{style:{color:"#335D8A",fontSize:"16px",fontWeight:700},children:"".concat(d.final_price," ")})]})]})]})})}var J=n(67293),V=n(28423);n.p;var M=n(95374),U=n(23353),Y=n(11131),q=n(82669);(0,d.A)((function(e){return{paper:{borderRadius:"20px 20px 0px 0px",zIndex:999,position:"fixed",bottom:0,minHeight:"40%"}}}));function G(e){var t=(0,s.useState)(null),n=(0,o.A)(t,2),i=n[0],r=n[1],l=(0,s.useState)(null),d=(0,o.A)(l,2),x=d[0],u=d[1],h=(0,_.useHistory)(),y=(0,s.useState)(!1),b=(0,o.A)(y,2),w=b[0],v=b[1],C=(0,D.dh)().enqueueSnackbar;return(0,s.useEffect)((function(){console.log("file list",i)}),[i]),(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",padding:"16px 20px",justifyContent:"space-between",gap:"10px",background:"#E6EBF0",height:"50vh",overflow:"auto"},children:[(0,S.jsxs)(a.A,{sx:{display:"inline-flex"},onClick:function(){e.setAcceptConfirm(!1)},children:[(0,S.jsx)(M.A,{color:"#335D8A",width:"15px"}),(0,S.jsx)(m.A,{style:{color:"#335D8A",fontSize:"14px"},children:"\u0628\u0627\u0632\u06af\u0634\u062a"})]}),(0,S.jsx)(a.A,{children:(0,S.jsxs)(a.A,{sx:{display:"flex",gap:"10px",flexDirection:"column"},children:[(0,S.jsx)(m.A,{style:{fontSize:"14px"},children:"\u067e\u06cc\u0634\u200c\u0641\u0627\u06a9\u062a\u0648\u0631 \u0633\u0641\u0627\u0631\u0634 \u062f\u0631\u06cc\u0627\u0641\u062a\u06cc \u062e\u0648\u062f \u0631\u0627 \u0628\u0627\u0631\u06af\u0630\u0627\u0631\u06cc \u06a9\u0646\u06cc\u062f:"}),i?(0,S.jsx)(S.Fragment,{children:i.map((function(e,t){return(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"center",padding:"20px 0px 5px",gap:"20px",height:"320px",border:"2px dashed #99DDE1",borderRadius:"4px"},children:[(0,S.jsx)("img",{src:URL.createObjectURL(e),width:"300px",height:"180px",style:{borderRadius:"8px"}}),(0,S.jsx)(m.A,{style:{color:"#335D8A"},children:e.name}),(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-around",width:"100%"},children:[(0,S.jsxs)(c.A,{sx:{fontFamily:"IRANSans",fontSize:"16px",fontWeight:400},onClick:function(){i.filter((function(t){return t.name!==e.name})).length>0?r(i.filter((function(t){return t.name!==e.name}))):r(null)},children:[(0,S.jsx)("img",{src:Y.A,width:"13px",height:"13px"}),"\u067e\u0627\u06a9 \u06a9\u0631\u062f\u0646"]}),(0,S.jsxs)(c.A,{sx:{fontFamily:"IRANSans",fontSize:"16px",fontWeight:400},component:"label",onChange:function(e){r(e.target.files)},children:[(0,S.jsx)("img",{src:q.A,width:"13px",height:"20px"}),"\u062a\u063a\u06cc\u06cc\u0631 \u0641\u0627\u06cc\u0644",(0,S.jsx)("input",{type:"file",hidden:!0,multiple:!0})]})]})]})}))}):(0,S.jsxs)(c.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"40px 0px",gap:"30px",height:"150px",border:"2px dashed #99DDE1",borderRadius:"4px",color:"#4F4C4D",fontFamily:"IRANSans",fontWeight:400,fontSize:"16px"},component:"label",onChange:function(e){r(Array.from(e.target.files))},children:[(0,S.jsx)("img",{src:U.A,with:"33px",height:"28px"}),"\u0627\u0646\u062a\u062e\u0627\u0628 \u0641\u0627\u06cc\u0644",(0,S.jsx)("input",{type:"file",hidden:!0,multiple:!0})]}),(0,S.jsxs)(a.A,{sx:{mt:1,width:"100%"},children:[(0,S.jsx)(m.A,{style:{color:"#A7A5A6"},children:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a"}),(0,S.jsx)(f.A,{id:"name","aria-describedby":"my-helper-text",fullWidth:!0,placeholder:"...\u0628\u0646\u0648\u06cc\u0633\u06cc\u062f",rows:2,multiline:!0,sx:{backgroundColor:"white",borderRadius:"4px",margin:"3px 3px"},value:x,onChange:function(e){return u(e.target.value)}})]})]})}),(0,S.jsx)(p.A,{}),(0,S.jsx)(a.A,{sx:{display:"flex",width:"100%",justifyContent:"flex-end"},children:(0,S.jsxs)(a.A,{sx:{display:"inline-flex",justifyContent:"flex-end",gap:2},children:[(0,S.jsx)(j.A,{disabled:!1,variant:"outlined",onClick:function(){e.setSteps(0)},style:{width:"150px"},type:"button",children:"\u0644\u063a\u0648"}),(0,S.jsx)(j.A,{style:{width:"150px"},loading:w,onClick:function(){var t=new FormData;t.append("order_num",e.data.order_num),t.append("order_action","Approve"),t.append("state","PI"),t.append("comment",x);for(var n=0;n<i.length;n++)t.append("INVOICE"+n,i[n]);v(!0),A.A.post("".concat(g.J,"/api/orders/update_order_state/"),t).then((function(e){v(!1),200===e.status&&h.push("/sale/received")})).catch((function(e){v(!1),417===e.response.status?C(e.response.data.error,{variant:"error"}):C("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))},children:"\u062b\u0628\u062a \u067e\u06cc\u0634 \u0641\u0627\u06a9\u062a\u0648\u0631"})]})})]})})}var X=n(13045);(0,d.A)((function(e){return{paper:{borderRadius:"20px 20px 0px 0px",zIndex:999,position:"fixed",bottom:0,minHeight:"40%"}}}));(0,d.A)((function(e){return{paper:{borderRadius:"20px 20px 0px 0px",zIndex:999,position:"fixed",bottom:0,minHeight:"40%"}}}));var K=n(82878),$=(0,d.A)((function(e){return{paper:{borderRadius:"20px 20px 0px 0px",zIndex:999,position:"fixed",bottom:0,minHeight:"40%"}}}));function Q(e){var t=(0,s.useState)(),n=(0,o.A)(t,2),i=(n[0],n[1],(0,s.useState)(null)),r=(0,o.A)(i,2),l=r[0],d=r[1],x=(0,_.useHistory)(),c=($(),(0,s.useState)(!1)),p=(0,o.A)(c,2),u=p[0],f=p[1],h=(0,D.dh)().enqueueSnackbar;return(0,s.useEffect)((function(){A.A.get("".concat(g.J,"/api/orders/payment/get_order_payments/?order_num=").concat(e.data.order_num)).then((function(e){200===e.status&&d(e.data)})).catch((function(e){417===e.response.status?h(e.response.data.error,{variant:"error"}):h("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))}),[]),(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(a.A,{sx:{display:"flex",flexDirection:"column",padding:"0px 20px",justifyContent:"space-between",height:"43vh",gap:"10px",width:"100%",overflow:"auto"},children:(0,S.jsxs)(a.A,{children:[(0,S.jsxs)(a.A,{sx:{display:"inline-flex"},onClick:function(){x.goBack()},children:[(0,S.jsx)(M.A,{color:"#335D8A",width:"15px"}),(0,S.jsx)(m.A,{style:{color:"#335D8A",fontSize:"14px"},children:"\u0628\u0627\u0632\u06af\u0634\u062a"})]}),null!==l&&(0,S.jsxs)(a.A,{children:[(0,S.jsx)(a.A,{sx:{paddingBottom:"100px"},children:(0,S.jsxs)(a.A,{sx:{display:"flex",gap:"10px",flexDirection:"column"},children:[(0,S.jsx)(m.A,{style:{fontSize:"14px"},children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0648\u0627\u0631\u06cc\u0632\u06cc \u0634\u0645\u0627:"}),l.map((function(t,n){return(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",gap:"20px",background:"white",borderRadius:"8px"},children:[(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start"},children:[(0,S.jsx)(a.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-end",padding:"0px",gap:"3px",borderRadius:"8px"},children:(0,S.jsxs)(a.A,{sx:{display:"inline-flex"},children:[(0,S.jsx)(m.A,{style:{fontStyle:"normal",fontWeight:700,fontSize:"18px",lineHeight:"28px",textAlign:"right",color:"#00346D",marginBottom:"10px"},children:t.payment_amount}),(0,S.jsx)(m.A,{style:{fontStyle:"normal",fontWeight:400,fontSize:"14px",lineHeight:"20px",textAlign:"right",color:"#6685A7"},children:""})]})}),(0,S.jsx)(m.A,{style:{fontStyle:"normal",fontWeight:400,fontSize:"14px",lineHeight:"20px",textAlign:"right",color:"#335D8A"},children:t.payment_type.label})]}),(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,S.jsx)(a.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:"3px 4px !important",background:"APPROVED"===t.payment_state.name?"#CCEEF0":"INITIAL"===t.payment_state.name?"#FFFFFF":"#FEEEEC",borderRadius:"4px",width:"100px",mb:1},children:(0,S.jsx)(m.A,{style:{color:"APPROVED"===(null===t||void 0===t?void 0:t.payment_state.name)?"#00AAB5":"INITIAL"===t.payment_state.name?"#00346D":"#F14950",fontSize:"12px",textAlign:"center",padding:0},children:null===t||void 0===t?void 0:t.payment_state.label})}),(0,S.jsxs)(j.A,{sx:{display:"inline-flex",color:"#335D8A"},loading:u,onClick:function(){f(!0),A.A.get("".concat(g.J,"/api/orders/payment/get_payment?payment_num=").concat(t.payment_num)).then((function(n){f(!1),200===n.status&&(e.setPayment(!1),e.setAddPayment(!0),e.setSelected(t))})).catch((function(e){f(!1),417===e.response.status?h(e.response.data.error,{variant:"error"}):h("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))},children:[(0,S.jsx)(m.A,{style:{color:"#335D8A",padding:0,fontSize:"12px",cursor:"pointer"},children:"\u0645\u0634\u0627\u0647\u062f\u0647 \u0648 \u062a\u0627\u06cc\u06cc\u062f"}),(0,S.jsx)(b.A,{style:{marginTop:"2px",color:"#335D8A"}})]})]})]})}))]})}),(0,S.jsxs)(a.A,{sx:{display:"inline-flex",justifyContent:"flex-end",gap:2,width:"100%",padding:"10px"},children:[(0,S.jsx)(j.A,{disabled:!1,variant:"outlined",onClick:function(){x.goBack()},type:"button",style:{width:"150px"},children:"\u0644\u063a\u0648"}),(0,S.jsx)(j.A,{style:{width:"150px"},disabled:l.filter((function(e){return"INITIAL"===e.payment_state.name})).length>0,onClick:function(){var t=new FormData;t.append("order_num",e.data.order_num),A.A.post("".concat(g.J,"/api/orders/payment/update_order_payment/"),t).then((function(e){200===e.status&&x.push("/sale/received")})).catch((function(e){417===e.response.status?h(e.response.data.error,{variant:"error"}):h("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))},children:"\u0630\u062e\u06cc\u0631\u0647 \u0627\u0637\u0644\u0627\u0639\u0627\u062a"})]})]})]})})})}var Z=n(6878),ee=(0,d.A)((function(e){return{paper:{borderRadius:"20px 20px 0px 0px",zIndex:999,position:"fixed",bottom:0,minHeight:"40%"}}}));function te(e){var t,n=(0,s.useState)(),i=(0,o.A)(n,2),r=(i[0],i[1],(0,s.useState)(null)),l=(0,o.A)(r,2),d=(l[0],l[1],(0,s.useState)([])),x=(0,o.A)(d,2),c=(x[0],x[1]),u=(0,s.useState)(!1),h=(0,o.A)(u,2),m=h[0],y=h[1],j=(0,s.useState)(null),b=(0,o.A)(j,2),v=b[0],C=b[1],k=((0,_.useHistory)(),e.selected),I=(ee(),(0,s.useState)(!1)),E=(0,o.A)(I,2),F=E[0],R=E[1],z=(0,D.dh)().enqueueSnackbar;return(0,s.useEffect)((function(){A.A.get("".concat(g.J,"/api/orders/payment/get_payment_type/")).then((function(e){200===e.status&&c(e.data)})).catch((function(e){417===e.response.status?z(e.response.data.error,{variant:"error"}):z("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))}),[]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(a.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"45vh",overflow:"auto",gap:"10px",width:"100%"},children:(0,S.jsxs)(a.A,{children:[(0,S.jsxs)(a.A,{sx:{display:"inline-flex"},onClick:function(){e.setPayment(!0),e.setAddPayment(!1)},children:[(0,S.jsx)(M.A,{color:"#335D8A",width:"15px"}),(0,S.jsx)(H.A,{style:{color:"#335D8A",fontSize:"12px",cursor:"pointer"},children:"\u0628\u0627\u0632\u06af\u0634\u062a"})]}),(0,S.jsxs)(a.A,{children:["INITIAL"===k.payment_state.name&&(0,S.jsx)(H.A,{children:"\u0622\u06cc\u0627 \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0648\u0627\u0631\u06cc\u0632\u06cc \u0632\u06cc\u0631 \u0645\u0648\u0631\u062f \u062a\u0627\u06cc\u06cc\u062f \u0645\u06cc \u0628\u0627\u0634\u062f\u061f"}),(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",padding:"0px 12px",gap:"12px",mt:"30px"},children:[(0,S.jsxs)(a.A,{sx:{display:"inline-flex"},children:[(0,S.jsx)(H.A,{style:{color:"#00346D",fontWeight:500,fontSize:"16px"},children:k.payment_amount}),(0,S.jsx)(H.A,{style:{color:"#6685A7",fontWeight:400,fontSize:"10px"}})]}),(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-end",padding:"0px",gap:"11px",width:"100%"},children:[(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"0px",gap:"6px",width:"100%"},children:[(0,S.jsx)(H.A,{style:{color:"#6685A7",fontWeight:400,fontSize:"12px"},children:"\u0646\u062d\u0648\u0647 \u067e\u0631\u062f\u0627\u062e\u062a"}),(0,S.jsx)(H.A,{style:{color:"#6685A7",fontWeight:400,fontSize:"12px"},children:k.payment_type.label})]}),(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"0px",gap:"6px",width:"100%"},children:[(0,S.jsx)(H.A,{style:{color:"#6685A7",fontWeight:400,fontSize:"12px"},children:"\u0632\u0645\u0627\u0646 \u067e\u0631\u062f\u0627\u062e\u062a"}),(0,S.jsx)(H.A,{style:{color:"#6685A7",fontWeight:400,fontSize:"12px"},children:(0,w.A)(k.payment_date)})]})]}),(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"0px",gap:"6px",width:"100%"},children:[(0,S.jsx)(H.A,{style:{color:"#6685A7",fontWeight:400,fontSize:"12px"},children:"\u0634\u0645\u0627\u0631\u0647 \u0633\u0646\u062f/\u0686\u06a9"}),(0,S.jsx)(H.A,{style:{color:"#6685A7",fontWeight:400,fontSize:"12px"},children:k.bill_number})]}),(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"0px",gap:"6px",width:"100%"},children:[(0,S.jsx)(H.A,{style:{color:"#6685A7",fontWeight:400,fontSize:"12px"},children:"\u06a9\u062f \u067e\u06cc\u06af\u06cc\u0631\u06cc"}),(0,S.jsx)(H.A,{style:{color:"#6685A7",fontWeight:400,fontSize:"12px"},children:k.track_number})]}),k.file&&(0,S.jsx)("a",{href:null===k||void 0===k||null===(t=k.file)||void 0===t?void 0:t.url,download:!0,style:{textDecoration:"none",width:"100%"},children:(0,S.jsxs)(X.A,{variant:"contained",style:{background:"#DDF5F6",border:"1px solid #00AAB5",color:"#00AAB5",width:"100%"},children:[(0,S.jsx)(Z.A,{style:{marginLeft:"3px"}}),"\u062f\u0627\u0646\u0644\u0648\u062f \u0641\u06cc\u0634 \u0648\u0627\u0631\u06cc\u0632\u06cc"]})})]})]}),(0,S.jsxs)(a.A,{sx:{display:"inline-flex",justifyContent:"flex-end",gap:2,width:"100%",padding:"10px",mt:2},children:[(0,S.jsx)(X.A,{disabled:!1,variant:"outlined",onClick:function(){y(!0)},style:{width:"150px"},children:"\u0639\u062f\u0645 \u062a\u0627\u06cc\u06cc\u062f"}),(0,S.jsx)(X.A,{style:{width:"150px"},onClick:function(){A.A.post("".concat(g.J,"/api/orders/payment/update_payment_status/"),{payment_num:k.payment_num,action:"APPROVED"}).then((function(t){200===t.status&&(e.setPayment(!0),e.setAddPayment(!1))})).catch((function(e){417===e.response.status?z(e.response.data.error,{variant:"error"}):z("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))},children:"\u062a\u0627\u06cc\u06cc\u062f"})]})]})}),(0,S.jsx)(K.A,{open:m,handleClose:function(){return y(!1)},title:"\u0639\u062f\u0645 \u062a\u0627\u06cc\u06cc\u062f",content:(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",padding:"16px 20px",justifyContent:"space-between",gap:"10px",borderRadius:"8px"},children:[(0,S.jsx)(a.A,{children:(0,S.jsxs)(a.A,{sx:{display:"flex",gap:"10px",flexDirection:"column"},children:[(0,S.jsx)(H.A,{style:{fontSize:"12px"},children:"\u0639\u0644\u062a \u0639\u062f\u0645 \u062a\u0627\u06cc\u06cc\u062f \u0648\u0627\u0631\u06cc\u0632 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f:"}),(0,S.jsxs)(a.A,{sx:{mt:1,width:"100%"},children:[(0,S.jsx)(H.A,{style:{color:"#A7A5A6",width:"105px"},children:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a"}),(0,S.jsx)(f.A,{id:"name","aria-describedby":"my-helper-text",fullWidth:!0,placeholder:"...\u0628\u0646\u0648\u06cc\u0633\u06cc\u062f",rows:4,multiline:!0,sx:{backgroundColor:"white",borderRadius:"4px",margin:"3px 3px"},value:v,onChange:function(e){return C(e.target.value)}})]})]})}),(0,S.jsx)(p.A,{}),(0,S.jsx)(a.A,{sx:{display:"flex",width:"100%",justifyContent:"flex-end"},children:(0,S.jsxs)(a.A,{sx:{display:"inline-flex",justifyContent:"flex-end",gap:2},children:[(0,S.jsx)(X.A,{disabled:!1,variant:"outlined",style:{width:"150px"},onClick:function(){y(!1)},type:"button",children:"\u0644\u063a\u0648"}),(0,S.jsx)(X.A,{style:{width:"150px"},disabled:null==v,loading:F,onClick:function(){R(!0),A.A.post("".concat(g.J,"/api/orders/payment/update_payment_status/"),{payment_num:k.payment_num,action:"REJECTED",comment:v}).then((function(t){R(!1),200===t.status&&(e.setPayment(!0),e.setAddPayment(!1))})).catch((function(e){R(!1),417===e.response.status?z(e.response.data.error,{variant:"error"}):z("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))},children:"\u062b\u0628\u062a"})]})})]})})]})}var ne=n(97539),ie=n(6445),se=n(58926),re=n(32459),le=n(1314),oe=n(34200),ae=n(6252),de=n(67999),xe=(0,d.A)((function(e){return{paper:{borderRadius:"20px 20px 0px 0px",zIndex:999,position:"fixed",bottom:0,minHeight:"40%"}}}));function ce(e){var t=(0,s.useState)(),n=(0,o.A)(t,2),r=(n[0],n[1],(0,s.useState)(null)),l=(0,o.A)(r,2),d=(l[0],l[1],(0,s.useState)([])),x=(0,o.A)(d,2),p=x[0],u=x[1],h=(0,s.useState)(!1),m=(0,o.A)(h,2),y=(m[0],m[1],(0,s.useState)(null)),j=(0,o.A)(y,2),b=(j[0],j[1],(0,_.useHistory)()),w=(e.state,xe(),(0,D.dh)().enqueueSnackbar);return(0,s.useEffect)((function(){A.A.get("".concat(g.J,"/api/orders/delivery/get_delivery_type/")).then((function(e){200===e.status&&u(e.data)})).catch((function(e){417===e.response.status?w(e.response.data.error,{variant:"error"}):w("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))}),[]),(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(a.A,{sx:{display:"flex",flexDirection:"column",padding:"0px 20px",justifyContent:"space-between",height:"50vh",overflow:"auto",gap:"10px",width:"100%"},children:(0,S.jsxs)(a.A,{children:[(0,S.jsxs)(a.A,{sx:{display:"inline-flex"},onClick:function(){b.goBack()},children:[(0,S.jsx)(M.A,{color:"#335D8A",width:"15px"}),(0,S.jsx)(H.A,{style:{color:"#335D8A",fontSize:"14px"},children:"\u0628\u0627\u0632\u06af\u0634\u062a"})]}),(0,S.jsx)(ie.l1,{initialValues:{type:"",date:"",comment:"",file:""},validationSchema:se.Ik().shape({}),onSubmit:function(t,n){n.setErrors;var i=n.setSubmitting;i(!0);var s=new FormData;s.append("order_num",e.order_num),s.append("order_action","Approve"),s.append("state","INCOMPLETE_DELIVERY"===e.state?"Supply_Incomplete":"Delivery"),s.append("sender_date",(0,ae.A)(t.date)),s.append("sender_description",t.comment),s.append("sender_delivery_type",t.type),s.append("BL",t.file),A.A.post("".concat(g.J,"/api/orders/update_order_state/"),s).then((function(e){200===e.status?(i(!1),b.push("/sale/received")):i(!1)})).catch((function(e){i(!1),417===e.response.status?w(e.response.data.error,{variant:"error"}):w("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))},children:function(e){var t=e.errors,n=e.handleBlur,s=e.handleChange,r=e.handleSubmit,l=e.isSubmitting,o=e.touched,d=e.values,x=e.setFieldValue;return(0,S.jsxs)("form",{noValidate:!0,onSubmit:r,style:{display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"0px",width:"100%",height:"100%"},children:[(0,S.jsxs)(a.A,{sx:{mb:"60px"},children:[(0,S.jsx)(H.A,{children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0627\u0631\u0633\u0627\u0644 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f:"}),(0,S.jsxs)(a.A,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gridColumnGap:"20px",gridRowGap:"10px"},children:[(0,S.jsxs)(a.A,{sx:{mt:1,mb:1},children:[(0,S.jsx)(H.A,{style:{color:"#A7A5A6"},children:"\u0632\u0645\u0627\u0646 \u0627\u0631\u0633\u0627\u0644"}),(0,S.jsx)(re.$,{dateAdapter:le.A,children:(0,S.jsx)(de.K,{mask:"____/__/__",value:d.date,onChange:function(e){x("date",e)},renderInput:function(e){return(0,S.jsx)(f.A,(0,i.A)((0,i.A)({},e),{},{sx:{background:"#F2F2F2",width:"100%"},placeholder:"\u0632\u0645\u0627\u0646 \u0627\u0631\u0633\u0627\u0644"}))}})})]}),(0,S.jsxs)(a.A,{sx:{mt:1,mb:1},children:[(0,S.jsx)(H.A,{style:{color:"#A7A5A6"},children:"\u0646\u062d\u0648\u0647 \u06cc \u0627\u0631\u0633\u0627\u0644"}),p.length>0&&(0,S.jsx)(ne.A,{disablePortal:!0,fullWidth:!0,options:p,value:p.filter((function(e){return e.name===d.type}))[0],renderInput:function(e){return(0,S.jsx)(f.A,(0,i.A)((0,i.A)({},e),{},{placeholder:"\u0646\u062d\u0648\u0647 \u06cc \u0627\u0631\u0633\u0627\u0644",fullWidth:!0,id:"type",error:Boolean(o.type&&t.type),helperText:o.type&&t.type}))},getOptionLabel:function(e){return e.label},onChange:function(e,t){x("type",t?t.name:"")},sx:{".MuiOutlinedInput-root":{padding:"5px"}},noOptionsText:"\u0645\u0648\u0631\u062f\u06cc \u06cc\u0627\u0641\u062a \u0646\u0634\u062f"})]}),(0,S.jsxs)(a.A,{sx:{mt:1,mb:1},children:[(0,S.jsx)(H.A,{style:{color:"#A7A5A6"},children:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a"}),(0,S.jsx)(f.A,{id:"comment","aria-describedby":"my-helper-text",fullWidth:!0,placeholder:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a",sx:{background:"#F2F2F2",borderRadius:"4px",margin:"3px 3px"},value:d.comment,onChange:s,onBlur:n,multiline:!0,rows:3})]}),(0,S.jsxs)(a.A,{sx:{mt:1,mb:1},children:[(0,S.jsx)(H.A,{style:{color:"#A7A5A6"},children:"\u0628\u0627\u0631\u0646\u0627\u0645\u0647"}),d.file?(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"center",padding:"20px 10px 5px",gap:"20px",height:"320px",border:"2px dashed #99DDE1",borderRadius:"4px"},children:[(0,S.jsx)("img",{src:URL.createObjectURL(d.file),width:"300px",height:"180px",style:{borderRadius:"8px"}}),(0,S.jsx)(H.A,{style:{color:"#335D8A",fontSize:"11px"},children:d.file.name}),(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-around",width:"100%"},children:[(0,S.jsxs)(c.A,{sx:{fontFamily:"IRANSans",fontSize:"12px",fontWeight:400},onClick:function(){x("file","")},children:[(0,S.jsx)("img",{src:Y.A,width:"13px",height:"13px"}),"\u067e\u0627\u06a9 \u06a9\u0631\u062f\u0646"]}),(0,S.jsxs)(c.A,{sx:{fontFamily:"IRANSans",fontSize:"12px",fontWeight:400},component:"label",onChange:function(e){x("file",event.target.files[0])},children:[(0,S.jsx)("img",{src:q.A,width:"13px",height:"20px"}),"\u062a\u063a\u06cc\u06cc\u0631 \u0641\u0627\u06cc\u0644",(0,S.jsx)("input",{type:"file",hidden:!0,multiple:!1})]})]})]}):(0,S.jsxs)(X.A,{disabled:!1,variant:"outlined",component:"label",onChange:function(e){x("file",e.target.files[0])},children:[(0,S.jsx)(oe.A,{}),"\u0622\u067e\u0644\u0648\u062f \u0641\u0627\u06cc\u0644",(0,S.jsx)("input",{type:"file",hidden:!0})]})]})]})]}),(0,S.jsxs)(a.A,{sx:{display:"inline-flex",justifyContent:"space-between",gap:2,width:"100%",padding:"10px"},children:[(0,S.jsx)(X.A,{disabled:!1,variant:"outlined",onClick:function(){b.goBack()},children:"\u0644\u063a\u0648"}),(0,S.jsx)(X.A,{disabled:l,type:"submit",loading:l,children:"\u0630\u062e\u06cc\u0631\u0647 \u0627\u0637\u0644\u0627\u0639\u0627\u062a "})]})]})}})]})})})}var pe=(0,d.A)((function(e){return{paper:{borderRadius:"20px 20px 0px 0px",zIndex:999,position:"fixed",bottom:0,minHeight:"40%"}}}));function ue(e){var t,n,i,r,l,d;console.log("sale props",e);var u=e.data,m=(pe(),(0,s.useState)(!1)),j=(0,o.A)(m,2),v=j[0],C=j[1],k=(0,s.useState)(!1),z=(0,o.A)(k,2),W=z[0],L=z[1],B=(0,s.useState)(null),P=(0,o.A)(B,2),N=P[0],O=P[1],M=(0,s.useState)(null),U=(0,o.A)(M,2),Y=U[0],q=U[1],$=(0,s.useState)(!1),Z=(0,o.A)($,2),ee=Z[0],ne=Z[1],ie=(0,s.useState)(!1),se=(0,o.A)(ie,2),re=se[0],le=se[1],oe=(0,s.useState)(!1),ae=(0,o.A)(oe,2),de=ae[0],xe=ae[1],ue=(0,s.useState)(!1),fe=(0,o.A)(ue,2),he=fe[0],Ae=fe[1],ge=(0,s.useState)(null),me=(0,o.A)(ge,2),ye=me[0],je=me[1],be=(0,_.useHistory)(),_e=JSON.parse(localStorage.getItem("user")).user_id,we=(0,s.useState)(!1),ve=(0,o.A)(we,2),Ce=ve[0],De=ve[1],Se=(0,D.dh)().enqueueSnackbar;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(a.A,{children:(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:"10px",mb:2},children:[(0,S.jsx)(a.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:"10px 15px",gap:"10px",width:"75px",height:"84px",background:"#F4F4F4",borderRadius:"8px"},children:(0,S.jsx)("img",{src:null===u||void 0===u||null===(t=u.user_info)||void 0===t?void 0:t.user_profile_image,style:{width:"44px"}})}),(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"0px",gap:"12px",width:"100%",height:"70px"},children:[(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"0px",gap:"8px",width:"100%",height:"25px"},children:[(0,S.jsx)(H.A,{style:{fontWeight:500,fontSize:"16px",color:"#00346D",lineHeight:"17px"},children:(null===u||void 0===u||null===(n=u.user_info)||void 0===n?void 0:n.first_name)+" "+(null===u||void 0===u||null===(i=u.user_info)||void 0===i?void 0:i.last_name)}),(0,S.jsx)(a.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:"3px 4px !important",background:"#CCEEF0",borderRadius:"4px",color:"#00AAB5"},children:(0,S.jsx)(H.A,{style:{color:"#00AAB5",fontSize:"12px",textAlign:"center"},children:null===u||void 0===u||null===(r=u.current_state)||void 0===r?void 0:r.label})})]}),(0,S.jsx)(a.A,{sx:(l={display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",padding:"0px",gap:"4px",color:"#335D8A",width:"100%"},(0,x.A)(l,"padding","3px 6px"),(0,x.A)(l,"borderRadius","4px"),l),children:(0,S.jsx)(H.A,{style:{fontWeight:400,fontSize:"12px",color:"#335D8A",lineHeight:"16px"},children:"\u062b\u0628\u062a: ".concat((0,w.A)(null===u||void 0===u?void 0:u.create_date))})}),"CANCELED"===u.current_state.name&&(0,S.jsx)(a.A,{sx:(d={display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",padding:"0px",gap:"4px",color:"#335D8A",width:"100%"},(0,x.A)(d,"padding","3px 6px"),(0,x.A)(d,"borderRadius","4px"),d),children:(0,S.jsx)(H.A,{style:{fontWeight:400,fontSize:"12px",color:"#335D8A",lineHeight:"16px"},children:"\u0639\u0644\u062a \u0639\u062f\u0645 \u062a\u0627\u06cc\u06cc\u062f: ".concat(null===u||void 0===u?void 0:u.flow_action.comment)})})]})]})}),"WAITING_FOR_PAYMENT_APPROVE"===u.current_state.name&&(0,S.jsx)(a.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"20px 20px 14px",gap:"10px",background:"#E6EBF0"},children:!1===re&&!1===de?(0,S.jsxs)(a.A,{sx:{width:"100%"},children:[(0,S.jsxs)(a.A,{sx:{display:"inline-flex"},children:[(0,S.jsx)("img",{src:I.A,style:{marginBottom:"20px",marginLeft:"5px"}}),(0,S.jsx)(H.A,{style:{fontWeight:400,fontSize:"14px",lineHeight:"20px",color:"#00346D"},children:"\u0633\u0641\u0627\u0631\u0634 \u062f\u0647\u0646\u062f\u0647 \u0645\u0628\u0644\u063a ".concat(u.final_price,"  \u0631\u0627 \u0628\u0631\u0627\u06cc \u0627\u06cc\u0646 \u0633\u0641\u0627\u0631\u0634 \u067e\u0631\u062f\u0627\u062e\u062a \u06a9\u0631\u062f\u0647 \u0627\u0633\u062a")})]}),(0,S.jsx)(a.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-end",width:"100%",gap:"6px"},children:(0,S.jsxs)(c.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",padding:"6px 8px",height:"32px",background:"#335D8A",borderRadius:"4px","&:hover":{background:"#00346D",color:"white"}},onClick:function(){le(!0)},children:[(0,S.jsx)(H.A,{style:{color:"white",padding:0},children:"\u062a\u0627\u06cc\u06cc\u062f \u067e\u0631\u062f\u0627\u062e\u062a"}),(0,S.jsx)(b.A,{color:"white"})]})})]}):!0===re?(0,S.jsx)(Q,{data:u,setPayment:le,setAddPayment:xe,setSelected:je}):(0,S.jsx)(te,{data:u,setPayment:le,setAddPayment:xe,selected:ye})}),"PAYMENT_APPROVED"===u.current_state.name&&"SALE_OFFICE"!==u.supply_by&&(0,S.jsx)(a.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"20px 20px 14px",gap:"10px",background:"#E6EBF0",borderRadius:"8px"},children:!1===he?(0,S.jsxs)("div",{style:{width:"100%"},children:[(0,S.jsxs)(a.A,{sx:{display:"inline-flex"},children:[(0,S.jsx)("img",{src:E.A,style:{marginBottom:"20px",marginLeft:"5px"}}),(0,S.jsx)(H.A,{style:{fontWeight:400,fontSize:"14px",lineHeight:"20px",color:"#00346D"},children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0627\u0631\u0633\u0627\u0644 \u0631\u0627 \u0648\u0627\u0631\u062f \u0648 \u0628\u0627\u0631\u0646\u0627\u0645\u0647 \u0631\u0627 \u0636\u0645\u06cc\u0645\u0647 \u06a9\u0646\u06cc\u062f:"})]}),(0,S.jsx)(a.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-end",width:"100%",gap:"6px"},children:(0,S.jsxs)(c.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",padding:"6px 8px",height:"32px",background:"#335D8A",borderRadius:"4px","&:hover":{background:"#00346D",color:"white"}},onClick:function(){u.user_type_info.filter((function(e){return"Representer"===e.user_type})).length>=0?L(!0):Ae(!0)},children:[(0,S.jsx)(H.A,{style:{color:"white",padding:0},children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0627\u0631\u0633\u0627\u0644"}),(0,S.jsx)(b.A,{color:"white"})]})})]}):(0,S.jsx)(ce,{order_num:u.order_num,state:u.current_state.name})}),"INCOMPLETE_DELIVERY"===u.current_state.name&&(0,S.jsx)(a.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"20px 20px 14px",gap:"10px",background:"#E6EBF0",borderRadius:"8px"},children:!1===he?(0,S.jsxs)("div",{style:{width:"100%"},children:[(0,S.jsxs)(a.A,{sx:{display:"inline-flex"},children:[(0,S.jsx)("img",{src:E.A,style:{marginBottom:"20px",marginLeft:"5px"}}),(0,S.jsx)(H.A,{style:{fontWeight:400,fontSize:"14px",lineHeight:"20px",color:"#00346D",marginBottom:2},children:"\u0644\u06cc\u0633\u062a \u0646\u0627\u0642\u0635\u06cc \u0647\u0627\u06cc \u0633\u0641\u0627\u0631\u0634 \u062f\u0631 \u0632\u06cc\u0631 \u0622\u0648\u0631\u062f\u0647 \u0634\u062f\u0647 \u0627\u0633\u062a\u060c \u0648\u0636\u0639\u06cc\u062a \u0633\u0641\u0627\u0631\u0634 \u0631\u0627 \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f:"})]}),(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-end",width:"100%",gap:"6px"},children:[(0,S.jsxs)(c.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",padding:"6px 8px",height:"32px",borderRadius:"4px",border:"1px solid #F14950"},onClick:function(){C(!0)},children:[(0,S.jsx)("img",{src:y.A}),(0,S.jsx)(H.A,{style:{color:"#F14950",padding:0},children:"\u0631\u062f \u0646\u0627\u0642\u0635\u06cc"})]}),(0,S.jsxs)(c.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",padding:"6px 8px",height:"32px",background:"#335D8A",borderRadius:"4px","&:hover":{background:"#00346D",color:"white"}},onClick:function(){Ae(!0)},children:[(0,S.jsx)(H.A,{style:{color:"white",padding:0},children:"\u062a\u0627\u06cc\u06cc\u062f \u0646\u0627\u0642\u0635\u06cc"}),(0,S.jsx)(b.A,{color:"white"})]})]}),(0,S.jsx)(T,{incomplete:!0,data:u})]}):(0,S.jsx)(ce,{order_num:u.order_num,state:u.current_state.name})}),(0,S.jsx)(a.A,{sx:{display:"flex",flexDirection:"column",padding:"20px",justifyContent:"space-between",height:"inherit",backgroundColor:"white"},children:u.flow_info.state_user===_e&&"SUBMIT"===u.current_state.name&&(0,S.jsx)(a.A,{sx:{background:"#E6EBF0",width:"100%",display:"flex",flexDirection:"column"},children:ee?(0,S.jsx)(G,{data:u,setAcceptConfirm:ne}):(0,S.jsxs)(a.A,{sx:{width:"100%",padding:"20px 20px"},children:[(0,S.jsxs)(a.A,{sx:{display:"inline-flex",padding:"0px 10px"},children:[(0,S.jsx)("img",{src:I.A,style:{marginBottom:"20px",marginLeft:"5px"}}),(0,S.jsx)(H.A,{style:{fontWeight:400,fontSize:"14px",lineHeight:"20px",color:"#00346D"},children:"\u0648\u0636\u0639\u06cc\u062a \u0633\u0641\u0627\u0631\u0634 \u0631\u0627 \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f:"})]}),(0,S.jsxs)(a.A,{sx:{display:"inline-flex",justifyContent:"flex-end",width:"100%",gap:2},children:[(0,S.jsxs)(X.A,{disabled:!1,variant:"outlined",style:{background:"#33BBC4",color:"white",fontWeight:400,fontSize:"12px",lineHeight:"18px",width:"120px"},onClick:function(){C(!0)},type:"button",children:[(0,S.jsx)("img",{src:J.A,style:{marginLeft:"5px"}}),"\u0639\u062f\u0645 \u062a\u0627\u06cc\u06cc\u062f"]}),(0,S.jsxs)(X.A,{style:{background:"#00346D",fontWeight:400,fontSize:"12px",lineHeight:"18px",width:"120px"},onClick:function(){ne(!0)},children:[(0,S.jsx)("img",{src:V.A,style:{marginLeft:"5px"}}),"\u062a\u0627\u06cc\u06cc\u062f \u0633\u0641\u0627\u0631\u0634"]})]})]})})}),(0,S.jsx)(K.A,{open:v,handleClose:function(){return C(!1)},title:"\u0639\u062f\u0645 \u062a\u0627\u06cc\u06cc\u062f",content:(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",padding:"16px 20px",justifyContent:"space-between",gap:"10px",borderRadius:"8px"},children:[(0,S.jsx)(a.A,{children:(0,S.jsxs)(a.A,{sx:{display:"flex",gap:"10px",flexDirection:"column"},children:[(0,S.jsx)(H.A,{style:{fontSize:"14px"},children:"\u0639\u0644\u062a \u0639\u062f\u0645 \u062a\u0627\u06cc\u06cc\u062f \u0633\u0641\u0627\u0631\u0634 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f:"}),(0,S.jsxs)(a.A,{sx:{mt:1,width:"100%"},children:[(0,S.jsx)(H.A,{style:{color:"#A7A5A6"},children:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a"}),(0,S.jsx)(f.A,{id:"name","aria-describedby":"my-helper-text",fullWidth:!0,placeholder:"...\u0628\u0646\u0648\u06cc\u0633\u06cc\u062f",rows:4,multiline:!0,sx:{backgroundColor:"white",borderRadius:"4px",margin:"3px 3px"},value:Y,onChange:function(e){return q(e.target.value)}})]})]})}),(0,S.jsx)(p.A,{}),(0,S.jsx)(a.A,{sx:{display:"flex",width:"100%",justifyContent:"flex-end"},children:(0,S.jsxs)(a.A,{sx:{display:"inline-flex",justifyContent:"flex-end",gap:2},children:[(0,S.jsx)(X.A,{disabled:!1,variant:"outlined",style:{width:"150px"},onClick:function(){C(!1)},type:"button",children:"\u0644\u063a\u0648"}),(0,S.jsx)(X.A,{style:{width:"150px"},disabled:null==Y,loading:Ce,onClick:function(){De(!0),A.A.post("".concat(g.J,"/api/orders/update_order_state/"),{order_num:u.order_num,order_action:"SUBMIT"===u.current_state.name?"Cancel":"Reject",comment:Y,state:"INCOMPLETE_DELIVERY"===u.current_state.name?"Reject_Incomplete":"Cancel"}).then((function(e){De(!1),200===e.status&&be.push("/sale/received")})).catch((function(e){De(!1),417===e.response.status?Se(e.response.data.error,{variant:"error"}):Se("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))},children:"\u062b\u0628\u062a"})]})})]})}),(0,S.jsx)(K.A,{anchor:"bottom",open:W,handleClose:function(){return L(!1)},title:"\u0627\u0631\u0633\u0627\u0644 \u0633\u0641\u0627\u0631\u0634",content:(0,S.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",padding:"16px 20px",justifyContent:"space-between",gap:"10px",borderRadius:"8px"},children:[(0,S.jsx)(a.A,{children:(0,S.jsxs)(a.A,{sx:{display:"flex",gap:"10px",flexDirection:"column"},children:[(0,S.jsx)(H.A,{style:{fontSize:"14px"},children:"\u0627\u0631\u0633\u0627\u0644 \u0633\u0641\u0627\u0631\u0634 \u062a\u0648\u0633\u0637"}),(0,S.jsxs)(h.A,{fullWidth:!0,orientation:"vertical","aria-label":"vertical contained button group",variant:"contained",sx:{gap:2,boxShadow:"none"},id:"input",children:[(0,S.jsxs)(c.A,{sx:{backgroundColor:"#E6EBF0",border:"1px solid #99AEC5",borderRadius:"4px !important",padding:"12px",height:"48px",fontStyle:"normal",fontWeight:400,fontSize:"16px",lineHeight:"24px",color:"#00346D",fontFamily:"IRANSans","&:hover":{color:"#231F20 !important",backgroundColor:"#DFF2F2 !important",fontWeight:600,fontSize:"16px"}},onClick:function(){O("SUPPLIER")},children:[(0,S.jsx)("img",{src:F.A}),"\u062e\u0648\u062f\u0645"]}),(0,S.jsxs)(c.A,{sx:{backgroundColor:"#E6EBF0",border:"1px solid #99AEC5",borderRadius:"4px !important",padding:"12px",height:"48px",fontStyle:"normal",fontWeight:400,fontSize:"16px",lineHeight:"24px",color:"#00346D",fontFamily:"IRANSans","&:hover":{color:"#231F20 !important",backgroundColor:"#DFF2F2 !important",fontWeight:600,fontSize:"16px"}},onClick:function(){O("SALE_OFFICE")},children:[(0,S.jsx)("img",{src:R.A}),"\u062f\u0641\u062a\u0631 \u0641\u0631\u0648\u0634"]})]})]})}),(0,S.jsx)(p.A,{}),(0,S.jsx)(a.A,{sx:{display:"flex",width:"100%",justifyContent:"flex-end"},children:(0,S.jsxs)(a.A,{sx:{display:"inline-flex",justifyContent:"flex-end",gap:2},children:[(0,S.jsx)(X.A,{disabled:!1,variant:"outlined",style:{width:"150px"},onClick:function(){L(!1)},type:"button",children:"\u0644\u063a\u0648"}),(0,S.jsx)(X.A,{style:{width:"150px"},disabled:null==N,loading:Ce,onClick:function(){De(!0),A.A.post("".concat(g.J,"/api/orders/set_supplier/"),{order_num:u.order_num,supply_by:N}).then((function(e){De(!1),200===e.status&&("SUPPLIER"===N?(Ae(!0),L(!1)):be.push("/sale/received"))})).catch((function(e){De(!1),417===e.response.status?Se(e.response.data.error,{variant:"error"}):Se("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))},children:"\u062b\u0628\u062a"})]})})]})})]})}function fe(e){var t=(0,s.useState)(e.location.pathname.split("/")[4]),n=(0,o.A)(t,2),r=(n[0],n[1]),l=(0,s.useState)(e.location.state.data),a=(0,o.A)(l,2),d=a[0],x=a[1],c=(0,_.useHistory)();return(0,s.useEffect)((function(){r(e.location.pathname.split("/")[4]),x(e.location.state.data)})),console.log("Data2",d),(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(B.A,{sx:{display:"flex",flexDirection:"row",width:"100%",marginTop:"70px",padding:"20px",marginLeft:"140px"},children:(0,S.jsx)(B.A,{sx:{width:"100%",padding:"40px 40px 30px",backgroundColor:"white",height:"100%"},children:(0,S.jsxs)(P.Ay,{container:!0,spacing:2,children:[(0,S.jsxs)(P.Ay,{item:!0,xs:8,children:[(0,S.jsxs)(B.A,{sx:{display:"inline-flex",cursor:"pointer"},onClick:function(){c.push("/sale/received")},children:[(0,S.jsx)(N.A,{color:"#335D8A"}),(0,S.jsx)(H.A,{style:{color:"#335D8A",fontWeight:400,fontSize:"16px"},children:"\u062f\u0631\u06cc\u0627\u0641\u062a\u06cc \u0647\u0627"})]}),(0,S.jsx)(B.A,{children:(0,S.jsx)(ue,(0,i.A)((0,i.A)({},e),{},{data:d}))})]}),(0,S.jsx)(P.Ay,{item:!0,xs:4,children:(0,S.jsx)(T,{data:d})})]})})})})}const he=function(e){var t=(0,r.A)(),n=(0,l.A)(t.breakpoints.down("md"));return(0,S.jsx)(S.Fragment,{children:n?(0,S.jsx)(L,(0,i.A)({},e)):(0,S.jsx)(fe,(0,i.A)({},e))})}}}]);