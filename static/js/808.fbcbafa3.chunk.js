"use strict";(self.webpackChunkbts=self.webpackChunkbts||[]).push([[808],{32533:(e,t,i)=>{i.d(t,{A:()=>a});i(9950);const a=i.p+"static/media/close2.156c019559a9154008590ff719ec156c.svg"},91975:(e,t,i)=>{i.d(t,{A:()=>a});i(9950);const a=i.p+"static/media/done2.104163e80bd81daece1e236fe706f777.svg"},56867:(e,t,i)=>{i.d(t,{A:()=>a});i(9950);const a=i.p+"static/media/smallSize.3bfc770d423f8ec021da964bc5fea4a6.svg"},90808:(e,t,i)=>{i.r(t),i.d(t,{default:()=>D});var a=i(5544),n=i(9950),l=i(95537),r=i(67535),o=i(74745),s=i(41608),d=i(4721),c=i(37072),p=i(46565),x=i(95374),u=i(16673),f=i(32533),h=i(91975),A=i(64467),_=i(18001),g=i(14341),m=i(46483),y=i(60625),j=i(70821),b=i(56867),k=i(29031),S=i(44414),F=(0,j.A)((function(e){return{paper:{borderRadius:"20px 20px 0px 0px",zIndex:999,position:"fixed",bottom:0,minHeight:"40%"}}}));function C(e){var t,i,x,u=(0,n.useState)(null),f=(0,a.A)(u,2),h=f[0],j=f[1],C=(0,n.useState)(!1),D=(0,a.A)(C,2),v=D[0],w=D[1],E=(0,n.useState)(null),R=(0,a.A)(E,2),z=R[0],L=R[1],W=(0,n.useState)("SINGULAR"),I=(0,a.A)(W,2),N=I[0],q=I[1],G=(0,n.useState)(0),B=(0,a.A)(G,2),U=B[0],M=B[1],H=(0,n.useState)(!1),J=(0,a.A)(H,2),T=J[0],P=J[1],K=F(),O=(0,k.dh)().enqueueSnackbar;function Q(){s.A.get("".concat(d.J,"/api/orders/get_order?order_num=").concat(e.orderNum)).then((function(e){200===e.status&&j(e.data)})).catch((function(e){417===e.response.status?O(e.response.data.error,{variant:"error"}):O("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))}return(0,n.useEffect)((function(){Q(),q("SINGULAR")}),[]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(l.A,{style:{position:"relative",marginTop:"10px"},children:h&&(0,S.jsx)(l.A,{children:(0,S.jsx)(l.A,{children:h.products.map((function(e,t){return(0,S.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,S.jsx)("img",{src:e.product_detail.type_detail.images[0].url,width:"36px",height:"36px"}),(0,S.jsxs)(l.A,{sx:{display:"flex",flexDirection:"column",marginBottom:"15px"},children:[(0,S.jsx)(l.A,{sx:{display:"flex"},children:(0,S.jsxs)(l.A,{sx:{display:"inline-flex"},children:[(0,S.jsx)(c.A,{style:{color:"#00346D",fontSize:"12px",fontWeight:400},children:e.product_type.name_translate.item_fa}),(0,S.jsx)(c.A,{style:{color:"#6685A7",fontSize:"12px",fontWeight:200,direction:"ltr"},children:"(".concat(e.product_detail.size,")")})]})}),(0,S.jsx)(l.A,{sx:{display:"flex"},children:(0,S.jsxs)(l.A,{sx:{display:"inline-flex"},children:[(0,S.jsx)(c.A,{style:{color:"#00346D",fontSize:"14px",fontWeight:400},children:e.package_quantity}),(0,S.jsx)(c.A,{style:{color:"#00AAB5",fontSize:"14px",fontWeight:300},children:"x"}),(0,S.jsx)(c.A,{style:{color:"#6685A7",fontSize:"14px",fontWeight:300},children:"SINGULAR"===e.package_type?e.product_detail.singular_package_detail.translate_detail.item_fa:"SMALL"===e.package_type?e.product_detail.small_plural_package_detail.translate_detail.item_fa:e.product_detail.large_plural_package_detail.translate_detail.item_fa})]})})]}),(0,S.jsx)(p.A,{variant:"outlined",style:{borderRadius:"8px",padding:"0px 12px",width:"63px",height:"20px",fontSize:"14px"},onClick:function(){L(e),w(!0)},children:"\u0627\u0646\u062a\u062e\u0627\u0628"})]})}))})})}),(0,S.jsx)(_.Ay,{anchor:"bottom",open:v,onClose:function(){return w(!1)},classes:{paper:K.paper},children:(0,S.jsxs)(l.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",padding:"20px 15px 0px !important",gap:"20px",background:"#FFFFFF",width:"100%"},children:[(0,S.jsxs)(l.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"0px",gap:"10px",width:"100%"},children:[(0,S.jsx)(c.A,{style:{color:"#00346D"},children:"\u062a\u0639\u062f\u0627\u062f \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u062e\u0648\u062f \u0627\u0632 \u0645\u062d\u0635\u0648\u0644 \u0631\u0627 \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f:"}),z&&z.small_plural_package_qty>0&&(0,S.jsxs)(l.A,{style:{display:"inline-flex"},children:[(0,S.jsx)("img",{src:b.A}),(0,S.jsx)(c.A,{style:{fontWeight:500,fontSize:"14px",color:"#00346D"},children:z.product_detail.small_plural_package_qty+" "+z.product_detail.singular_package_detail.translate_detail.item_fa}),(0,S.jsx)(c.A,{style:{fontWeight:400,fontSize:"14px",color:"#335D8A"},children:" \u062f\u0631 "+z.product_detail.small_plural_package_detail.translate_detail.item_fa})]}),z&&z.product_detail.large_plural_package_qty>0&&(0,S.jsxs)(l.A,{style:{display:"inline-flex"},children:[(0,S.jsx)("img",{src:b.A}),(0,S.jsx)(c.A,{style:{fontWeight:500,fontSize:"14px",color:"#00346D"},children:z.product_detail.large_plural_package_qty+" "+z.product_detail.singular_package_detail.translate_detail.item_fa}),(0,S.jsx)(c.A,{style:{fontWeight:400,fontSize:"14px",color:"#335D8A"},children:" \u062f\u0631 "+z.product_detail.large_plural_package_detail.translate_detail.item_fa})]}),(0,S.jsx)(o.A,{color:"#99AEC5"}),(0,S.jsxs)(l.A,{sx:{mt:1,mb:1,width:"100%"},children:[(0,S.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,S.jsx)(c.A,{style:{color:"#A7A5A6"},children:"\u062a\u0639\u062f\u0627\u062f"}),(0,S.jsx)(p.A,{variant:T?"contained":"outlined",style:{borderRadius:"8px",padding:"0px 12px",minWidth:"40px",width:"50px",minHeight:"35px",fontSize:"14px",marginBottom:"5px"},onClick:function(){P(!T)},children:"\u0647\u0645\u0647"})]}),(0,S.jsx)(g.A,{id:"name","aria-describedby":"my-helper-text",fullWidth:!0,placeholder:"\u062a\u0639\u062f\u0627\u062f",sx:{background:"#F2F2F2",borderRadius:"4px",margin:"3px 3px"},value:U,disabled:T,onChange:function(e){return M(e.target.value)},InputProps:{endAdornment:(0,S.jsx)(m.A,{position:"end",tabIndex:-1,children:(0,S.jsx)(c.A,{style:{color:"#335D8A",fontSize:"16px",fontWeight:400},children:z&&"SINGULAR"===N?z.product_detail.singular_package_detail.translate_detail.item_fa:"SMALL"===N?z&&z.product_detail.small_plural_package_qty>0&&z.product_detail.small_plural_package_detail.translate_detail.item_fa:z&&z.product_detail.large_plural_package_qty>0&&z.product_detail.large_plural_package_detail.translate_detail.item_fa})})}})]}),(0,S.jsxs)(l.A,{style:{display:"flex",flexDirection:"column"},children:[(0,S.jsx)(c.A,{style:{fontSize:"14px",fontWeight:400,color:"#7B7979"},children:"\u0648\u0627\u062d\u062f"}),null!==z&&(0,S.jsxs)(y.A,{fullWidth:!0,orientation:"vertical","aria-label":"vertical contained button group",variant:"contained",sx:{gap:2,boxShadow:"none",display:"flex",flexDirection:"row"},id:"input",disabled:T,children:[(0,S.jsx)(r.A,{sx:(t={backgroundColor:"SINGULAR"===N?"#DFF2F2":"#E6EBF0",borderRadius:"4px !important",padding:"10px 12px",height:"48px",fontStyle:"normal",fontWeight:"SINGULAR"===N?600:400,fontSize:"16px",width:"80px"},(0,A.A)(t,"height","44px"),(0,A.A)(t,"color","SINGULAR"===N?"#231F20":"#335D8A"),(0,A.A)(t,"fontFamily","IRANSans"),(0,A.A)(t,"&:hover",{color:"#231F20 !important",backgroundColor:"#DFF2F2 !important",fontWeight:600,fontSize:"16px"}),t),onClick:function(){q("SINGULAR")},children:z.product_detail.singular_package_detail.translate_detail.item_fa}),z.product_detail.small_plural_package_qty>0&&(0,S.jsx)(r.A,{sx:(i={backgroundColor:"SMALL"===N?"#DFF2F2":"#E6EBF0",borderRadius:"4px !important",padding:"10px 12px",height:"48px",fontStyle:"normal",fontWeight:"SMALL"===N?600:400,fontSize:"16px",width:"104px"},(0,A.A)(i,"height","44px"),(0,A.A)(i,"color","SMALL"===N?"#231F20":"#335D8A"),(0,A.A)(i,"fontFamily","IRANSans"),(0,A.A)(i,"&:hover",{color:"#231F20 !important",backgroundColor:"#DFF2F2 !important",fontWeight:600,fontSize:"16px"}),i),onClick:function(){q("SMALL")},children:z.product_detail.small_plural_package_detail.translate_detail.item_fa}),z.product_detail.large_plural_package_qty>0&&(0,S.jsx)(r.A,{sx:(x={backgroundColor:"LARGE"===N?"#DFF2F2":"#E6EBF0",borderRadius:"4px !important",padding:"10px 12px",height:"48px",fontStyle:"normal",fontWeight:"LARGE"===N?600:400,fontSize:"16px",width:"104px"},(0,A.A)(x,"height","44px"),(0,A.A)(x,"color","LARGE"===N?"#231F20":"#335D8A"),(0,A.A)(x,"fontFamily","IRANSans"),(0,A.A)(x,"&:hover",{color:"#231F20 !important",backgroundColor:"#DFF2F2 !important",fontWeight:600,fontSize:"16px"}),x),onClick:function(){q("LARGE")},children:z.product_detail.large_plural_package_detail.translate_detail.item_fa})]})]})]}),(0,S.jsxs)(l.A,{sx:{display:"inline-flex",justifyContent:"space-between",gap:2,width:"100%",height:"76px",borderTop:"0.5px solid #D3D2D2",padding:"12px 16px"},children:[(0,S.jsx)(p.A,{disabled:!1,style:{background:"#FEEEEC",color:"#F4777C",border:"1px solid #FEEEEC",fontSize:"14px"},onClick:function(){w(!1),P(!1),L(null)},children:"\u0644\u063a\u0648"}),(0,S.jsx)(p.A,{disabled:!1,onClick:function(){s.A.post("".concat(d.J,"/api/orders/add_incomplete_delivery/"),{order_num:e.orderNum,code:z.product_detail.code,quantity:U,package:N,all:T}).then((function(e){200===e.status&&(w(!1),L(null),P(!1),Q())})).catch((function(e){417===e.response.status?O(e.response.data.error,{variant:"error"}):O("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))},children:"\u062b\u0628\u062a"})]})]})})]})}function D(e){var t=(0,n.useState)(),i=(0,a.A)(t,2),A=(i[0],i[1],(0,n.useState)(null)),_=(0,a.A)(A,2),g=(_[0],_[1],(0,n.useState)(null)),m=(0,a.A)(g,2),y=m[0],j=m[1],b=(0,n.useState)([]),F=(0,a.A)(b,2),D=(F[0],F[1],(0,u.useHistory)()),v=e.location.state,w=(0,n.useState)(!1),E=(0,a.A)(w,2),R=E[0],z=E[1],L=(0,k.dh)().enqueueSnackbar;return(0,n.useEffect)((function(){}),[y]),(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(l.A,{sx:{display:"flex",flexDirection:"column",padding:"16px 20px",justifyContent:"space-between",height:"inherit",gap:"10px"},children:[(0,S.jsxs)(l.A,{children:[(0,S.jsxs)(l.A,{sx:{display:"inline-flex"},onClick:function(){D.goBack()},children:[(0,S.jsx)(x.A,{color:"#335D8A",width:"15px"}),(0,S.jsx)(c.A,{style:{color:"#335D8A",fontSize:"14px"},children:"\u0628\u0627\u0632\u06af\u0634\u062a"})]}),(0,S.jsxs)(l.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"0px",gap:"10px"},children:[(0,S.jsxs)(r.A,{sx:{background:"no"==y?"#FEEEEC":"#FFF",border:"1px solid #F4777C",borderRadius:"8px",width:"100%"},onClick:function(){j("no")},children:[(0,S.jsx)("img",{src:f.A}),(0,S.jsx)(c.A,{style:{color:"#F14950"},children:"\u0646\u0627\u0642\u0635 \u062a\u062d\u0648\u06cc\u0644 \u06af\u0631\u0641\u062a\u0645"})]},y+1),(0,S.jsxs)(r.A,{sx:{background:"yes"==y?"#DDF5F6":"#FFF",border:"1px solid #00AAB5",borderRadius:"8px",width:"100%"},onClick:function(){j("yes")},children:[(0,S.jsx)("img",{src:h.A}),(0,S.jsx)(c.A,{style:{color:"#00AAB5"},children:"\u062a\u062d\u0648\u06cc\u0644 \u06af\u0631\u0641\u062a\u0645"})]},y+2)]}),(0,S.jsx)(o.A,{}),"no"===y&&(0,S.jsxs)(l.A,{sx:{mt:3},children:[(0,S.jsx)(c.A,{children:"\u0633\u0641\u0627\u0631\u0634\u0627\u062a\u06cc \u06a9\u0647 \u0646\u0627\u0642\u0635 \u0628\u0648\u062f\u0646\u062f \u0631\u0627 \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f:"}),(0,S.jsx)(C,{orderNum:v.order_num})]})]}),(0,S.jsxs)(l.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",width:"100%",position:"fixed",bottom:0,left:0,gap:"10px",mb:2},children:[(0,S.jsx)(p.A,{disabled:!1,variant:"outlined",style:{width:"150px"},onClick:function(){D.goBack()},type:"button",children:"\u0644\u063a\u0648"}),(0,S.jsx)(p.A,{style:{width:"150px"},disabled:null==y,loading:R,onClick:function(){z(!0),s.A.post("".concat(d.J,"/api/orders/update_order_state/"),{order_num:v.order_num,order_action:"yes"===y?"Approve":"Reject",state:"yes"===y?"Complete":"Incomplete"}).then((function(e){z(!1),200===e.status&&D.push("/sale/send")})).catch((function(e){z(!1),417===e.response.status?L(e.response.data.error,{variant:"error"}):L("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))},children:"\u062b\u0628\u062a"})]})]})})}}}]);