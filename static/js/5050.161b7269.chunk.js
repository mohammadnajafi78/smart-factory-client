"use strict";(self.webpackChunkbts=self.webpackChunkbts||[]).push([[5050],{82669:(e,a,t)=>{t.d(a,{A:()=>r});t(9950);const r=t.p+"static/media/attach.ff9a92d492af27efb56122f15c661d9e.svg"},11131:(e,a,t)=>{t.d(a,{A:()=>r});t(9950);const r=t.p+"static/media/delete.c16b753a6f5712bce41f56c8a50d9186.svg"},42669:(e,a,t)=>{t.d(a,{A:()=>k});var r=t(89379),n=t(5544),i=t(80045),l=t(9950),s=t(4139),d=t(14341),o=t(97539),c=t(74745),u=t(95537),p=t(67535),x=t(60172),h=t(13045),_=t(11131),A=t(82669),m=t(82878),g=t(6445),f=t(58926),y=t(34200),b=t(4721),j=t(41608),v=t(29031),F=t(44414),C=["open","handleClose","data","title","type"];function k(e){var a,t,k,T,W=e.open,B=e.handleClose,R=e.data,w=e.title,I=e.type,S=(0,i.A)(e,C),z=(0,l.useState)(null),D=(0,n.A)(z,2),O=D[0],J=D[1],E=(0,l.useState)([]),L=(0,n.A)(E,2),M=L[0],P=L[1],N=(0,v.dh)().enqueueSnackbar;return(0,l.useEffect)((function(){j.A.get("".concat(b.J,"/api/management/product/subcategory/subcategory_title_list/")).then((function(e){200===e.status&&P(e.data)})).catch((function(e){417===e.response.status?N(e.response.data.error,{variant:"error"}):N("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))}),[]),(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(m.A,{open:W,handleClose:B,title:w,content:(0,F.jsx)(g.l1,{initialValues:{name:"edit"===I?R.name:"",subcategory:"edit"===I?R.subcategory_detail.id:"",order:"edit"===I?R.order:"",active_in_catalogue:"edit"!==I||R.active_in_catalogue,active_in_shop:"edit"===I&&R.active_in_shop,active_in_order:"edit"!==I||R.active_in_order,translate_en:"edit"===I?null===R||void 0===R||null===(a=R.name_translate)||void 0===a?void 0:a.item_en:"",translate_fa:"edit"===I?null===R||void 0===R||null===(t=R.name_translate)||void 0===t?void 0:t.item_fa:"",translate_ru:"edit"===I?null===R||void 0===R||null===(k=R.name_translate)||void 0===k?void 0:k.item_ru:"",translate_ar:"edit"===I?null===R||void 0===R||null===(T=R.name_translate)||void 0===T?void 0:T.item_ar:"",images:"edit"===I?R.images:"",size:"edit"===I?R.size:"",detail_fa:"edit"===I?R.detail_translate.item_fa:"",detail_en:"edit"===I?R.detail_translate.item_en:"",detail_ar:"edit"===I?R.detail_translate.item_ar:"",detail_su:"edit"===I?R.detail_translate.item_ru:""},validationSchema:f.Ik().shape({}),onSubmit:function(e,a){a.setErrors;var t=a.setSubmitting;t(!0);var r=new FormData;if(r.append("name",e.name),r.append("subcategory",e.subcategory),r.append("order",e.order),r.append("active_in_catalogue",!0===e.active_in_catalogue?"True":"False"),r.append("active_in_shop",!0===e.active_in_shop?"True":"False"),r.append("active_in_order","True"),r.append("translate_en",e.translate_en),r.append("translate_fa",e.translate_fa),r.append("translate_ru",e.translate_ru),r.append("translate_ar",e.translate_ar),r.append("detail_fa",e.detail_fa),r.append("detail_en",e.detail_en),r.append("detail_ar",e.detail_ar),r.append("detail_ru",e.detail_ru),"new"===I){for(var n=0;n<e.images.length;n++)r.append(n,e.images[n]);j.A.post("".concat(b.J,"/api/management/product/type/add_type/"),r).then((function(e){201===e.status&&(B(),S.reloadData(),t(!1))})).catch((function(e){417===e.response.status?N(e.response.data.error,{variant:"error"}):N("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))}else j.A.patch("".concat(b.J,"/api/management/product/type/").concat(R.id,"/"),r).then((function(e){200===e.status&&(B(),S.setData(e.data),t(!1))})).catch((function(e){417===e.response.status?N(e.response.data.error,{variant:"error"}):N("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}));t(!1)},children:function(e){var a=e.errors,t=(e.handleBlur,e.handleChange),n=e.handleSubmit,i=e.isSubmitting,l=e.setFieldValue,m=e.touched,g=e.values;return(0,F.jsxs)("form",{onSubmit:n,style:{display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"space-between",width:"100%",height:"100%"},children:[(0,F.jsxs)(s.Ay,{container:!0,spacing:2,children:[(0,F.jsxs)(s.Ay,{xs:6,item:!0,children:[(0,F.jsx)(x.A,{style:{color:"#A7A5A6"},children:"\u0646\u0648\u0639"}),(0,F.jsx)(d.A,{id:"name","aria-describedby":"my-helper-text",fullWidth:!0,sx:{background:"#F2F2F2",borderRadius:"4px",margin:"6px 3px"},value:g.name,onChange:t,error:Boolean(m.name&&a.name),helperText:m.name&&a.name})]}),(0,F.jsxs)(s.Ay,{xs:6,item:!0,children:[(0,F.jsx)(x.A,{style:{color:"#A7A5A6",marginBottom:"6px"},children:"\u0632\u06cc\u0631 \u062f\u0633\u062a\u0647"}),M.length>0&&(0,F.jsx)(o.A,{disablePortal:!0,fullWidth:!0,options:M,value:M.filter((function(e){return e.id===g.subcategory}))[0],getOptionLabel:function(e){return e.name},renderInput:function(e){return(0,F.jsx)(d.A,(0,r.A)((0,r.A)({},e),{},{placeholder:"\u0632\u06cc\u0631 \u062f\u0633\u062a\u0647",fullWidth:!0,id:"subCategory",error:Boolean(m.subCategory&&a.subCategory),helperText:m.subCategory&&a.subCategory}))},onChange:function(e,a){a&&l("subcategory",a.id)},sx:{".MuiOutlinedInput-root":{padding:"5px"}},noOptionsText:"\u0645\u0648\u0631\u062f\u06cc \u06cc\u0627\u0641\u062a \u0646\u0634\u062f"})]}),(0,F.jsxs)(s.Ay,{xs:6,item:!0,children:[(0,F.jsx)(x.A,{style:{color:"#A7A5A6"},children:"\u062a\u0631\u062c\u0645\u0647 \u0641\u0627\u0631\u0633\u06cc"}),(0,F.jsx)(d.A,{id:"translate_fa","aria-describedby":"my-helper-text",fullWidth:!0,sx:{background:"#F2F2F2",borderRadius:"4px",margin:"6px 3px"},value:g.translate_fa,onChange:t,error:Boolean(m.translate_fa&&a.translate_fa),helperText:m.translate_fa&&a.translate_fa})]}),(0,F.jsxs)(s.Ay,{xs:6,item:!0,children:[(0,F.jsx)(x.A,{style:{color:"#A7A5A6"},children:"\u062a\u0631\u062c\u0645\u0647 \u0627\u0646\u06af\u0644\u06cc\u0633\u06cc"}),(0,F.jsx)(d.A,{id:"translate_en","aria-describedby":"my-helper-text",fullWidth:!0,sx:{background:"#F2F2F2",borderRadius:"4px",margin:"6px 3px"},value:g.translate_en,onChange:t,error:Boolean(m.translate_en&&a.translate_en),helperText:m.translate_en&&a.translate_en})]}),(0,F.jsxs)(s.Ay,{xs:6,item:!0,children:[(0,F.jsx)(x.A,{style:{color:"#A7A5A6"},children:"\u062a\u0631\u062c\u0645\u0647 \u0639\u0631\u0628\u06cc"}),(0,F.jsx)(d.A,{id:"translate_ar","aria-describedby":"my-helper-text",fullWidth:!0,sx:{background:"#F2F2F2",borderRadius:"4px",margin:"6px 3px"},value:g.translate_ar,onChange:t,error:Boolean(m.translate_ar&&a.translate_ar),helperText:m.translate_ar&&a.translate_ar})]}),(0,F.jsxs)(s.Ay,{xs:6,item:!0,children:[(0,F.jsx)(x.A,{style:{color:"#A7A5A6"},children:"\u062a\u0631\u062c\u0645\u0647 \u0631\u0648\u0633\u06cc"}),(0,F.jsx)(d.A,{id:"translate_ru","aria-describedby":"my-helper-text",fullWidth:!0,sx:{background:"#F2F2F2",borderRadius:"4px",margin:"6px 3px"},value:g.translate_ru,onChange:t,error:Boolean(m.translate_ru&&a.translate_ru),helperText:m.translate_ru&&a.translate_ru})]}),(0,F.jsxs)(s.Ay,{xs:6,item:!0,children:[(0,F.jsx)(x.A,{style:{color:"#A7A5A6"},children:"\u062a\u0631\u062a\u06cc\u0628 \u0646\u0645\u0627\u06cc\u0634"}),(0,F.jsx)(d.A,{id:"order","aria-describedby":"my-helper-text",fullWidth:!0,sx:{background:"#F2F2F2",borderRadius:"4px",margin:"6px 3px"},value:g.order,onChange:t,error:Boolean(m.order&&a.order),helperText:m.order&&a.order,type:"number"})]}),(0,F.jsxs)(s.Ay,{xs:6,item:!0,children:[(0,F.jsx)(x.A,{style:{color:"#A7A5A6"},children:"\u0633\u0627\u06cc\u0632"}),(0,F.jsx)(d.A,{id:"size","aria-describedby":"my-helper-text",fullWidth:!0,sx:{background:"#F2F2F2",borderRadius:"4px",margin:"6px 3px"},value:g.size,onChange:t,error:Boolean(m.size&&a.size),helperText:m.size&&a.size})]}),(0,F.jsx)(c.A,{sx:{marginBottom:"20px"}}),(0,F.jsxs)(s.Ay,{xs:6,item:!0,children:[(0,F.jsx)(x.A,{style:{color:"#A7A5A6"},children:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a"}),(0,F.jsx)(d.A,{id:"detail_fa","aria-describedby":"my-helper-text",fullWidth:!0,sx:{background:"#F2F2F2",borderRadius:"4px",margin:"6px 3px"},value:g.detail_fa,onChange:t,error:Boolean(m.detail_fa&&a.detail_fa),helperText:m.detail_fa&&a.detail_fa})]}),(0,F.jsxs)(s.Ay,{xs:6,item:!0,children:[(0,F.jsx)(x.A,{style:{color:"#A7A5A6"},children:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u0627\u0646\u06af\u0644\u06cc\u0633\u06cc"}),(0,F.jsx)(d.A,{id:"detail_en","aria-describedby":"my-helper-text",fullWidth:!0,sx:{background:"#F2F2F2",borderRadius:"4px",margin:"6px 3px"},value:g.detail_en,onChange:t,error:Boolean(m.detail_en&&a.detail_en),helperText:m.detail_en&&a.detail_en})]}),(0,F.jsxs)(s.Ay,{xs:6,item:!0,children:[(0,F.jsx)(x.A,{style:{color:"#A7A5A6"},children:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u0639\u0631\u0628\u06cc"}),(0,F.jsx)(d.A,{id:"detail_ar","aria-describedby":"my-helper-text",fullWidth:!0,sx:{background:"#F2F2F2",borderRadius:"4px",margin:"6px 3px"},value:g.detail_ar,onChange:t,error:Boolean(m.detail_ar&&a.detail_ar),helperText:m.detail_ar&&a.detail_ar})]}),(0,F.jsxs)(s.Ay,{xs:6,item:!0,children:[(0,F.jsx)(x.A,{style:{color:"#A7A5A6"},children:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u0631\u0648\u0633\u06cc"}),(0,F.jsx)(d.A,{id:"detail_ru","aria-describedby":"my-helper-text",fullWidth:!0,sx:{background:"#F2F2F2",borderRadius:"4px",margin:"6px 3px"},value:g.detail_ru,onChange:t,error:Boolean(m.detail_ru&&a.detail_ru),helperText:m.detail_ru&&a.detail_ru})]}),(0,F.jsx)(c.A,{sx:{marginBottom:"20px"}}),(0,F.jsxs)(s.Ay,{xs:6,item:!0,children:[(0,F.jsx)(x.A,{style:{color:"#A7A5A6"},children:"\u062f\u0631 \u06a9\u0627\u062a\u0627\u0644\u0648\u06af"}),(0,F.jsx)(o.A,{disablePortal:!0,fullWidth:!0,options:[{key:!1,label:"\u063a\u06cc\u0631 \u0641\u0639\u0627\u0644"},{key:!0,label:"\u0641\u0639\u0627\u0644"}],value:[{key:!1,label:"\u063a\u06cc\u0631 \u0641\u0639\u0627\u0644"},{key:!0,label:"\u0641\u0639\u0627\u0644"}].filter((function(e){return e.key==g.active_in_catalogue}))[0],renderInput:function(e){return(0,F.jsx)(d.A,(0,r.A)((0,r.A)({},e),{},{placeholder:"\u062f\u0631 \u06a9\u0627\u062a\u0627\u0644\u0648\u06af",fullWidth:!0,id:"active_in_catalogue",error:Boolean(m.active_in_catalogue&&a.active_in_catalogue),helperText:m.active_in_catalogue&&a.active_in_catalogue}))},onChange:function(e,a){a&&l("active_in_catalogue",a.key)},sx:{".MuiOutlinedInput-root":{padding:"5px"}},noOptionsText:"\u0645\u0648\u0631\u062f\u06cc \u06cc\u0627\u0641\u062a \u0646\u0634\u062f"})]}),(0,F.jsxs)(s.Ay,{xs:6,item:!0,children:[(0,F.jsx)(x.A,{style:{color:"#A7A5A6"},children:"\u062f\u0631 \u0641\u0631\u0648\u0634\u06af\u0627\u0647"}),(0,F.jsx)(o.A,{disablePortal:!0,fullWidth:!0,options:[{key:!1,label:"\u063a\u06cc\u0631 \u0641\u0639\u0627\u0644"},{key:!0,label:"\u0641\u0639\u0627\u0644"}],renderInput:function(e){return(0,F.jsx)(d.A,(0,r.A)((0,r.A)({},e),{},{placeholder:"\u062f\u0631 \u0641\u0631\u0648\u0634\u06af\u0627\u0647",fullWidth:!0,id:"active_in_shop",error:Boolean(m.active_in_shop&&a.active_in_shop),helperText:m.active_in_shop&&a.active_in_shop}))},value:[{key:!1,label:"\u063a\u06cc\u0631 \u0641\u0639\u0627\u0644"},{key:!0,label:"\u0641\u0639\u0627\u0644"}].filter((function(e){return e.key==g.active_in_shop}))[0],onChange:function(e,a){a&&l("active_in_shop",a.key)},sx:{".MuiOutlinedInput-root":{padding:"5px"}},noOptionsText:"\u0645\u0648\u0631\u062f\u06cc \u06cc\u0627\u0641\u062a \u0646\u0634\u062f"})]}),"new"===I&&(0,F.jsxs)(s.Ay,{xs:6,item:!0,children:[(0,F.jsx)(x.A,{style:{color:"#A7A5A6"},children:"\u0639\u06a9\u0633 \u062f\u0633\u062a\u0647"}),(0,F.jsxs)(h.A,{disabled:!1,variant:"outlined",component:"label",onChange:function(e){l("images",e.target.files)},children:[(0,F.jsx)(y.A,{}),"\u0622\u067e\u0644\u0648\u062f \u0641\u0627\u06cc\u0644",(0,F.jsx)("input",{type:"file",hidden:!0,multiple:!0})]})]}),g.images.length>0&&"edit"===I&&(0,F.jsxs)(s.Ay,{xs:12,item:!0,children:[(0,F.jsx)(x.A,{style:{color:"#A7A5A6"},children:"\u0639\u06a9\u0633 \u062f\u0633\u062a\u0647"}),(0,F.jsx)(u.A,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)"},children:g.images.map((function(e,a){return(0,F.jsxs)(u.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"20px 0px 5px",gap:"20px",border:"2px dashed #99DDE1",borderRadius:"4px",margin:"20px"},children:[(0,F.jsx)("img",{src:null!==O?URL.createObjectURL(O):e.url,width:"120px",style:{borderRadius:"8px",margin:"10px"}}),(0,F.jsxs)(u.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-around",width:"100%"},children:[(0,F.jsxs)(p.A,{sx:{fontFamily:"IRANSans",fontSize:"16px",fontWeight:400},onClick:function(){j.A.delete("".concat(b.J,"/api/management/product/image/").concat(e.id,"/")).then((function(e){200===e.status&&(l("images",e.data),S.setImages(e.data))})).catch((function(e){417===e.response.status?N(e.response.data.error,{variant:"error"}):N("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))},children:[(0,F.jsx)("img",{src:_.A,width:"13px",height:"13px"}),"\u067e\u0627\u06a9 \u06a9\u0631\u062f\u0646"]}),(0,F.jsxs)(p.A,{sx:{fontFamily:"IRANSans",fontSize:"16px",fontWeight:400},component:"label",onChange:function(a){var t=new FormData;J(a.target.files[0]),t.append("image",a.target.files[0]),j.A.patch("".concat(b.J,"/api/management/product/image/").concat(e.id,"/"),t).then((function(e){200===e.status&&(l("images",e.data),S.setImages(e.data))})).catch((function(e){417===e.response.status?N(e.response.data.error,{variant:"error"}):N("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647! \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u0633\u0639\u06cc \u06a9\u0646\u06cc\u062f",{variant:"error"})}))},children:[(0,F.jsx)("img",{src:A.A,width:"13px",height:"20px"}),"\u062a\u063a\u06cc\u06cc\u0631 \u0641\u0627\u06cc\u0644",(0,F.jsx)("input",{type:"file",hidden:!0,multiple:!1})]})]})]})}))})]})]}),(0,F.jsx)(c.A,{sx:{m:2}}),(0,F.jsxs)(u.A,{sx:{display:"inline-flex",justifyContent:"center",gap:2,padding:"0px",margin:0,width:"100%"},children:[(0,F.jsx)(h.A,{variant:"outlined",onClick:function(){B()},type:"button",style:{width:"150px"},children:"\u0644\u063a\u0648"}),(0,F.jsx)(h.A,{disabled:i,loading:i,style:{width:"150px"},children:"\u0630\u062e\u06cc\u0631\u0647 \u0627\u0637\u0644\u0627\u0639\u0627\u062a"})]})]})}})})})}}}]);